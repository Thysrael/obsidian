/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var cb=Object.create;var ni=Object.defineProperty;var fb=Object.getOwnPropertyDescriptor;var db=Object.getOwnPropertyNames;var hb=Object.getPrototypeOf,pb=Object.prototype.hasOwnProperty;var r=(t,e)=>ni(t,"name",{value:e,configurable:!0});var W=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Kc=(t,e)=>{for(var n in e)ni(t,n,{get:e[n],enumerable:!0})},Xc=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of db(e))!pb.call(t,o)&&o!==n&&ni(t,o,{get:()=>e[o],enumerable:!(i=fb(e,o))||i.enumerable});return t};var De=(t,e,n)=>(n=t!=null?cb(hb(t)):{},Xc(e||!t||!t.__esModule?ni(n,"default",{value:t,enumerable:!0}):n,t)),mb=t=>Xc(ni({},"__esModule",{value:!0}),t);var rn=W((ja,cr)=>{(function(t,e){typeof ja=="object"&&typeof cr<"u"?cr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(ja,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}r(e,"hooks");function n(s){t=s}r(n,"setHookCallback");function i(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}r(i,"isArray");function o(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}r(o,"isObject");function a(s,u){return Object.prototype.hasOwnProperty.call(s,u)}r(a,"hasOwnProp");function l(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var u;for(u in s)if(a(s,u))return!1;return!0}r(l,"isObjectEmpty");function c(s){return s===void 0}r(c,"isUndefined");function f(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}r(f,"isNumber");function p(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}r(p,"isDate");function h(s,u){var d=[],m,b=s.length;for(m=0;m<b;++m)d.push(u(s[m],m));return d}r(h,"map");function g(s,u){for(var d in u)a(u,d)&&(s[d]=u[d]);return a(u,"toString")&&(s.toString=u.toString),a(u,"valueOf")&&(s.valueOf=u.valueOf),s}r(g,"extend");function w(s,u,d,m){return Tc(s,u,d,m,!0).utc()}r(w,"createUTC");function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}r(y,"defaultParsingFlags");function E(s){return s._pf==null&&(s._pf=y()),s._pf}r(E,"getParsingFlags");var x;Array.prototype.some?x=Array.prototype.some:x=r(function(s){var u=Object(this),d=u.length>>>0,m;for(m=0;m<d;m++)if(m in u&&s.call(this,u[m],m,u))return!0;return!1},"some");function F(s){var u=null,d=!1,m=s._d&&!isNaN(s._d.getTime());if(m&&(u=E(s),d=x.call(u.parsedDateParts,function(b){return b!=null}),m=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d),s._strict&&(m=m&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=m;else return m;return s._isValid}r(F,"isValid");function C(s){var u=w(NaN);return s!=null?g(E(u),s):E(u).userInvalidated=!0,u}r(C,"createInvalid");var I=e.momentProperties=[],_=!1;function U(s,u){var d,m,b,A=I.length;if(c(u._isAMomentObject)||(s._isAMomentObject=u._isAMomentObject),c(u._i)||(s._i=u._i),c(u._f)||(s._f=u._f),c(u._l)||(s._l=u._l),c(u._strict)||(s._strict=u._strict),c(u._tzm)||(s._tzm=u._tzm),c(u._isUTC)||(s._isUTC=u._isUTC),c(u._offset)||(s._offset=u._offset),c(u._pf)||(s._pf=E(u)),c(u._locale)||(s._locale=u._locale),A>0)for(d=0;d<A;d++)m=I[d],b=u[m],c(b)||(s[m]=b);return s}r(U,"copyConfig");function z(s){U(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,e.updateOffset(this),_=!1)}r(z,"Moment");function S(s){return s instanceof z||s!=null&&s._isAMomentObject!=null}r(S,"isMoment");function te(s){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+s)}r(te,"warn");function Z(s,u){var d=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,s),d){var m=[],b,A,T,R=arguments.length;for(A=0;A<R;A++){if(b="",typeof arguments[A]=="object"){b+=`
[`+A+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[A];m.push(b)}te(s+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}r(Z,"deprecate");var J={};function le(s,u){e.deprecationHandler!=null&&e.deprecationHandler(s,u),J[s]||(te(u),J[s]=!0)}r(le,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function de(s){return typeof Function<"u"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}r(de,"isFunction");function oe(s){var u,d;for(d in s)a(s,d)&&(u=s[d],de(u)?this[d]=u:this["_"+d]=u);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}r(oe,"set");function Y(s,u){var d=g({},s),m;for(m in u)a(u,m)&&(o(s[m])&&o(u[m])?(d[m]={},g(d[m],s[m]),g(d[m],u[m])):u[m]!=null?d[m]=u[m]:delete d[m]);for(m in s)a(s,m)&&!a(u,m)&&o(s[m])&&(d[m]=g({},d[m]));return d}r(Y,"mergeConfigs");function q(s){s!=null&&this.set(s)}r(q,"Locale");var H;Object.keys?H=Object.keys:H=r(function(s){var u,d=[];for(u in s)a(s,u)&&d.push(u);return d},"keys");var se={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function be(s,u,d){var m=this._calendar[s]||this._calendar.sameElse;return de(m)?m.call(u,d):m}r(be,"calendar");function ke(s,u,d){var m=""+Math.abs(s),b=u-m.length,A=s>=0;return(A?d?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}r(ke,"zeroFill");var it=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Be={},$e={};function k(s,u,d,m){var b=m;typeof m=="string"&&(b=r(function(){return this[m]()},"func")),s&&($e[s]=b),u&&($e[u[0]]=function(){return ke(b.apply(this,arguments),u[1],u[2])}),d&&($e[d]=function(){return this.localeData().ordinal(b.apply(this,arguments),s)})}r(k,"addFormatToken");function qe(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}r(qe,"removeFormattingTokens");function Gt(s){var u=s.match(it),d,m;for(d=0,m=u.length;d<m;d++)$e[u[d]]?u[d]=$e[u[d]]:u[d]=qe(u[d]);return function(b){var A="",T;for(T=0;T<m;T++)A+=de(u[T])?u[T].call(b,s):u[T];return A}}r(Gt,"makeFormatFunction");function wn(s,u){return s.isValid()?(u=Mn(u,s.localeData()),Be[u]=Be[u]||Gt(u),Be[u](s)):s.localeData().invalidDate()}r(wn,"formatMoment");function Mn(s,u){var d=5;function m(b){return u.longDateFormat(b)||b}for(r(m,"replaceLongDateFormatTokens"),v.lastIndex=0;d>=0&&v.test(s);)s=s.replace(v,m),v.lastIndex=0,d-=1;return s}r(Mn,"expandFormat");var Se={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Dn(s){var u=this._longDateFormat[s],d=this._longDateFormat[s.toUpperCase()];return u||!d?u:(this._longDateFormat[s]=d.match(it).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[s])}r(Dn,"longDateFormat");var Tt="Invalid date";function qt(){return this._invalidDate}r(qt,"invalidDate");var yn="%d",Gr=/\d{1,2}/;function xa(s){return this._ordinal.replace("%d",s)}r(xa,"ordinal");var Yi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ui(s,u,d,m){var b=this._relativeTime[d];return de(b)?b(s,u,d,m):b.replace(/%d/i,s)}r(Ui,"relativeTime");function Wi(s,u){var d=this._relativeTime[s>0?"future":"past"];return de(d)?d(u):d.replace(/%s/i,u)}r(Wi,"pastFuture");var zi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function je(s){return typeof s=="string"?zi[s]||zi[s.toLowerCase()]:void 0}r(je,"normalizeUnits");function nr(s){var u={},d,m;for(m in s)a(s,m)&&(d=je(m),d&&(u[d]=s[m]));return u}r(nr,"normalizeObjectUnits");var Ta={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Sa(s){var u=[],d;for(d in s)a(s,d)&&u.push({unit:d,priority:Ta[d]});return u.sort(function(m,b){return m.priority-b.priority}),u}r(Sa,"getPrioritizedUnits");var Hi=/\d/,Ke=/\d\d/,Gi=/\d{3}/,P=/\d{4}/,M=/[+-]?\d{6}/,D=/\d\d?/,Q=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,Ve=/\d{1,3}/,St=/\d{1,4}/,ot=/[+-]?\d{1,6}/,mt=/\d+/,Lt=/[+-]?\d+/,Xe=/Z|[+-]\d\d:?\d\d/gi,Ft=/Z|[+-]\d\d(?::?\d\d)?/gi,Pt=/[+-]?\d+(\.\d{1,3})?/,qr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rr=/^[1-9]\d?/,Fa=/^([1-9]\d|\d)/,qi;qi={};function B(s,u,d){qi[s]=de(u)?u:function(m,b){return m&&d?d:u}}r(B,"addRegexToken");function _g(s,u){return a(qi,s)?qi[s](u._strict,u._locale):new RegExp(Og(s))}r(_g,"getParseRegexForToken");function Og(s){return jt(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,m,b,A){return d||m||b||A}))}r(Og,"unescapeFormat");function jt(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}r(jt,"regexEscape");function gt(s){return s<0?Math.ceil(s)||0:Math.floor(s)}r(gt,"absFloor");function ne(s){var u=+s,d=0;return u!==0&&isFinite(u)&&(d=gt(u)),d}r(ne,"toInt");var Pa={};function fe(s,u){var d,m=u,b;for(typeof s=="string"&&(s=[s]),f(u)&&(m=r(function(A,T){T[u]=ne(A)},"func")),b=s.length,d=0;d<b;d++)Pa[s[d]]=m}r(fe,"addParseToken");function jr(s,u){fe(s,function(d,m,b,A){b._w=b._w||{},u(d,b._w,b,A)})}r(jr,"addWeekParseToken");function Mg(s,u,d){u!=null&&a(Pa,s)&&Pa[s](u,d._a,d,s)}r(Mg,"addTimeToArrayFromToken");function ji(s){return s%4===0&&s%100!==0||s%400===0}r(ji,"isLeapYear");var Ye=0,Kt=1,Nt=2,Fe=3,It=4,Xt=5,Rn=6,Dg=7,Rg=8;k("Y",0,0,function(){var s=this.year();return s<=9999?ke(s,4):"+"+s}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),B("Y",Lt),B("YY",D,Ke),B("YYYY",St,P),B("YYYYY",ot,M),B("YYYYYY",ot,M),fe(["YYYYY","YYYYYY"],Ye),fe("YYYY",function(s,u){u[Ye]=s.length===2?e.parseTwoDigitYear(s):ne(s)}),fe("YY",function(s,u){u[Ye]=e.parseTwoDigitYear(s)}),fe("Y",function(s,u){u[Ye]=parseInt(s,10)});function Kr(s){return ji(s)?366:365}r(Kr,"daysInYear"),e.parseTwoDigitYear=function(s){return ne(s)+(ne(s)>68?1900:2e3)};var cc=ir("FullYear",!0);function Lg(){return ji(this.year())}r(Lg,"getIsLeapYear");function ir(s,u){return function(d){return d!=null?(fc(this,s,d),e.updateOffset(this,u),this):Xr(this,s)}}r(ir,"makeGetSet");function Xr(s,u){if(!s.isValid())return NaN;var d=s._d,m=s._isUTC;switch(u){case"Milliseconds":return m?d.getUTCMilliseconds():d.getMilliseconds();case"Seconds":return m?d.getUTCSeconds():d.getSeconds();case"Minutes":return m?d.getUTCMinutes():d.getMinutes();case"Hours":return m?d.getUTCHours():d.getHours();case"Date":return m?d.getUTCDate():d.getDate();case"Day":return m?d.getUTCDay():d.getDay();case"Month":return m?d.getUTCMonth():d.getMonth();case"FullYear":return m?d.getUTCFullYear():d.getFullYear();default:return NaN}}r(Xr,"get");function fc(s,u,d){var m,b,A,T,R;if(!(!s.isValid()||isNaN(d))){switch(m=s._d,b=s._isUTC,u){case"Milliseconds":return void(b?m.setUTCMilliseconds(d):m.setMilliseconds(d));case"Seconds":return void(b?m.setUTCSeconds(d):m.setSeconds(d));case"Minutes":return void(b?m.setUTCMinutes(d):m.setMinutes(d));case"Hours":return void(b?m.setUTCHours(d):m.setHours(d));case"Date":return void(b?m.setUTCDate(d):m.setDate(d));case"FullYear":break;default:return}A=d,T=s.month(),R=s.date(),R=R===29&&T===1&&!ji(A)?28:R,b?m.setUTCFullYear(A,T,R):m.setFullYear(A,T,R)}}r(fc,"set$1");function Ng(s){return s=je(s),de(this[s])?this[s]():this}r(Ng,"stringGet");function Bg(s,u){if(typeof s=="object"){s=nr(s);var d=Sa(s),m,b=d.length;for(m=0;m<b;m++)this[d[m].unit](s[d[m].unit])}else if(s=je(s),de(this[s]))return this[s](u);return this}r(Bg,"stringSet");function $g(s,u){return(s%u+u)%u}r($g,"mod");var Ee;Array.prototype.indexOf?Ee=Array.prototype.indexOf:Ee=r(function(s){var u;for(u=0;u<this.length;++u)if(this[u]===s)return u;return-1},"indexOf");function Ia(s,u){if(isNaN(s)||isNaN(u))return NaN;var d=$g(u,12);return s+=(u-d)/12,d===1?ji(s)?29:28:31-d%7%2}r(Ia,"daysInMonth"),k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)}),k("MMMM",0,0,function(s){return this.localeData().months(this,s)}),B("M",D,rr),B("MM",D,Ke),B("MMM",function(s,u){return u.monthsShortRegex(s)}),B("MMMM",function(s,u){return u.monthsRegex(s)}),fe(["M","MM"],function(s,u){u[Kt]=ne(s)-1}),fe(["MMM","MMMM"],function(s,u,d,m){var b=d._locale.monthsParse(s,m,d._strict);b!=null?u[Kt]=b:E(d).invalidMonth=s});var Vg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Yg=qr,Ug=qr;function Wg(s,u){return s?i(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||hc).test(u)?"format":"standalone"][s.month()]:i(this._months)?this._months:this._months.standalone}r(Wg,"localeMonths");function zg(s,u){return s?i(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[hc.test(u)?"format":"standalone"][s.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}r(zg,"localeMonthsShort");function Hg(s,u,d){var m,b,A,T=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)A=w([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(A,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(A,"").toLocaleLowerCase();return d?u==="MMM"?(b=Ee.call(this._shortMonthsParse,T),b!==-1?b:null):(b=Ee.call(this._longMonthsParse,T),b!==-1?b:null):u==="MMM"?(b=Ee.call(this._shortMonthsParse,T),b!==-1?b:(b=Ee.call(this._longMonthsParse,T),b!==-1?b:null)):(b=Ee.call(this._longMonthsParse,T),b!==-1?b:(b=Ee.call(this._shortMonthsParse,T),b!==-1?b:null))}r(Hg,"handleStrictParse");function Gg(s,u,d){var m,b,A;if(this._monthsParseExact)return Hg.call(this,s,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=w([2e3,m]),d&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!d&&!this._monthsParse[m]&&(A="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(A.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[m].test(s))return m;if(d&&u==="MMM"&&this._shortMonthsParse[m].test(s))return m;if(!d&&this._monthsParse[m].test(s))return m}}r(Gg,"localeMonthsParse");function pc(s,u){if(!s.isValid())return s;if(typeof u=="string"){if(/^\d+$/.test(u))u=ne(u);else if(u=s.localeData().monthsParse(u),!f(u))return s}var d=u,m=s.date();return m=m<29?m:Math.min(m,Ia(s.year(),d)),s._isUTC?s._d.setUTCMonth(d,m):s._d.setMonth(d,m),s}r(pc,"setMonth");function mc(s){return s!=null?(pc(this,s),e.updateOffset(this,!0),this):Xr(this,"Month")}r(mc,"getSetMonth");function qg(){return Ia(this.year(),this.month())}r(qg,"getDaysInMonth");function jg(s){return this._monthsParseExact?(a(this,"_monthsRegex")||gc.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Yg),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}r(jg,"monthsShortRegex");function Kg(s){return this._monthsParseExact?(a(this,"_monthsRegex")||gc.call(this),s?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ug),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}r(Kg,"monthsRegex");function gc(){function s(G,re){return re.length-G.length}r(s,"cmpLenRev");var u=[],d=[],m=[],b,A,T,R;for(b=0;b<12;b++)A=w([2e3,b]),T=jt(this.monthsShort(A,"")),R=jt(this.months(A,"")),u.push(T),d.push(R),m.push(R),m.push(T);u.sort(s),d.sort(s),m.sort(s),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(gc,"computeMonthsParse");function Xg(s,u,d,m,b,A,T){var R;return s<100&&s>=0?(R=new Date(s+400,u,d,m,b,A,T),isFinite(R.getFullYear())&&R.setFullYear(s)):R=new Date(s,u,d,m,b,A,T),R}r(Xg,"createDate");function Zr(s){var u,d;return s<100&&s>=0?(d=Array.prototype.slice.call(arguments),d[0]=s+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(s)):u=new Date(Date.UTC.apply(null,arguments)),u}r(Zr,"createUTCDate");function Ki(s,u,d){var m=7+u-d,b=(7+Zr(s,0,m).getUTCDay()-u)%7;return-b+m-1}r(Ki,"firstWeekOffset");function wc(s,u,d,m,b){var A=(7+d-m)%7,T=Ki(s,m,b),R=1+7*(u-1)+A+T,G,re;return R<=0?(G=s-1,re=Kr(G)+R):R>Kr(s)?(G=s+1,re=R-Kr(s)):(G=s,re=R),{year:G,dayOfYear:re}}r(wc,"dayOfYearFromWeeks");function Jr(s,u,d){var m=Ki(s.year(),u,d),b=Math.floor((s.dayOfYear()-m-1)/7)+1,A,T;return b<1?(T=s.year()-1,A=b+Zt(T,u,d)):b>Zt(s.year(),u,d)?(A=b-Zt(s.year(),u,d),T=s.year()+1):(T=s.year(),A=b),{week:A,year:T}}r(Jr,"weekOfYear");function Zt(s,u,d){var m=Ki(s,u,d),b=Ki(s+1,u,d);return(Kr(s)-m+b)/7}r(Zt,"weeksInYear"),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),B("w",D,rr),B("ww",D,Ke),B("W",D,rr),B("WW",D,Ke),jr(["w","ww","W","WW"],function(s,u,d,m){u[m.substr(0,1)]=ne(s)});function Zg(s){return Jr(s,this._week.dow,this._week.doy).week}r(Zg,"localeWeek");var Jg={dow:0,doy:6};function Qg(){return this._week.dow}r(Qg,"localeFirstDayOfWeek");function e0(){return this._week.doy}r(e0,"localeFirstDayOfYear");function t0(s){var u=this.localeData().week(this);return s==null?u:this.add((s-u)*7,"d")}r(t0,"getSetWeek");function n0(s){var u=Jr(this,1,4).week;return s==null?u:this.add((s-u)*7,"d")}r(n0,"getSetISOWeek"),k("d",0,"do","day"),k("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)}),k("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)}),k("dddd",0,0,function(s){return this.localeData().weekdays(this,s)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),B("d",D),B("e",D),B("E",D),B("dd",function(s,u){return u.weekdaysMinRegex(s)}),B("ddd",function(s,u){return u.weekdaysShortRegex(s)}),B("dddd",function(s,u){return u.weekdaysRegex(s)}),jr(["dd","ddd","dddd"],function(s,u,d,m){var b=d._locale.weekdaysParse(s,m,d._strict);b!=null?u.d=b:E(d).invalidWeekday=s}),jr(["d","e","E"],function(s,u,d,m){u[m]=ne(s)});function r0(s,u){return typeof s!="string"?s:isNaN(s)?(s=u.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}r(r0,"parseWeekday");function i0(s,u){return typeof s=="string"?u.weekdaysParse(s)%7||7:isNaN(s)?null:s}r(i0,"parseIsoWeekday");function _a(s,u){return s.slice(u,7).concat(s.slice(0,u))}r(_a,"shiftWeekdays");var o0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),s0="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),a0=qr,l0=qr,u0=qr;function c0(s,u){var d=i(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return s===!0?_a(d,this._week.dow):s?d[s.day()]:d}r(c0,"localeWeekdays");function f0(s){return s===!0?_a(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}r(f0,"localeWeekdaysShort");function d0(s){return s===!0?_a(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}r(d0,"localeWeekdaysMin");function h0(s,u,d){var m,b,A,T=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)A=w([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(A,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(A,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(A,"").toLocaleLowerCase();return d?u==="dddd"?(b=Ee.call(this._weekdaysParse,T),b!==-1?b:null):u==="ddd"?(b=Ee.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=Ee.call(this._minWeekdaysParse,T),b!==-1?b:null):u==="dddd"?(b=Ee.call(this._weekdaysParse,T),b!==-1||(b=Ee.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=Ee.call(this._minWeekdaysParse,T),b!==-1?b:null)):u==="ddd"?(b=Ee.call(this._shortWeekdaysParse,T),b!==-1||(b=Ee.call(this._weekdaysParse,T),b!==-1)?b:(b=Ee.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=Ee.call(this._minWeekdaysParse,T),b!==-1||(b=Ee.call(this._weekdaysParse,T),b!==-1)?b:(b=Ee.call(this._shortWeekdaysParse,T),b!==-1?b:null))}r(h0,"handleStrictParse$1");function p0(s,u,d){var m,b,A;if(this._weekdaysParseExact)return h0.call(this,s,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=w([2e3,1]).day(m),d&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(A="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(A.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[m].test(s))return m;if(d&&u==="ddd"&&this._shortWeekdaysParse[m].test(s))return m;if(d&&u==="dd"&&this._minWeekdaysParse[m].test(s))return m;if(!d&&this._weekdaysParse[m].test(s))return m}}r(p0,"localeWeekdaysParse");function m0(s){if(!this.isValid())return s!=null?this:NaN;var u=Xr(this,"Day");return s!=null?(s=r0(s,this.localeData()),this.add(s-u,"d")):u}r(m0,"getSetDayOfWeek");function g0(s){if(!this.isValid())return s!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return s==null?u:this.add(s-u,"d")}r(g0,"getSetLocaleDayOfWeek");function w0(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var u=i0(s,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}r(w0,"getSetISODayOfWeek");function y0(s){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Oa.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=a0),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}r(y0,"weekdaysRegex");function b0(s){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Oa.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=l0),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}r(b0,"weekdaysShortRegex");function k0(s){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Oa.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=u0),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}r(k0,"weekdaysMinRegex");function Oa(){function s(Ze,nn){return nn.length-Ze.length}r(s,"cmpLenRev");var u=[],d=[],m=[],b=[],A,T,R,G,re;for(A=0;A<7;A++)T=w([2e3,1]).day(A),R=jt(this.weekdaysMin(T,"")),G=jt(this.weekdaysShort(T,"")),re=jt(this.weekdays(T,"")),u.push(R),d.push(G),m.push(re),b.push(R),b.push(G),b.push(re);u.sort(s),d.sort(s),m.sort(s),b.sort(s),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(Oa,"computeWeekdaysParse");function Ma(){return this.hours()%12||12}r(Ma,"hFormat");function A0(){return this.hours()||24}r(A0,"kFormat"),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,Ma),k("k",["kk",2],0,A0),k("hmm",0,0,function(){return""+Ma.apply(this)+ke(this.minutes(),2)}),k("hmmss",0,0,function(){return""+Ma.apply(this)+ke(this.minutes(),2)+ke(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+ke(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+ke(this.minutes(),2)+ke(this.seconds(),2)});function bc(s,u){k(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}r(bc,"meridiem"),bc("a",!0),bc("A",!1);function kc(s,u){return u._meridiemParse}r(kc,"matchMeridiem"),B("a",kc),B("A",kc),B("H",D,Fa),B("h",D,rr),B("k",D,rr),B("HH",D,Ke),B("hh",D,Ke),B("kk",D,Ke),B("hmm",Q),B("hmmss",ue),B("Hmm",Q),B("Hmmss",ue),fe(["H","HH"],Fe),fe(["k","kk"],function(s,u,d){var m=ne(s);u[Fe]=m===24?0:m}),fe(["a","A"],function(s,u,d){d._isPm=d._locale.isPM(s),d._meridiem=s}),fe(["h","hh"],function(s,u,d){u[Fe]=ne(s),E(d).bigHour=!0}),fe("hmm",function(s,u,d){var m=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m)),E(d).bigHour=!0}),fe("hmmss",function(s,u,d){var m=s.length-4,b=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m,2)),u[Xt]=ne(s.substr(b)),E(d).bigHour=!0}),fe("Hmm",function(s,u,d){var m=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m))}),fe("Hmmss",function(s,u,d){var m=s.length-4,b=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m,2)),u[Xt]=ne(s.substr(b))});function v0(s){return(s+"").toLowerCase().charAt(0)==="p"}r(v0,"localeIsPM");var E0=/[ap]\.?m?\.?/i,C0=ir("Hours",!0);function x0(s,u,d){return s>11?d?"pm":"PM":d?"am":"AM"}r(x0,"localeMeridiem");var Ac={calendar:se,longDateFormat:Se,invalidDate:Tt,ordinal:yn,dayOfMonthOrdinalParse:Gr,relativeTime:Yi,months:Vg,monthsShort:dc,week:Jg,weekdays:o0,weekdaysMin:s0,weekdaysShort:yc,meridiemParse:E0},ge={},Qr={},ei;function T0(s,u){var d,m=Math.min(s.length,u.length);for(d=0;d<m;d+=1)if(s[d]!==u[d])return d;return m}r(T0,"commonPrefix");function vc(s){return s&&s.toLowerCase().replace("_","-")}r(vc,"normalizeLocale");function S0(s){for(var u=0,d,m,b,A;u<s.length;){for(A=vc(s[u]).split("-"),d=A.length,m=vc(s[u+1]),m=m?m.split("-"):null;d>0;){if(b=Xi(A.slice(0,d).join("-")),b)return b;if(m&&m.length>=d&&T0(A,m)>=d-1)break;d--}u++}return ei}r(S0,"chooseLocale");function F0(s){return!!(s&&s.match("^[^/\\\\]*$"))}r(F0,"isLocaleNameSane");function Xi(s){var u=null,d;if(ge[s]===void 0&&typeof cr<"u"&&cr&&cr.exports&&F0(s))try{u=ei._abbr,d=require,d("./locale/"+s),bn(u)}catch{ge[s]=null}return ge[s]}r(Xi,"loadLocale");function bn(s,u){var d;return s&&(c(u)?d=Jt(s):d=Da(s,u),d?ei=d:typeof console<"u"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),ei._abbr}r(bn,"getSetGlobalLocale");function Da(s,u){if(u!==null){var d,m=Ac;if(u.abbr=s,ge[s]!=null)le("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=ge[s]._config;else if(u.parentLocale!=null)if(ge[u.parentLocale]!=null)m=ge[u.parentLocale]._config;else if(d=Xi(u.parentLocale),d!=null)m=d._config;else return Qr[u.parentLocale]||(Qr[u.parentLocale]=[]),Qr[u.parentLocale].push({name:s,config:u}),null;return ge[s]=new q(Y(m,u)),Qr[s]&&Qr[s].forEach(function(b){Da(b.name,b.config)}),bn(s),ge[s]}else return delete ge[s],null}r(Da,"defineLocale");function P0(s,u){if(u!=null){var d,m,b=Ac;ge[s]!=null&&ge[s].parentLocale!=null?ge[s].set(Y(ge[s]._config,u)):(m=Xi(s),m!=null&&(b=m._config),u=Y(b,u),m==null&&(u.abbr=s),d=new q(u),d.parentLocale=ge[s],ge[s]=d),bn(s)}else ge[s]!=null&&(ge[s].parentLocale!=null?(ge[s]=ge[s].parentLocale,s===bn()&&bn(s)):ge[s]!=null&&delete ge[s]);return ge[s]}r(P0,"updateLocale");function Jt(s){var u;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return ei;if(!i(s)){if(u=Xi(s),u)return u;s=[s]}return S0(s)}r(Jt,"getLocale");function I0(){return H(ge)}r(I0,"listLocales");function Ra(s){var u,d=s._a;return d&&E(s).overflow===-2&&(u=d[Kt]<0||d[Kt]>11?Kt:d[Nt]<1||d[Nt]>Ia(d[Ye],d[Kt])?Nt:d[Fe]<0||d[Fe]>24||d[Fe]===24&&(d[It]!==0||d[Xt]!==0||d[Rn]!==0)?Fe:d[It]<0||d[It]>59?It:d[Xt]<0||d[Xt]>59?Xt:d[Rn]<0||d[Rn]>999?Rn:-1,E(s)._overflowDayOfYear&&(u<Ye||u>Nt)&&(u=Nt),E(s)._overflowWeeks&&u===-1&&(u=Dg),E(s)._overflowWeekday&&u===-1&&(u=Rg),E(s).overflow=u),s}r(Ra,"checkOverflow");var _0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,O0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,M0=/Z|[+-]\d\d(?::?\d\d)?/,Zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],La=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],D0=/^\/?Date\((-?\d+)/i,R0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,L0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ec(s){var u,d,m=s._i,b=_0.exec(m)||O0.exec(m),A,T,R,G,re=Zi.length,Ze=La.length;if(b){for(E(s).iso=!0,u=0,d=re;u<d;u++)if(Zi[u][1].exec(b[1])){T=Zi[u][0],A=Zi[u][2]!==!1;break}if(T==null){s._isValid=!1;return}if(b[3]){for(u=0,d=Ze;u<d;u++)if(La[u][1].exec(b[3])){R=(b[2]||" ")+La[u][0];break}if(R==null){s._isValid=!1;return}}if(!A&&R!=null){s._isValid=!1;return}if(b[4])if(M0.exec(b[4]))G="Z";else{s._isValid=!1;return}s._f=T+(R||"")+(G||""),Ba(s)}else s._isValid=!1}r(Ec,"configFromISO");function N0(s,u,d,m,b,A){var T=[B0(s),dc.indexOf(u),parseInt(d,10),parseInt(m,10),parseInt(b,10)];return A&&T.push(parseInt(A,10)),T}r(N0,"extractFromRFC2822Strings");function B0(s){var u=parseInt(s,10);return u<=49?2e3+u:u<=999?1900+u:u}r(B0,"untruncateYear");function $0(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}r($0,"preprocessRFC2822");function V0(s,u,d){if(s){var m=yc.indexOf(s),b=new Date(u[0],u[1],u[2]).getDay();if(m!==b)return E(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}r(V0,"checkWeekday");function Y0(s,u,d){if(s)return L0[s];if(u)return 0;var m=parseInt(d,10),b=m%100,A=(m-b)/100;return A*60+b}r(Y0,"calculateOffset");function Cc(s){var u=R0.exec($0(s._i)),d;if(u){if(d=N0(u[4],u[3],u[2],u[5],u[6],u[7]),!V0(u[1],d,s))return;s._a=d,s._tzm=Y0(u[8],u[9],u[10]),s._d=Zr.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),E(s).rfc2822=!0}else s._isValid=!1}r(Cc,"configFromRFC2822");function U0(s){var u=D0.exec(s._i);if(u!==null){s._d=new Date(+u[1]);return}if(Ec(s),s._isValid===!1)delete s._isValid;else return;if(Cc(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:e.createFromInputFallback(s)}r(U0,"configFromString"),e.createFromInputFallback=Z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function or(s,u,d){return s??u??d}r(or,"defaults");function W0(s){var u=new Date(e.now());return s._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}r(W0,"currentDateArray");function Na(s){var u,d,m=[],b,A,T;if(!s._d){for(b=W0(s),s._w&&s._a[Nt]==null&&s._a[Kt]==null&&z0(s),s._dayOfYear!=null&&(T=or(s._a[Ye],b[Ye]),(s._dayOfYear>Kr(T)||s._dayOfYear===0)&&(E(s)._overflowDayOfYear=!0),d=Zr(T,0,s._dayOfYear),s._a[Kt]=d.getUTCMonth(),s._a[Nt]=d.getUTCDate()),u=0;u<3&&s._a[u]==null;++u)s._a[u]=m[u]=b[u];for(;u<7;u++)s._a[u]=m[u]=s._a[u]==null?u===2?1:0:s._a[u];s._a[Fe]===24&&s._a[It]===0&&s._a[Xt]===0&&s._a[Rn]===0&&(s._nextDay=!0,s._a[Fe]=0),s._d=(s._useUTC?Zr:Xg).apply(null,m),A=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[Fe]=24),s._w&&typeof s._w.d<"u"&&s._w.d!==A&&(E(s).weekdayMismatch=!0)}}r(Na,"configFromArray");function z0(s){var u,d,m,b,A,T,R,G,re;u=s._w,u.GG!=null||u.W!=null||u.E!=null?(A=1,T=4,d=or(u.GG,s._a[Ye],Jr(he(),1,4).year),m=or(u.W,1),b=or(u.E,1),(b<1||b>7)&&(G=!0)):(A=s._locale._week.dow,T=s._locale._week.doy,re=Jr(he(),A,T),d=or(u.gg,s._a[Ye],re.year),m=or(u.w,re.week),u.d!=null?(b=u.d,(b<0||b>6)&&(G=!0)):u.e!=null?(b=u.e+A,(u.e<0||u.e>6)&&(G=!0)):b=A),m<1||m>Zt(d,A,T)?E(s)._overflowWeeks=!0:G!=null?E(s)._overflowWeekday=!0:(R=wc(d,m,b,A,T),s._a[Ye]=R.year,s._dayOfYear=R.dayOfYear)}r(z0,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function Ba(s){if(s._f===e.ISO_8601){Ec(s);return}if(s._f===e.RFC_2822){Cc(s);return}s._a=[],E(s).empty=!0;var u=""+s._i,d,m,b,A,T,R=u.length,G=0,re,Ze;for(b=Mn(s._f,s._locale).match(it)||[],Ze=b.length,d=0;d<Ze;d++)A=b[d],m=(u.match(_g(A,s))||[])[0],m&&(T=u.substr(0,u.indexOf(m)),T.length>0&&E(s).unusedInput.push(T),u=u.slice(u.indexOf(m)+m.length),G+=m.length),$e[A]?(m?E(s).empty=!1:E(s).unusedTokens.push(A),Mg(A,m,s)):s._strict&&!m&&E(s).unusedTokens.push(A);E(s).charsLeftOver=R-G,u.length>0&&E(s).unusedInput.push(u),s._a[Fe]<=12&&E(s).bigHour===!0&&s._a[Fe]>0&&(E(s).bigHour=void 0),E(s).parsedDateParts=s._a.slice(0),E(s).meridiem=s._meridiem,s._a[Fe]=H0(s._locale,s._a[Fe],s._meridiem),re=E(s).era,re!==null&&(s._a[Ye]=s._locale.erasConvertYear(re,s._a[Ye])),Na(s),Ra(s)}r(Ba,"configFromStringAndFormat");function H0(s,u,d){var m;return d==null?u:s.meridiemHour!=null?s.meridiemHour(u,d):(s.isPM!=null&&(m=s.isPM(d),m&&u<12&&(u+=12),!m&&u===12&&(u=0)),u)}r(H0,"meridiemFixWrap");function G0(s){var u,d,m,b,A,T,R=!1,G=s._f.length;if(G===0){E(s).invalidFormat=!0,s._d=new Date(NaN);return}for(b=0;b<G;b++)A=0,T=!1,u=U({},s),s._useUTC!=null&&(u._useUTC=s._useUTC),u._f=s._f[b],Ba(u),F(u)&&(T=!0),A+=E(u).charsLeftOver,A+=E(u).unusedTokens.length*10,E(u).score=A,R?A<m&&(m=A,d=u):(m==null||A<m||T)&&(m=A,d=u,T&&(R=!0));g(s,d||u)}r(G0,"configFromStringAndArray");function q0(s){if(!s._d){var u=nr(s._i),d=u.day===void 0?u.date:u.day;s._a=h([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(m){return m&&parseInt(m,10)}),Na(s)}}r(q0,"configFromObject");function j0(s){var u=new z(Ra(xc(s)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}r(j0,"createFromConfig");function xc(s){var u=s._i,d=s._f;return s._locale=s._locale||Jt(s._l),u===null||d===void 0&&u===""?C({nullInput:!0}):(typeof u=="string"&&(s._i=u=s._locale.preparse(u)),S(u)?new z(Ra(u)):(p(u)?s._d=u:i(d)?G0(s):d?Ba(s):K0(s),F(s)||(s._d=null),s))}r(xc,"prepareConfig");function K0(s){var u=s._i;c(u)?s._d=new Date(e.now()):p(u)?s._d=new Date(u.valueOf()):typeof u=="string"?U0(s):i(u)?(s._a=h(u.slice(0),function(d){return parseInt(d,10)}),Na(s)):o(u)?q0(s):f(u)?s._d=new Date(u):e.createFromInputFallback(s)}r(K0,"configFromInput");function Tc(s,u,d,m,b){var A={};return(u===!0||u===!1)&&(m=u,u=void 0),(d===!0||d===!1)&&(m=d,d=void 0),(o(s)&&l(s)||i(s)&&s.length===0)&&(s=void 0),A._isAMomentObject=!0,A._useUTC=A._isUTC=b,A._l=d,A._i=s,A._f=u,A._strict=m,j0(A)}r(Tc,"createLocalOrUTC");function he(s,u,d,m){return Tc(s,u,d,m,!1)}r(he,"createLocal");var X0=Z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=he.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:C()}),Z0=Z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=he.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:C()});function Sc(s,u){var d,m;if(u.length===1&&i(u[0])&&(u=u[0]),!u.length)return he();for(d=u[0],m=1;m<u.length;++m)(!u[m].isValid()||u[m][s](d))&&(d=u[m]);return d}r(Sc,"pickBy");function J0(){var s=[].slice.call(arguments,0);return Sc("isBefore",s)}r(J0,"min");function Q0(){var s=[].slice.call(arguments,0);return Sc("isAfter",s)}r(Q0,"max");var ew=r(function(){return Date.now?Date.now():+new Date},"now"),ti=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tw(s){var u,d=!1,m,b=ti.length;for(u in s)if(a(s,u)&&!(Ee.call(ti,u)!==-1&&(s[u]==null||!isNaN(s[u]))))return!1;for(m=0;m<b;++m)if(s[ti[m]]){if(d)return!1;parseFloat(s[ti[m]])!==ne(s[ti[m]])&&(d=!0)}return!0}r(tw,"isDurationValid");function nw(){return this._isValid}r(nw,"isValid$1");function rw(){return _t(NaN)}r(rw,"createInvalid$1");function Ji(s){var u=nr(s),d=u.year||0,m=u.quarter||0,b=u.month||0,A=u.week||u.isoWeek||0,T=u.day||0,R=u.hour||0,G=u.minute||0,re=u.second||0,Ze=u.millisecond||0;this._isValid=tw(u),this._milliseconds=+Ze+re*1e3+G*6e4+R*1e3*60*60,this._days=+T+A*7,this._months=+b+m*3+d*12,this._data={},this._locale=Jt(),this._bubble()}r(Ji,"Duration");function Qi(s){return s instanceof Ji}r(Qi,"isDuration");function $a(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}r($a,"absRound");function iw(s,u,d){var m=Math.min(s.length,u.length),b=Math.abs(s.length-u.length),A=0,T;for(T=0;T<m;T++)(d&&s[T]!==u[T]||!d&&ne(s[T])!==ne(u[T]))&&A++;return A+b}r(iw,"compareArrays");function Fc(s,u){k(s,0,0,function(){var d=this.utcOffset(),m="+";return d<0&&(d=-d,m="-"),m+ke(~~(d/60),2)+u+ke(~~d%60,2)})}r(Fc,"offset"),Fc("Z",":"),Fc("ZZ",""),B("Z",Ft),B("ZZ",Ft),fe(["Z","ZZ"],function(s,u,d){d._useUTC=!0,d._tzm=Va(Ft,s)});var ow=/([\+\-]|\d\d)/gi;function Va(s,u){var d=(u||"").match(s),m,b,A;return d===null?null:(m=d[d.length-1]||[],b=(m+"").match(ow)||["-",0,0],A=+(b[1]*60)+ne(b[2]),A===0?0:b[0]==="+"?A:-A)}r(Va,"offsetFromString");function Ya(s,u){var d,m;return u._isUTC?(d=u.clone(),m=(S(s)||p(s)?s.valueOf():he(s).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+m),e.updateOffset(d,!1),d):he(s).local()}r(Ya,"cloneWithOffset");function Ua(s){return-Math.round(s._d.getTimezoneOffset())}r(Ua,"getDateOffset"),e.updateOffset=function(){};function sw(s,u,d){var m=this._offset||0,b;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=Va(Ft,s),s===null)return this}else Math.abs(s)<16&&!d&&(s=s*60);return!this._isUTC&&u&&(b=Ua(this)),this._offset=s,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==s&&(!u||this._changeInProgress?Oc(this,_t(s-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:Ua(this)}r(sw,"getSetOffset");function aw(s,u){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,u),this):-this.utcOffset()}r(aw,"getSetZone");function lw(s){return this.utcOffset(0,s)}r(lw,"setOffsetToUTC");function uw(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Ua(this),"m")),this}r(uw,"setOffsetToLocal");function cw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=Va(Xe,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}r(cw,"setOffsetToParsedOffset");function fw(s){return this.isValid()?(s=s?he(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}r(fw,"hasAlignedHourOffset");function dw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}r(dw,"isDaylightSavingTime");function hw(){if(!c(this._isDSTShifted))return this._isDSTShifted;var s={},u;return U(s,this),s=xc(s),s._a?(u=s._isUTC?w(s._a):he(s._a),this._isDSTShifted=this.isValid()&&iw(s._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}r(hw,"isDaylightSavingTimeShifted");function pw(){return this.isValid()?!this._isUTC:!1}r(pw,"isLocal");function mw(){return this.isValid()?this._isUTC:!1}r(mw,"isUtcOffset");function Pc(){return this.isValid()?this._isUTC&&this._offset===0:!1}r(Pc,"isUtc");var gw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ww=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _t(s,u){var d=s,m=null,b,A,T;return Qi(s)?d={ms:s._milliseconds,d:s._days,M:s._months}:f(s)||!isNaN(+s)?(d={},u?d[u]=+s:d.milliseconds=+s):(m=gw.exec(s))?(b=m[1]==="-"?-1:1,d={y:0,d:ne(m[Nt])*b,h:ne(m[Fe])*b,m:ne(m[It])*b,s:ne(m[Xt])*b,ms:ne($a(m[Rn]*1e3))*b}):(m=ww.exec(s))?(b=m[1]==="-"?-1:1,d={y:Ln(m[2],b),M:Ln(m[3],b),w:Ln(m[4],b),d:Ln(m[5],b),h:Ln(m[6],b),m:Ln(m[7],b),s:Ln(m[8],b)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(T=yw(he(d.from),he(d.to)),d={},d.ms=T.milliseconds,d.M=T.months),A=new Ji(d),Qi(s)&&a(s,"_locale")&&(A._locale=s._locale),Qi(s)&&a(s,"_isValid")&&(A._isValid=s._isValid),A}r(_t,"createDuration"),_t.fn=Ji.prototype,_t.invalid=rw;function Ln(s,u){var d=s&&parseFloat(s.replace(",","."));return(isNaN(d)?0:d)*u}r(Ln,"parseIso");function Ic(s,u){var d={};return d.months=u.month()-s.month()+(u.year()-s.year())*12,s.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+s.clone().add(d.months,"M"),d}r(Ic,"positiveMomentsDifference");function yw(s,u){var d;return s.isValid()&&u.isValid()?(u=Ya(u,s),s.isBefore(u)?d=Ic(s,u):(d=Ic(u,s),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}r(yw,"momentsDifference");function _c(s,u){return function(d,m){var b,A;return m!==null&&!isNaN(+m)&&(le(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),A=d,d=m,m=A),b=_t(d,m),Oc(this,b,s),this}}r(_c,"createAdder");function Oc(s,u,d,m){var b=u._milliseconds,A=$a(u._days),T=$a(u._months);s.isValid()&&(m=m??!0,T&&pc(s,Xr(s,"Month")+T*d),A&&fc(s,"Date",Xr(s,"Date")+A*d),b&&s._d.setTime(s._d.valueOf()+b*d),m&&e.updateOffset(s,A||T))}r(Oc,"addSubtract");var bw=_c(1,"add"),kw=_c(-1,"subtract");function Mc(s){return typeof s=="string"||s instanceof String}r(Mc,"isString");function Aw(s){return S(s)||p(s)||Mc(s)||f(s)||Ew(s)||vw(s)||s===null||s===void 0}r(Aw,"isMomentInput");function vw(s){var u=o(s)&&!l(s),d=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,A,T=m.length;for(b=0;b<T;b+=1)A=m[b],d=d||a(s,A);return u&&d}r(vw,"isMomentInputObject");function Ew(s){var u=i(s),d=!1;return u&&(d=s.filter(function(m){return!f(m)&&Mc(s)}).length===0),u&&d}r(Ew,"isNumberOrStringArray");function Cw(s){var u=o(s)&&!l(s),d=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,A;for(b=0;b<m.length;b+=1)A=m[b],d=d||a(s,A);return u&&d}r(Cw,"isCalendarSpec");function xw(s,u){var d=s.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}r(xw,"getCalendarFormat");function Tw(s,u){arguments.length===1&&(arguments[0]?Aw(arguments[0])?(s=arguments[0],u=void 0):Cw(arguments[0])&&(u=arguments[0],s=void 0):(s=void 0,u=void 0));var d=s||he(),m=Ya(d,this).startOf("day"),b=e.calendarFormat(this,m)||"sameElse",A=u&&(de(u[b])?u[b].call(this,d):u[b]);return this.format(A||this.localeData().calendar(b,this,he(d)))}r(Tw,"calendar$1");function Sw(){return new z(this)}r(Sw,"clone");function Fw(s,u){var d=S(s)?s:he(s);return this.isValid()&&d.isValid()?(u=je(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}r(Fw,"isAfter");function Pw(s,u){var d=S(s)?s:he(s);return this.isValid()&&d.isValid()?(u=je(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}r(Pw,"isBefore");function Iw(s,u,d,m){var b=S(s)?s:he(s),A=S(u)?u:he(u);return this.isValid()&&b.isValid()&&A.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,d):!this.isBefore(b,d))&&(m[1]===")"?this.isBefore(A,d):!this.isAfter(A,d))):!1}r(Iw,"isBetween");function _w(s,u){var d=S(s)?s:he(s),m;return this.isValid()&&d.isValid()?(u=je(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(m=d.valueOf(),this.clone().startOf(u).valueOf()<=m&&m<=this.clone().endOf(u).valueOf())):!1}r(_w,"isSame");function Ow(s,u){return this.isSame(s,u)||this.isAfter(s,u)}r(Ow,"isSameOrAfter");function Mw(s,u){return this.isSame(s,u)||this.isBefore(s,u)}r(Mw,"isSameOrBefore");function Dw(s,u,d){var m,b,A;if(!this.isValid())return NaN;if(m=Ya(s,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,u=je(u),u){case"year":A=eo(this,m)/12;break;case"month":A=eo(this,m);break;case"quarter":A=eo(this,m)/3;break;case"second":A=(this-m)/1e3;break;case"minute":A=(this-m)/6e4;break;case"hour":A=(this-m)/36e5;break;case"day":A=(this-m-b)/864e5;break;case"week":A=(this-m-b)/6048e5;break;default:A=this-m}return d?A:gt(A)}r(Dw,"diff");function eo(s,u){if(s.date()<u.date())return-eo(u,s);var d=(u.year()-s.year())*12+(u.month()-s.month()),m=s.clone().add(d,"months"),b,A;return u-m<0?(b=s.clone().add(d-1,"months"),A=(u-m)/(m-b)):(b=s.clone().add(d+1,"months"),A=(u-m)/(b-m)),-(d+A)||0}r(eo,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Rw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}r(Rw,"toString");function Lw(s){if(!this.isValid())return null;var u=s!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?wn(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):de(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wn(d,"Z")):wn(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}r(Lw,"toISOString");function Nw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",u="",d,m,b,A;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+s+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",A=u+'[")]',this.format(d+m+b+A)}r(Nw,"inspect");function Bw(s){s||(s=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=wn(this,s);return this.localeData().postformat(u)}r(Bw,"format");function $w(s,u){return this.isValid()&&(S(s)&&s.isValid()||he(s).isValid())?_t({to:this,from:s}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r($w,"from");function Vw(s){return this.from(he(),s)}r(Vw,"fromNow");function Yw(s,u){return this.isValid()&&(S(s)&&s.isValid()||he(s).isValid())?_t({from:this,to:s}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(Yw,"to");function Uw(s){return this.to(he(),s)}r(Uw,"toNow");function Dc(s){var u;return s===void 0?this._locale._abbr:(u=Jt(s),u!=null&&(this._locale=u),this)}r(Dc,"locale");var Rc=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function Lc(){return this._locale}r(Lc,"localeData");var to=1e3,sr=60*to,no=60*sr,Nc=(365*400+97)*24*no;function ar(s,u){return(s%u+u)%u}r(ar,"mod$1");function Bc(s,u,d){return s<100&&s>=0?new Date(s+400,u,d)-Nc:new Date(s,u,d).valueOf()}r(Bc,"localStartOfDate");function $c(s,u,d){return s<100&&s>=0?Date.UTC(s+400,u,d)-Nc:Date.UTC(s,u,d)}r($c,"utcStartOfDate");function Ww(s){var u,d;if(s=je(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?$c:Bc,s){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=ar(u+(this._isUTC?0:this.utcOffset()*sr),no);break;case"minute":u=this._d.valueOf(),u-=ar(u,sr);break;case"second":u=this._d.valueOf(),u-=ar(u,to);break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(Ww,"startOf");function zw(s){var u,d;if(s=je(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?$c:Bc,s){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=no-ar(u+(this._isUTC?0:this.utcOffset()*sr),no)-1;break;case"minute":u=this._d.valueOf(),u+=sr-ar(u,sr)-1;break;case"second":u=this._d.valueOf(),u+=to-ar(u,to)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(zw,"endOf");function Hw(){return this._d.valueOf()-(this._offset||0)*6e4}r(Hw,"valueOf");function Gw(){return Math.floor(this.valueOf()/1e3)}r(Gw,"unix");function qw(){return new Date(this.valueOf())}r(qw,"toDate");function jw(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}r(jw,"toArray");function Kw(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}r(Kw,"toObject");function Xw(){return this.isValid()?this.toISOString():null}r(Xw,"toJSON");function Zw(){return F(this)}r(Zw,"isValid$2");function Jw(){return g({},E(this))}r(Jw,"parsingFlags");function Qw(){return E(this).overflow}r(Qw,"invalidAt");function ey(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}r(ey,"creationData"),k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),B("N",Wa),B("NN",Wa),B("NNN",Wa),B("NNNN",fy),B("NNNNN",dy),fe(["N","NN","NNN","NNNN","NNNNN"],function(s,u,d,m){var b=d._locale.erasParse(s,m,d._strict);b?E(d).era=b:E(d).invalidEra=s}),B("y",mt),B("yy",mt),B("yyy",mt),B("yyyy",mt),B("yo",hy),fe(["y","yy","yyy","yyyy"],Ye),fe(["yo"],function(s,u,d,m){var b;d._locale._eraYearOrdinalRegex&&(b=s.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[Ye]=d._locale.eraYearOrdinalParse(s,b):u[Ye]=parseInt(s,10)});function ty(s,u){var d,m,b,A=this._eras||Jt("en")._eras;for(d=0,m=A.length;d<m;++d){switch(typeof A[d].since){case"string":b=e(A[d].since).startOf("day"),A[d].since=b.valueOf();break}switch(typeof A[d].until){case"undefined":A[d].until=1/0;break;case"string":b=e(A[d].until).startOf("day").valueOf(),A[d].until=b.valueOf();break}}return A}r(ty,"localeEras");function ny(s,u,d){var m,b,A=this.eras(),T,R,G;for(s=s.toUpperCase(),m=0,b=A.length;m<b;++m)if(T=A[m].name.toUpperCase(),R=A[m].abbr.toUpperCase(),G=A[m].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(R===s)return A[m];break;case"NNNN":if(T===s)return A[m];break;case"NNNNN":if(G===s)return A[m];break}else if([T,R,G].indexOf(s)>=0)return A[m]}r(ny,"localeErasParse");function ry(s,u){var d=s.since<=s.until?1:-1;return u===void 0?e(s.since).year():e(s.since).year()+(u-s.offset)*d}r(ry,"localeErasConvertYear");function iy(){var s,u,d,m=this.localeData().eras();for(s=0,u=m.length;s<u;++s)if(d=this.clone().startOf("day").valueOf(),m[s].since<=d&&d<=m[s].until||m[s].until<=d&&d<=m[s].since)return m[s].name;return""}r(iy,"getEraName");function oy(){var s,u,d,m=this.localeData().eras();for(s=0,u=m.length;s<u;++s)if(d=this.clone().startOf("day").valueOf(),m[s].since<=d&&d<=m[s].until||m[s].until<=d&&d<=m[s].since)return m[s].narrow;return""}r(oy,"getEraNarrow");function sy(){var s,u,d,m=this.localeData().eras();for(s=0,u=m.length;s<u;++s)if(d=this.clone().startOf("day").valueOf(),m[s].since<=d&&d<=m[s].until||m[s].until<=d&&d<=m[s].since)return m[s].abbr;return""}r(sy,"getEraAbbr");function ay(){var s,u,d,m,b=this.localeData().eras();for(s=0,u=b.length;s<u;++s)if(d=b[s].since<=b[s].until?1:-1,m=this.clone().startOf("day").valueOf(),b[s].since<=m&&m<=b[s].until||b[s].until<=m&&m<=b[s].since)return(this.year()-e(b[s].since).year())*d+b[s].offset;return this.year()}r(ay,"getEraYear");function ly(s){return a(this,"_erasNameRegex")||za.call(this),s?this._erasNameRegex:this._erasRegex}r(ly,"erasNameRegex");function uy(s){return a(this,"_erasAbbrRegex")||za.call(this),s?this._erasAbbrRegex:this._erasRegex}r(uy,"erasAbbrRegex");function cy(s){return a(this,"_erasNarrowRegex")||za.call(this),s?this._erasNarrowRegex:this._erasRegex}r(cy,"erasNarrowRegex");function Wa(s,u){return u.erasAbbrRegex(s)}r(Wa,"matchEraAbbr");function fy(s,u){return u.erasNameRegex(s)}r(fy,"matchEraName");function dy(s,u){return u.erasNarrowRegex(s)}r(dy,"matchEraNarrow");function hy(s,u){return u._eraYearOrdinalRegex||mt}r(hy,"matchEraYearOrdinal");function za(){var s=[],u=[],d=[],m=[],b,A,T,R,G,re=this.eras();for(b=0,A=re.length;b<A;++b)T=jt(re[b].name),R=jt(re[b].abbr),G=jt(re[b].narrow),u.push(T),s.push(R),d.push(G),m.push(T),m.push(R),m.push(G);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}r(za,"computeErasParse"),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ro(s,u){k(0,[s,s.length],0,u)}r(ro,"addWeekYearFormatToken"),ro("gggg","weekYear"),ro("ggggg","weekYear"),ro("GGGG","isoWeekYear"),ro("GGGGG","isoWeekYear"),B("G",Lt),B("g",Lt),B("GG",D,Ke),B("gg",D,Ke),B("GGGG",St,P),B("gggg",St,P),B("GGGGG",ot,M),B("ggggg",ot,M),jr(["gggg","ggggg","GGGG","GGGGG"],function(s,u,d,m){u[m.substr(0,2)]=ne(s)}),jr(["gg","GG"],function(s,u,d,m){u[m]=e.parseTwoDigitYear(s)});function py(s){return Vc.call(this,s,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}r(py,"getSetWeekYear");function my(s){return Vc.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}r(my,"getSetISOWeekYear");function gy(){return Zt(this.year(),1,4)}r(gy,"getISOWeeksInYear");function wy(){return Zt(this.isoWeekYear(),1,4)}r(wy,"getISOWeeksInISOWeekYear");function yy(){var s=this.localeData()._week;return Zt(this.year(),s.dow,s.doy)}r(yy,"getWeeksInYear");function by(){var s=this.localeData()._week;return Zt(this.weekYear(),s.dow,s.doy)}r(by,"getWeeksInWeekYear");function Vc(s,u,d,m,b){var A;return s==null?Jr(this,m,b).year:(A=Zt(s,m,b),u>A&&(u=A),ky.call(this,s,u,d,m,b))}r(Vc,"getSetWeekYearHelper");function ky(s,u,d,m,b){var A=wc(s,u,d,m,b),T=Zr(A.year,0,A.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}r(ky,"setWeekAll"),k("Q",0,"Qo","quarter"),B("Q",Hi),fe("Q",function(s,u){u[Kt]=(ne(s)-1)*3});function Ay(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}r(Ay,"getSetQuarter"),k("D",["DD",2],"Do","date"),B("D",D,rr),B("DD",D,Ke),B("Do",function(s,u){return s?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],Nt),fe("Do",function(s,u){u[Nt]=ne(s.match(D)[0])});var Yc=ir("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),B("DDD",Ve),B("DDDD",Gi),fe(["DDD","DDDD"],function(s,u,d){d._dayOfYear=ne(s)});function vy(s){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?u:this.add(s-u,"d")}r(vy,"getSetDayOfYear"),k("m",["mm",2],0,"minute"),B("m",D,Fa),B("mm",D,Ke),fe(["m","mm"],It);var Ey=ir("Minutes",!1);k("s",["ss",2],0,"second"),B("s",D,Fa),B("ss",D,Ke),fe(["s","ss"],Xt);var Cy=ir("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("S",Ve,Hi),B("SS",Ve,Ke),B("SSS",Ve,Gi);var kn,Uc;for(kn="SSSS";kn.length<=9;kn+="S")B(kn,mt);function xy(s,u){u[Rn]=ne(("0."+s)*1e3)}for(r(xy,"parseMs"),kn="S";kn.length<=9;kn+="S")fe(kn,xy);Uc=ir("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function Ty(){return this._isUTC?"UTC":""}r(Ty,"getZoneAbbr");function Sy(){return this._isUTC?"Coordinated Universal Time":""}r(Sy,"getZoneName");var O=z.prototype;O.add=bw,O.calendar=Tw,O.clone=Sw,O.diff=Dw,O.endOf=zw,O.format=Bw,O.from=$w,O.fromNow=Vw,O.to=Yw,O.toNow=Uw,O.get=Ng,O.invalidAt=Qw,O.isAfter=Fw,O.isBefore=Pw,O.isBetween=Iw,O.isSame=_w,O.isSameOrAfter=Ow,O.isSameOrBefore=Mw,O.isValid=Zw,O.lang=Rc,O.locale=Dc,O.localeData=Lc,O.max=Z0,O.min=X0,O.parsingFlags=Jw,O.set=Bg,O.startOf=Ww,O.subtract=kw,O.toArray=jw,O.toObject=Kw,O.toDate=qw,O.toISOString=Lw,O.inspect=Nw,typeof Symbol<"u"&&Symbol.for!=null&&(O[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),O.toJSON=Xw,O.toString=Rw,O.unix=Gw,O.valueOf=Hw,O.creationData=ey,O.eraName=iy,O.eraNarrow=oy,O.eraAbbr=sy,O.eraYear=ay,O.year=cc,O.isLeapYear=Lg,O.weekYear=py,O.isoWeekYear=my,O.quarter=O.quarters=Ay,O.month=mc,O.daysInMonth=qg,O.week=O.weeks=t0,O.isoWeek=O.isoWeeks=n0,O.weeksInYear=yy,O.weeksInWeekYear=by,O.isoWeeksInYear=gy,O.isoWeeksInISOWeekYear=wy,O.date=Yc,O.day=O.days=m0,O.weekday=g0,O.isoWeekday=w0,O.dayOfYear=vy,O.hour=O.hours=C0,O.minute=O.minutes=Ey,O.second=O.seconds=Cy,O.millisecond=O.milliseconds=Uc,O.utcOffset=sw,O.utc=lw,O.local=uw,O.parseZone=cw,O.hasAlignedHourOffset=fw,O.isDST=dw,O.isLocal=pw,O.isUtcOffset=mw,O.isUtc=Pc,O.isUTC=Pc,O.zoneAbbr=Ty,O.zoneName=Sy,O.dates=Z("dates accessor is deprecated. Use date instead.",Yc),O.months=Z("months accessor is deprecated. Use month instead",mc),O.years=Z("years accessor is deprecated. Use year instead",cc),O.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",aw),O.isDSTShifted=Z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hw);function Fy(s){return he(s*1e3)}r(Fy,"createUnix");function Py(){return he.apply(null,arguments).parseZone()}r(Py,"createInZone");function Wc(s){return s}r(Wc,"preParsePostFormat");var ae=q.prototype;ae.calendar=be,ae.longDateFormat=Dn,ae.invalidDate=qt,ae.ordinal=xa,ae.preparse=Wc,ae.postformat=Wc,ae.relativeTime=Ui,ae.pastFuture=Wi,ae.set=oe,ae.eras=ty,ae.erasParse=ny,ae.erasConvertYear=ry,ae.erasAbbrRegex=uy,ae.erasNameRegex=ly,ae.erasNarrowRegex=cy,ae.months=Wg,ae.monthsShort=zg,ae.monthsParse=Gg,ae.monthsRegex=Kg,ae.monthsShortRegex=jg,ae.week=Zg,ae.firstDayOfYear=e0,ae.firstDayOfWeek=Qg,ae.weekdays=c0,ae.weekdaysMin=d0,ae.weekdaysShort=f0,ae.weekdaysParse=p0,ae.weekdaysRegex=y0,ae.weekdaysShortRegex=b0,ae.weekdaysMinRegex=k0,ae.isPM=v0,ae.meridiem=x0;function io(s,u,d,m){var b=Jt(),A=w().set(m,u);return b[d](A,s)}r(io,"get$1");function zc(s,u,d){if(f(s)&&(u=s,s=void 0),s=s||"",u!=null)return io(s,u,d,"month");var m,b=[];for(m=0;m<12;m++)b[m]=io(s,m,d,"month");return b}r(zc,"listMonthsImpl");function Ha(s,u,d,m){typeof s=="boolean"?(f(u)&&(d=u,u=void 0),u=u||""):(u=s,d=u,s=!1,f(u)&&(d=u,u=void 0),u=u||"");var b=Jt(),A=s?b._week.dow:0,T,R=[];if(d!=null)return io(u,(d+A)%7,m,"day");for(T=0;T<7;T++)R[T]=io(u,(T+A)%7,m,"day");return R}r(Ha,"listWeekdaysImpl");function Iy(s,u){return zc(s,u,"months")}r(Iy,"listMonths");function _y(s,u){return zc(s,u,"monthsShort")}r(_y,"listMonthsShort");function Oy(s,u,d){return Ha(s,u,d,"weekdays")}r(Oy,"listWeekdays");function My(s,u,d){return Ha(s,u,d,"weekdaysShort")}r(My,"listWeekdaysShort");function Dy(s,u,d){return Ha(s,u,d,"weekdaysMin")}r(Dy,"listWeekdaysMin"),bn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:r(function(s){var u=s%10,d=ne(s%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return s+d},"ordinal")}),e.lang=Z("moment.lang is deprecated. Use moment.locale instead.",bn),e.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",Jt);var Qt=Math.abs;function Ry(){var s=this._data;return this._milliseconds=Qt(this._milliseconds),this._days=Qt(this._days),this._months=Qt(this._months),s.milliseconds=Qt(s.milliseconds),s.seconds=Qt(s.seconds),s.minutes=Qt(s.minutes),s.hours=Qt(s.hours),s.months=Qt(s.months),s.years=Qt(s.years),this}r(Ry,"abs");function Hc(s,u,d,m){var b=_t(u,d);return s._milliseconds+=m*b._milliseconds,s._days+=m*b._days,s._months+=m*b._months,s._bubble()}r(Hc,"addSubtract$1");function Ly(s,u){return Hc(this,s,u,1)}r(Ly,"add$1");function Ny(s,u){return Hc(this,s,u,-1)}r(Ny,"subtract$1");function Gc(s){return s<0?Math.floor(s):Math.ceil(s)}r(Gc,"absCeil");function By(){var s=this._milliseconds,u=this._days,d=this._months,m=this._data,b,A,T,R,G;return s>=0&&u>=0&&d>=0||s<=0&&u<=0&&d<=0||(s+=Gc(Ga(d)+u)*864e5,u=0,d=0),m.milliseconds=s%1e3,b=gt(s/1e3),m.seconds=b%60,A=gt(b/60),m.minutes=A%60,T=gt(A/60),m.hours=T%24,u+=gt(T/24),G=gt(qc(u)),d+=G,u-=Gc(Ga(G)),R=gt(d/12),d%=12,m.days=u,m.months=d,m.years=R,this}r(By,"bubble");function qc(s){return s*4800/146097}r(qc,"daysToMonths");function Ga(s){return s*146097/4800}r(Ga,"monthsToDays");function $y(s){if(!this.isValid())return NaN;var u,d,m=this._milliseconds;if(s=je(s),s==="month"||s==="quarter"||s==="year")switch(u=this._days+m/864e5,d=this._months+qc(u),s){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(Ga(this._months)),s){case"week":return u/7+m/6048e5;case"day":return u+m/864e5;case"hour":return u*24+m/36e5;case"minute":return u*1440+m/6e4;case"second":return u*86400+m/1e3;case"millisecond":return Math.floor(u*864e5)+m;default:throw new Error("Unknown unit "+s)}}r($y,"as");function en(s){return function(){return this.as(s)}}r(en,"makeAs");var jc=en("ms"),Vy=en("s"),Yy=en("m"),Uy=en("h"),Wy=en("d"),zy=en("w"),Hy=en("M"),Gy=en("Q"),qy=en("y"),jy=jc;function Ky(){return _t(this)}r(Ky,"clone$1");function Xy(s){return s=je(s),this.isValid()?this[s+"s"]():NaN}r(Xy,"get$2");function Nn(s){return function(){return this.isValid()?this._data[s]:NaN}}r(Nn,"makeGetter");var Zy=Nn("milliseconds"),Jy=Nn("seconds"),Qy=Nn("minutes"),eb=Nn("hours"),tb=Nn("days"),nb=Nn("months"),rb=Nn("years");function ib(){return gt(this.days()/7)}r(ib,"weeks");var tn=Math.round,lr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ob(s,u,d,m,b){return b.relativeTime(u||1,!!d,s,m)}r(ob,"substituteTimeAgo");function sb(s,u,d,m){var b=_t(s).abs(),A=tn(b.as("s")),T=tn(b.as("m")),R=tn(b.as("h")),G=tn(b.as("d")),re=tn(b.as("M")),Ze=tn(b.as("w")),nn=tn(b.as("y")),An=A<=d.ss&&["s",A]||A<d.s&&["ss",A]||T<=1&&["m"]||T<d.m&&["mm",T]||R<=1&&["h"]||R<d.h&&["hh",R]||G<=1&&["d"]||G<d.d&&["dd",G];return d.w!=null&&(An=An||Ze<=1&&["w"]||Ze<d.w&&["ww",Ze]),An=An||re<=1&&["M"]||re<d.M&&["MM",re]||nn<=1&&["y"]||["yy",nn],An[2]=u,An[3]=+s>0,An[4]=m,ob.apply(null,An)}r(sb,"relativeTime$1");function ab(s){return s===void 0?tn:typeof s=="function"?(tn=s,!0):!1}r(ab,"getSetRelativeTimeRounding");function lb(s,u){return lr[s]===void 0?!1:u===void 0?lr[s]:(lr[s]=u,s==="s"&&(lr.ss=u-1),!0)}r(lb,"getSetRelativeTimeThreshold");function ub(s,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,m=lr,b,A;return typeof s=="object"&&(u=s,s=!1),typeof s=="boolean"&&(d=s),typeof u=="object"&&(m=Object.assign({},lr,u),u.s!=null&&u.ss==null&&(m.ss=u.s-1)),b=this.localeData(),A=sb(this,!d,m,b),d&&(A=b.pastFuture(+this,A)),b.postformat(A)}r(ub,"humanize");var qa=Math.abs;function ur(s){return(s>0)-(s<0)||+s}r(ur,"sign");function oo(){if(!this.isValid())return this.localeData().invalidDate();var s=qa(this._milliseconds)/1e3,u=qa(this._days),d=qa(this._months),m,b,A,T,R=this.asSeconds(),G,re,Ze,nn;return R?(m=gt(s/60),b=gt(m/60),s%=60,m%=60,A=gt(d/12),d%=12,T=s?s.toFixed(3).replace(/\.?0+$/,""):"",G=R<0?"-":"",re=ur(this._months)!==ur(R)?"-":"",Ze=ur(this._days)!==ur(R)?"-":"",nn=ur(this._milliseconds)!==ur(R)?"-":"",G+"P"+(A?re+A+"Y":"")+(d?re+d+"M":"")+(u?Ze+u+"D":"")+(b||m||s?"T":"")+(b?nn+b+"H":"")+(m?nn+m+"M":"")+(s?nn+T+"S":"")):"P0D"}r(oo,"toISOString$1");var ie=Ji.prototype;ie.isValid=nw,ie.abs=Ry,ie.add=Ly,ie.subtract=Ny,ie.as=$y,ie.asMilliseconds=jc,ie.asSeconds=Vy,ie.asMinutes=Yy,ie.asHours=Uy,ie.asDays=Wy,ie.asWeeks=zy,ie.asMonths=Hy,ie.asQuarters=Gy,ie.asYears=qy,ie.valueOf=jy,ie._bubble=By,ie.clone=Ky,ie.get=Xy,ie.milliseconds=Zy,ie.seconds=Jy,ie.minutes=Qy,ie.hours=eb,ie.days=tb,ie.weeks=ib,ie.months=nb,ie.years=rb,ie.humanize=ub,ie.toISOString=oo,ie.toString=oo,ie.toJSON=oo,ie.locale=Dc,ie.localeData=Lc,ie.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",oo),ie.lang=Rc,k("X",0,0,"unix"),k("x",0,0,"valueOf"),B("x",Lt),B("X",Pt),fe("X",function(s,u,d){d._d=new Date(parseFloat(s)*1e3)}),fe("x",function(s,u,d){d._d=new Date(ne(s))});return e.version="2.30.1",n(he),e.fn=O,e.min=J0,e.max=Q0,e.now=ew,e.utc=w,e.unix=Fy,e.months=Iy,e.isDate=p,e.locale=bn,e.invalid=C,e.duration=_t,e.isMoment=S,e.weekdays=Oy,e.parseZone=Py,e.localeData=Jt,e.isDuration=Qi,e.monthsShort=_y,e.weekdaysMin=Dy,e.defineLocale=Da,e.updateLocale=P0,e.locales=I0,e.weekdaysShort=My,e.normalizeUnits=je,e.relativeTimeRounding=ab,e.relativeTimeThreshold=lb,e.calendarFormat=xw,e.prototype=O,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var tf=W((sT,ef)=>{var fr=1e3,dr=fr*60,hr=dr*60,$n=hr*24,gb=$n*7,wb=$n*365.25;ef.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return yb(t);if(n==="number"&&isFinite(t))return e.long?kb(t):bb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function yb(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*wb;case"weeks":case"week":case"w":return n*gb;case"days":case"day":case"d":return n*$n;case"hours":case"hour":case"hrs":case"hr":case"h":return n*hr;case"minutes":case"minute":case"mins":case"min":case"m":return n*dr;case"seconds":case"second":case"secs":case"sec":case"s":return n*fr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}r(yb,"parse");function bb(t){var e=Math.abs(t);return e>=$n?Math.round(t/$n)+"d":e>=hr?Math.round(t/hr)+"h":e>=dr?Math.round(t/dr)+"m":e>=fr?Math.round(t/fr)+"s":t+"ms"}r(bb,"fmtShort");function kb(t){var e=Math.abs(t);return e>=$n?so(t,e,$n,"day"):e>=hr?so(t,e,hr,"hour"):e>=dr?so(t,e,dr,"minute"):e>=fr?so(t,e,fr,"second"):t+" ms"}r(kb,"fmtLong");function so(t,e,n,i){var o=e>=n*1.5;return Math.round(t/n)+" "+i+(o?"s":"")}r(so,"plural")});var Ka=W((lT,nf)=>{function Ab(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=o,n.enabled=c,n.humanize=tf(),n.destroy=p,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let g=0;for(let w=0;w<h.length;w++)g=(g<<5)-g+h.charCodeAt(w),g|=0;return n.colors[Math.abs(g)%n.colors.length]}r(e,"selectColor"),n.selectColor=e;function n(h){let g,w=null,y,E;function x(...F){if(!x.enabled)return;let C=x,I=Number(new Date),_=I-(g||I);C.diff=_,C.prev=g,C.curr=I,g=I,F[0]=n.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let U=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(S,te)=>{if(S==="%%")return"%";U++;let Z=n.formatters[te];if(typeof Z=="function"){let J=F[U];S=Z.call(C,J),F.splice(U,1),U--}return S}),n.formatArgs.call(C,F),(C.log||n.log).apply(C,F)}return r(x,"debug"),x.namespace=h,x.useColors=n.useColors(),x.color=n.selectColor(h),x.extend=i,x.destroy=n.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:r(()=>w!==null?w:(y!==n.namespaces&&(y=n.namespaces,E=n.enabled(h)),E),"get"),set:r(F=>{w=F},"set")}),typeof n.init=="function"&&n.init(x),x}r(n,"createDebug");function i(h,g){let w=n(this.namespace+(typeof g>"u"?":":g)+h);return w.log=this.log,w}r(i,"extend");function o(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let g=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of g)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}r(o,"enable");function a(h,g){let w=0,y=0,E=-1,x=0;for(;w<h.length;)if(y<g.length&&(g[y]===h[w]||g[y]==="*"))g[y]==="*"?(E=y,x=w,y++):(w++,y++);else if(E!==-1)y=E+1,x++,w=x;else return!1;for(;y<g.length&&g[y]==="*";)y++;return y===g.length}r(a,"matchesTemplate");function l(){let h=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),h}r(l,"disable");function c(h){for(let g of n.skips)if(a(h,g))return!1;for(let g of n.names)if(a(h,g))return!0;return!1}r(c,"enabled");function f(h){return h instanceof Error?h.stack||h.message:h}r(f,"coerce");function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r(p,"destroy"),n.enable(n.load()),n}r(Ab,"setup");nf.exports=Ab});var rf=W((st,ao)=>{st.formatArgs=Eb;st.save=Cb;st.load=xb;st.useColors=vb;st.storage=Tb();st.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();st.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vb(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r(vb,"useColors");function Eb(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ao.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(i=n))}),t.splice(i,0,e)}r(Eb,"formatArgs");st.log=console.debug||console.log||(()=>{});function Cb(t){try{t?st.storage.setItem("debug",t):st.storage.removeItem("debug")}catch{}}r(Cb,"save");function xb(){let t;try{t=st.storage.getItem("debug")||st.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}r(xb,"load");function Tb(){try{return localStorage}catch{}}r(Tb,"localstorage");ao.exports=Ka()(st);var{formatters:Sb}=ao.exports;Sb.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var sf=W((fT,of)=>{"use strict";of.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(n+t),o=e.indexOf("--");return i!==-1&&(o===-1||i<o)}});var uf=W((dT,lf)=>{"use strict";var Fb=require("os"),af=require("tty"),wt=sf(),{env:Ie}=process,lo;wt("no-color")||wt("no-colors")||wt("color=false")||wt("color=never")?lo=0:(wt("color")||wt("colors")||wt("color=true")||wt("color=always"))&&(lo=1);function Pb(){if("FORCE_COLOR"in Ie)return Ie.FORCE_COLOR==="true"?1:Ie.FORCE_COLOR==="false"?0:Ie.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Ie.FORCE_COLOR,10),3)}r(Pb,"envForceColor");function Ib(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}r(Ib,"translateLevel");function _b(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let i=Pb();i!==void 0&&(lo=i);let o=n?lo:i;if(o===0)return 0;if(n){if(wt("color=16m")||wt("color=full")||wt("color=truecolor"))return 3;if(wt("color=256"))return 2}if(t&&!e&&o===void 0)return 0;let a=o||0;if(Ie.TERM==="dumb")return a;if(process.platform==="win32"){let l=Fb.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Ie)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Ie)||Ie.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Ie)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ie.TEAMCITY_VERSION)?1:0;if(Ie.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ie){let l=Number.parseInt((Ie.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ie.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ie.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ie.TERM)||"COLORTERM"in Ie?1:a}r(_b,"supportsColor");function Xa(t,e={}){let n=_b(t,{streamIsTTY:t&&t.isTTY,...e});return Ib(n)}r(Xa,"getSupportLevel");lf.exports={supportsColor:Xa,stdout:Xa({isTTY:af.isatty(1)}),stderr:Xa({isTTY:af.isatty(2)})}});var ff=W((_e,co)=>{var Ob=require("tty"),uo=require("util");_e.init=$b;_e.log=Lb;_e.formatArgs=Db;_e.save=Nb;_e.load=Bb;_e.useColors=Mb;_e.destroy=uo.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");_e.colors=[6,2,3,4,5,1];try{let t=uf();t&&(t.stderr||t).level>=2&&(_e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}_e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,a)=>a.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[n]=i,t},{});function Mb(){return"colors"in _e.inspectOpts?!!_e.inspectOpts.colors:Ob.isatty(process.stderr.fd)}r(Mb,"useColors");function Db(t){let{namespace:e,useColors:n}=this;if(n){let i=this.color,o="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${o};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(o+"m+"+co.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Rb()+e+" "+t[0]}r(Db,"formatArgs");function Rb(){return _e.inspectOpts.hideDate?"":new Date().toISOString()+" "}r(Rb,"getDate");function Lb(...t){return process.stderr.write(uo.formatWithOptions(_e.inspectOpts,...t)+`
`)}r(Lb,"log");function Nb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}r(Nb,"save");function Bb(){return process.env.DEBUG}r(Bb,"load");function $b(t){t.inspectOpts={};let e=Object.keys(_e.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=_e.inspectOpts[e[n]]}r($b,"init");co.exports=Ka()(_e);var{formatters:cf}=co.exports;cf.o=function(t){return this.inspectOpts.colors=this.useColors,uo.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};cf.O=function(t){return this.inspectOpts.colors=this.useColors,uo.inspect(t,this.inspectOpts)}});var df=W((mT,Za)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Za.exports=rf():Za.exports=ff()});var Vf=W((dS,$f)=>{"use strict";function Vt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}r(Vt,"assertPath");function Bf(t,e){for(var n="",i=0,o=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(o===c-1||a===1))if(o!==c-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=c,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,o=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,c):n=t.slice(o+1,c),i=c-o-1;o=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}r(Bf,"normalizeStringPosix");function gk(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}r(gk,"_format");var Ar={resolve:r(function(){for(var e="",n=!1,i,o=arguments.length-1;o>=-1&&!n;o--){var a;o>=0?a=arguments[o]:(i===void 0&&(i=process.cwd()),a=i),Vt(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=Bf(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:r(function(e){if(Vt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=Bf(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:r(function(e){return Vt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];Vt(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":Ar.normalize(e)},"join"),relative:r(function(e,n){if(Vt(e),Vt(n),e===n||(e=Ar.resolve(e),n=Ar.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var o=e.length,a=o-i,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,f=c-l,p=a<f?a:f,h=-1,g=0;g<=p;++g){if(g===p){if(f>p){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else a>p&&(e.charCodeAt(i+g)===47?h=g:g===0&&(h=0));break}var w=e.charCodeAt(i+g),y=n.charCodeAt(l+g);if(w!==y)break;w===47&&(h=g)}var E="";for(g=i+h+1;g<=o;++g)(g===o||e.charCodeAt(g)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+n.slice(l+h):(l+=h,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:r(function(e){return e},"_makeLong"),dirname:r(function(e){if(Vt(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,o=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){o=l;break}}else a=!1;return o===-1?i?"/":".":i&&o===1?"//":e.slice(0,o)},"dirname"),basename:r(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Vt(e);var i=0,o=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var p=e.charCodeAt(l);if(p===47){if(!a){i=l+1;break}}else f===-1&&(a=!1,f=l+1),c>=0&&(p===n.charCodeAt(c)?--c===-1&&(o=l):(c=-1,o=f))}return i===o?o=f:o===-1&&(o=e.length),e.slice(i,o)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){i=l+1;break}}else o===-1&&(a=!1,o=l+1);return o===-1?"":e.slice(i,o)}},"basename"),extname:r(function(e){Vt(e);for(var n=-1,i=0,o=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var f=e.charCodeAt(c);if(f===47){if(!a){i=c+1;break}continue}o===-1&&(a=!1,o=c+1),f===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===i+1?"":e.slice(n,o)},"extname"),format:r(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return gk("/",e)},"format"),parse:r(function(e){Vt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),o=i===47,a;o?(n.root="/",a=1):a=0;for(var l=-1,c=0,f=-1,p=!0,h=e.length-1,g=0;h>=a;--h){if(i=e.charCodeAt(h),i===47){if(!p){c=h+1;break}continue}f===-1&&(p=!1,f=h+1),i===46?l===-1?l=h:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||f===-1||g===0||g===1&&l===f-1&&l===c+1?f!==-1&&(c===0&&o?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(c,f)):(c===0&&o?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(c,l),n.base=e.slice(c,f)),n.ext=e.slice(l,f)),c>0?n.dir=e.slice(0,c-1):o&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Ar.posix=Ar;$f.exports=Ar});var dh=W((PD,fh)=>{"use strict";var Wo=Object.prototype.hasOwnProperty,ch=Object.prototype.toString,ih=Object.defineProperty,oh=Object.getOwnPropertyDescriptor,sh=r(function(e){return typeof Array.isArray=="function"?Array.isArray(e):ch.call(e)==="[object Array]"},"isArray"),ah=r(function(e){if(!e||ch.call(e)!=="[object Object]")return!1;var n=Wo.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Wo.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var o;for(o in e);return typeof o>"u"||Wo.call(e,o)},"isPlainObject"),lh=r(function(e,n){ih&&n.name==="__proto__"?ih(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),uh=r(function(e,n){if(n==="__proto__")if(Wo.call(e,n)){if(oh)return oh(e,n).value}else return;return e[n]},"getProperty");fh.exports=r(function t(){var e,n,i,o,a,l,c=arguments[0],f=1,p=arguments.length,h=!1;for(typeof c=="boolean"&&(h=c,c=arguments[1]||{},f=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});f<p;++f)if(e=arguments[f],e!=null)for(n in e)i=uh(c,n),o=uh(e,n),c!==o&&(h&&o&&(ah(o)||(a=sh(o)))?(a?(a=!1,l=i&&sh(i)?i:[]):l=i&&ah(i)?i:{},lh(c,{name:n,newValue:t(h,l,o)})):typeof o<"u"&&lh(c,{name:n,newValue:o}));return c},"extend")});var Hh=W((os,zh)=>{(function(t,e){typeof os=="object"&&typeof zh<"u"?e(os):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(os,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=r(F=>{if(typeof F!="string")throw new TypeError("Invalid argument expected string");let C=F.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${F}' received)`);return C.shift(),C},"validateAndParse"),i=r(F=>F==="*"||F==="x"||F==="X","isWildcard"),o=r(F=>{let C=parseInt(F,10);return isNaN(C)?F:C},"tryParse"),a=r((F,C)=>typeof F!=typeof C?[String(F),String(C)]:[F,C],"forceType"),l=r((F,C)=>{if(i(F)||i(C))return 0;let[I,_]=a(o(F),o(C));return I>_?1:I<_?-1:0},"compareStrings"),c=r((F,C)=>{for(let I=0;I<Math.max(F.length,C.length);I++){let _=l(F[I]||"0",C[I]||"0");if(_!==0)return _}return 0},"compareSegments"),f=r((F,C)=>{let I=n(F),_=n(C),U=I.pop(),z=_.pop(),S=c(I,_);return S!==0?S:U&&z?c(U.split("."),z.split(".")):U||z?U?-1:1:0},"compareVersions"),p=r((F,C,I)=>{w(I);let _=f(F,C);return h[I].includes(_)},"compare"),h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(h),w=r(F=>{if(typeof F!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof F}`);if(g.indexOf(F)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},"assertValidOperator"),y=r((F,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(se=>y(F,se));if(C.includes(" - ")){let[se,be]=C.split(" - ",2);return y(F,`>=${se} <=${be}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(se=>y(F,se));let I=C.match(/^([<>=~^]+)/),_=I?I[1]:"=";if(_!=="^"&&_!=="~")return p(F,C,_);let[U,z,S,,te]=n(F),[Z,J,le,,de]=n(C),oe=[U,z,S],Y=[Z,J??"x",le??"x"];if(de&&(!te||c(oe,Y)!==0||c(te.split("."),de.split("."))===-1))return!1;let q=Y.findIndex(se=>se!=="0")+1,H=_==="~"?2:q>1?q:1;return!(c(oe.slice(0,H),Y.slice(0,H))!==0||c(oe.slice(H),Y.slice(H))===-1)},"satisfies"),E=r(F=>typeof F=="string"&&/^[v\d]/.test(F)&&e.test(F),"validate"),x=r(F=>typeof F=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(F),"validateStrict");t.compare=p,t.compareVersions=f,t.satisfies=y,t.validate=E,t.validateStrict=x}))});var dp=W((Tu,Su)=>{(function(t,e,n){typeof Tu=="object"?(Su.exports=n(),Su.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",Tu,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(i,o){if(typeof i!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=e[o.locale]||{},l=o.replacement===void 0?"-":o.replacement,c=o.trim===void 0?!0:o.trim,f=i.normalize().split("").reduce(function(p,h){var g=a[h];return g===void 0&&(g=t[h]),g===void 0&&(g=h),g===l&&(g=" "),p+g.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(f=f.replace(/[^A-Za-z0-9\s]/g,"")),c&&(f=f.trim()),f=f.replace(/\s+/g,l),o.lower&&(f=f.toLowerCase()),f}return r(n,"replace"),n.extend=function(i){Object.assign(t,i)},n})});var Di=W((H$,Fp)=>{"use strict";var GE="2.0.0",qE=Number.MAX_SAFE_INTEGER||9007199254740991,jE=16,KE=250,XE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Fp.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:jE,MAX_SAFE_BUILD_LENGTH:KE,MAX_SAFE_INTEGER:qE,RELEASE_TYPES:XE,SEMVER_SPEC_VERSION:GE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ri=W((G$,Pp)=>{"use strict";var ZE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Pp.exports=ZE});var Yr=W((Ht,Ip)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Ru,MAX_SAFE_BUILD_LENGTH:JE,MAX_LENGTH:QE}=Di(),eC=Ri();Ht=Ip.exports={};var tC=Ht.re=[],nC=Ht.safeRe=[],L=Ht.src=[],rC=Ht.safeSrc=[],N=Ht.t={},iC=0,Lu="[a-zA-Z0-9-]",oC=[["\\s",1],["\\d",QE],[Lu,JE]],sC=r(t=>{for(let[e,n]of oC)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},"makeSafeRegex"),X=r((t,e,n)=>{let i=sC(e),o=iC++;eC(t,o,e),N[t]=o,L[o]=e,rC[o]=i,tC[o]=new RegExp(e,n?"g":void 0),nC[o]=new RegExp(i,n?"g":void 0)},"createToken");X("NUMERICIDENTIFIER","0|[1-9]\\d*");X("NUMERICIDENTIFIERLOOSE","\\d+");X("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Lu}*`);X("MAINVERSION",`(${L[N.NUMERICIDENTIFIER]})\\.(${L[N.NUMERICIDENTIFIER]})\\.(${L[N.NUMERICIDENTIFIER]})`);X("MAINVERSIONLOOSE",`(${L[N.NUMERICIDENTIFIERLOOSE]})\\.(${L[N.NUMERICIDENTIFIERLOOSE]})\\.(${L[N.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASEIDENTIFIER",`(?:${L[N.NONNUMERICIDENTIFIER]}|${L[N.NUMERICIDENTIFIER]})`);X("PRERELEASEIDENTIFIERLOOSE",`(?:${L[N.NONNUMERICIDENTIFIER]}|${L[N.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASE",`(?:-(${L[N.PRERELEASEIDENTIFIER]}(?:\\.${L[N.PRERELEASEIDENTIFIER]})*))`);X("PRERELEASELOOSE",`(?:-?(${L[N.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L[N.PRERELEASEIDENTIFIERLOOSE]})*))`);X("BUILDIDENTIFIER",`${Lu}+`);X("BUILD",`(?:\\+(${L[N.BUILDIDENTIFIER]}(?:\\.${L[N.BUILDIDENTIFIER]})*))`);X("FULLPLAIN",`v?${L[N.MAINVERSION]}${L[N.PRERELEASE]}?${L[N.BUILD]}?`);X("FULL",`^${L[N.FULLPLAIN]}$`);X("LOOSEPLAIN",`[v=\\s]*${L[N.MAINVERSIONLOOSE]}${L[N.PRERELEASELOOSE]}?${L[N.BUILD]}?`);X("LOOSE",`^${L[N.LOOSEPLAIN]}$`);X("GTLT","((?:<|>)?=?)");X("XRANGEIDENTIFIERLOOSE",`${L[N.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);X("XRANGEIDENTIFIER",`${L[N.NUMERICIDENTIFIER]}|x|X|\\*`);X("XRANGEPLAIN",`[v=\\s]*(${L[N.XRANGEIDENTIFIER]})(?:\\.(${L[N.XRANGEIDENTIFIER]})(?:\\.(${L[N.XRANGEIDENTIFIER]})(?:${L[N.PRERELEASE]})?${L[N.BUILD]}?)?)?`);X("XRANGEPLAINLOOSE",`[v=\\s]*(${L[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[N.XRANGEIDENTIFIERLOOSE]})(?:${L[N.PRERELEASELOOSE]})?${L[N.BUILD]}?)?)?`);X("XRANGE",`^${L[N.GTLT]}\\s*${L[N.XRANGEPLAIN]}$`);X("XRANGELOOSE",`^${L[N.GTLT]}\\s*${L[N.XRANGEPLAINLOOSE]}$`);X("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ru}})(?:\\.(\\d{1,${Ru}}))?(?:\\.(\\d{1,${Ru}}))?`);X("COERCE",`${L[N.COERCEPLAIN]}(?:$|[^\\d])`);X("COERCEFULL",L[N.COERCEPLAIN]+`(?:${L[N.PRERELEASE]})?(?:${L[N.BUILD]})?(?:$|[^\\d])`);X("COERCERTL",L[N.COERCE],!0);X("COERCERTLFULL",L[N.COERCEFULL],!0);X("LONETILDE","(?:~>?)");X("TILDETRIM",`(\\s*)${L[N.LONETILDE]}\\s+`,!0);Ht.tildeTrimReplace="$1~";X("TILDE",`^${L[N.LONETILDE]}${L[N.XRANGEPLAIN]}$`);X("TILDELOOSE",`^${L[N.LONETILDE]}${L[N.XRANGEPLAINLOOSE]}$`);X("LONECARET","(?:\\^)");X("CARETTRIM",`(\\s*)${L[N.LONECARET]}\\s+`,!0);Ht.caretTrimReplace="$1^";X("CARET",`^${L[N.LONECARET]}${L[N.XRANGEPLAIN]}$`);X("CARETLOOSE",`^${L[N.LONECARET]}${L[N.XRANGEPLAINLOOSE]}$`);X("COMPARATORLOOSE",`^${L[N.GTLT]}\\s*(${L[N.LOOSEPLAIN]})$|^$`);X("COMPARATOR",`^${L[N.GTLT]}\\s*(${L[N.FULLPLAIN]})$|^$`);X("COMPARATORTRIM",`(\\s*)${L[N.GTLT]}\\s*(${L[N.LOOSEPLAIN]}|${L[N.XRANGEPLAIN]})`,!0);Ht.comparatorTrimReplace="$1$2$3";X("HYPHENRANGE",`^\\s*(${L[N.XRANGEPLAIN]})\\s+-\\s+(${L[N.XRANGEPLAIN]})\\s*$`);X("HYPHENRANGELOOSE",`^\\s*(${L[N.XRANGEPLAINLOOSE]})\\s+-\\s+(${L[N.XRANGEPLAINLOOSE]})\\s*$`);X("STAR","(<|>)?=?\\s*\\*");X("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");X("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Is=W((j$,_p)=>{"use strict";var aC=Object.freeze({loose:!0}),lC=Object.freeze({}),uC=r(t=>t?typeof t!="object"?aC:t:lC,"parseOptions");_p.exports=uC});var Nu=W((X$,Dp)=>{"use strict";var Op=/^[0-9]+$/,Mp=r((t,e)=>{let n=Op.test(t),i=Op.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},"compareIdentifiers"),cC=r((t,e)=>Mp(e,t),"rcompareIdentifiers");Dp.exports={compareIdentifiers:Mp,rcompareIdentifiers:cC}});var He=W((J$,Lp)=>{"use strict";var _s=Ri(),{MAX_LENGTH:Rp,MAX_SAFE_INTEGER:Os}=Di(),{safeRe:Ms,t:Ds}=Yr(),fC=Is(),{compareIdentifiers:Ur}=Nu(),Bu=class t{static{r(this,"SemVer")}constructor(e,n){if(n=fC(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Rp)throw new TypeError(`version is longer than ${Rp} characters`);_s("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let i=e.trim().match(n.loose?Ms[Ds.LOOSE]:Ms[Ds.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Os||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Os||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Os||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<Os)return a}return o}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_s("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Ur(this.major,e.major)||Ur(this.minor,e.minor)||Ur(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let i=this.prerelease[n],o=e.prerelease[n];if(_s("prerelease compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return Ur(i,o)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let i=this.build[n],o=e.build[n];if(_s("build compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return Ur(i,o)}while(++n)}inc(e,n,i){if(e.startsWith("pre")){if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let o=`-${n}`.match(this.options.loose?Ms[Ds.PRERELEASELOOSE]:Ms[Ds.PRERELEASE]);if(!o||o[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(i)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let a=[n,o];i===!1&&(a=[n]),Ur(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Lp.exports=Bu});var er=W((e5,Bp)=>{"use strict";var Np=He(),dC=r((t,e,n=!1)=>{if(t instanceof Np)return t;try{return new Np(t,e)}catch(i){if(!n)return null;throw i}},"parse");Bp.exports=dC});var Vp=W((n5,$p)=>{"use strict";var hC=er(),pC=r((t,e)=>{let n=hC(t,e);return n?n.version:null},"valid");$p.exports=pC});var Up=W((i5,Yp)=>{"use strict";var mC=er(),gC=r((t,e)=>{let n=mC(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean");Yp.exports=gC});var Hp=W((s5,zp)=>{"use strict";var Wp=He(),wC=r((t,e,n,i,o)=>{typeof n=="string"&&(o=i,i=n,n=void 0);try{return new Wp(t instanceof Wp?t.version:t,n).inc(e,i,o).version}catch{return null}},"inc");zp.exports=wC});var jp=W((l5,qp)=>{"use strict";var Gp=er(),yC=r((t,e)=>{let n=Gp(t,null,!0),i=Gp(e,null,!0),o=n.compare(i);if(o===0)return null;let a=o>0,l=a?n:i,c=a?i:n,f=!!l.prerelease.length;if(!!c.prerelease.length&&!f){if(!c.patch&&!c.minor)return"major";if(c.compareMain(l)===0)return c.minor&&!c.patch?"minor":"patch"}let h=f?"pre":"";return n.major!==i.major?h+"major":n.minor!==i.minor?h+"minor":n.patch!==i.patch?h+"patch":"prerelease"},"diff");qp.exports=yC});var Xp=W((c5,Kp)=>{"use strict";var bC=He(),kC=r((t,e)=>new bC(t,e).major,"major");Kp.exports=kC});var Jp=W((d5,Zp)=>{"use strict";var AC=He(),vC=r((t,e)=>new AC(t,e).minor,"minor");Zp.exports=vC});var em=W((p5,Qp)=>{"use strict";var EC=He(),CC=r((t,e)=>new EC(t,e).patch,"patch");Qp.exports=CC});var nm=W((g5,tm)=>{"use strict";var xC=er(),TC=r((t,e)=>{let n=xC(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease");tm.exports=TC});var Ct=W((y5,im)=>{"use strict";var rm=He(),SC=r((t,e,n)=>new rm(t,n).compare(new rm(e,n)),"compare");im.exports=SC});var sm=W((k5,om)=>{"use strict";var FC=Ct(),PC=r((t,e,n)=>FC(e,t,n),"rcompare");om.exports=PC});var lm=W((v5,am)=>{"use strict";var IC=Ct(),_C=r((t,e)=>IC(t,e,!0),"compareLoose");am.exports=_C});var Rs=W((C5,cm)=>{"use strict";var um=He(),OC=r((t,e,n)=>{let i=new um(t,n),o=new um(e,n);return i.compare(o)||i.compareBuild(o)},"compareBuild");cm.exports=OC});var dm=W((T5,fm)=>{"use strict";var MC=Rs(),DC=r((t,e)=>t.sort((n,i)=>MC(n,i,e)),"sort");fm.exports=DC});var pm=W((F5,hm)=>{"use strict";var RC=Rs(),LC=r((t,e)=>t.sort((n,i)=>RC(i,n,e)),"rsort");hm.exports=LC});var Li=W((I5,mm)=>{"use strict";var NC=Ct(),BC=r((t,e,n)=>NC(t,e,n)>0,"gt");mm.exports=BC});var Ls=W((O5,gm)=>{"use strict";var $C=Ct(),VC=r((t,e,n)=>$C(t,e,n)<0,"lt");gm.exports=VC});var $u=W((D5,wm)=>{"use strict";var YC=Ct(),UC=r((t,e,n)=>YC(t,e,n)===0,"eq");wm.exports=UC});var Vu=W((L5,ym)=>{"use strict";var WC=Ct(),zC=r((t,e,n)=>WC(t,e,n)!==0,"neq");ym.exports=zC});var Ns=W((B5,bm)=>{"use strict";var HC=Ct(),GC=r((t,e,n)=>HC(t,e,n)>=0,"gte");bm.exports=GC});var Bs=W((V5,km)=>{"use strict";var qC=Ct(),jC=r((t,e,n)=>qC(t,e,n)<=0,"lte");km.exports=jC});var Yu=W((U5,Am)=>{"use strict";var KC=$u(),XC=Vu(),ZC=Li(),JC=Ns(),QC=Ls(),ex=Bs(),tx=r((t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return KC(t,n,i);case"!=":return XC(t,n,i);case">":return ZC(t,n,i);case">=":return JC(t,n,i);case"<":return QC(t,n,i);case"<=":return ex(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");Am.exports=tx});var Em=W((z5,vm)=>{"use strict";var nx=He(),rx=er(),{safeRe:$s,t:Vs}=Yr(),ix=r((t,e)=>{if(t instanceof nx)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?$s[Vs.COERCEFULL]:$s[Vs.COERCE]);else{let f=e.includePrerelease?$s[Vs.COERCERTLFULL]:$s[Vs.COERCERTL],p;for(;(p=f.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||p.index+p[0].length!==n.index+n[0].length)&&(n=p),f.lastIndex=p.index+p[1].length+p[2].length;f.lastIndex=-1}if(n===null)return null;let i=n[2],o=n[3]||"0",a=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",c=e.includePrerelease&&n[6]?`+${n[6]}`:"";return rx(`${i}.${o}.${a}${l}${c}`,e)},"coerce");vm.exports=ix});var xm=W((G5,Cm)=>{"use strict";var Uu=class{static{r(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,n)}return this}};Cm.exports=Uu});var xt=W((j5,Pm)=>{"use strict";var ox=/\s+/g,Wu=class t{static{r(this,"Range")}constructor(e,n){if(n=ax(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof zu)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(ox," "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(o=>!Sm(o[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&px(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let i=0;i<n.length;i++)i>0&&(this.formatted+=" "),this.formatted+=n[i].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&dx)|(this.options.loose&&hx))+":"+e,o=Tm.get(i);if(o)return o;let a=this.options.loose,l=a?lt[nt.HYPHENRANGELOOSE]:lt[nt.HYPHENRANGE];e=e.replace(l,Cx(this.options.includePrerelease)),pe("hyphen replace",e),e=e.replace(lt[nt.COMPARATORTRIM],ux),pe("comparator trim",e),e=e.replace(lt[nt.TILDETRIM],cx),pe("tilde trim",e),e=e.replace(lt[nt.CARETTRIM],fx),pe("caret trim",e);let c=e.split(" ").map(g=>mx(g,this.options)).join(" ").split(/\s+/).map(g=>Ex(g,this.options));a&&(c=c.filter(g=>(pe("loose invalid filter",g,this.options),!!g.match(lt[nt.COMPARATORLOOSE])))),pe("range list",c);let f=new Map,p=c.map(g=>new zu(g,this.options));for(let g of p){if(Sm(g))return[g];f.set(g.value,g)}f.size>1&&f.has("")&&f.delete("");let h=[...f.values()];return Tm.set(i,h),h}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>Fm(i,n)&&e.set.some(o=>Fm(o,n)&&i.every(a=>o.every(l=>a.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new lx(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(xx(this.set[n],e,this.options))return!0;return!1}};Pm.exports=Wu;var sx=xm(),Tm=new sx,ax=Is(),zu=Ni(),pe=Ri(),lx=He(),{safeRe:lt,t:nt,comparatorTrimReplace:ux,tildeTrimReplace:cx,caretTrimReplace:fx}=Yr(),{FLAG_INCLUDE_PRERELEASE:dx,FLAG_LOOSE:hx}=Di(),Sm=r(t=>t.value==="<0.0.0-0","isNullSet"),px=r(t=>t.value==="","isAny"),Fm=r((t,e)=>{let n=!0,i=t.slice(),o=i.pop();for(;n&&i.length;)n=i.every(a=>o.intersects(a,e)),o=i.pop();return n},"isSatisfiable"),mx=r((t,e)=>(pe("comp",t,e),t=yx(t,e),pe("caret",t),t=gx(t,e),pe("tildes",t),t=kx(t,e),pe("xrange",t),t=vx(t,e),pe("stars",t),t),"parseComparator"),rt=r(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),gx=r((t,e)=>t.trim().split(/\s+/).map(n=>wx(n,e)).join(" "),"replaceTildes"),wx=r((t,e)=>{let n=e.loose?lt[nt.TILDELOOSE]:lt[nt.TILDE];return t.replace(n,(i,o,a,l,c)=>{pe("tilde",t,i,o,a,l,c);let f;return rt(o)?f="":rt(a)?f=`>=${o}.0.0 <${+o+1}.0.0-0`:rt(l)?f=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:c?(pe("replaceTilde pr",c),f=`>=${o}.${a}.${l}-${c} <${o}.${+a+1}.0-0`):f=`>=${o}.${a}.${l} <${o}.${+a+1}.0-0`,pe("tilde return",f),f})},"replaceTilde"),yx=r((t,e)=>t.trim().split(/\s+/).map(n=>bx(n,e)).join(" "),"replaceCarets"),bx=r((t,e)=>{pe("caret",t,e);let n=e.loose?lt[nt.CARETLOOSE]:lt[nt.CARET],i=e.includePrerelease?"-0":"";return t.replace(n,(o,a,l,c,f)=>{pe("caret",t,o,a,l,c,f);let p;return rt(a)?p="":rt(l)?p=`>=${a}.0.0${i} <${+a+1}.0.0-0`:rt(c)?a==="0"?p=`>=${a}.${l}.0${i} <${a}.${+l+1}.0-0`:p=`>=${a}.${l}.0${i} <${+a+1}.0.0-0`:f?(pe("replaceCaret pr",f),a==="0"?l==="0"?p=`>=${a}.${l}.${c}-${f} <${a}.${l}.${+c+1}-0`:p=`>=${a}.${l}.${c}-${f} <${a}.${+l+1}.0-0`:p=`>=${a}.${l}.${c}-${f} <${+a+1}.0.0-0`):(pe("no pr"),a==="0"?l==="0"?p=`>=${a}.${l}.${c}${i} <${a}.${l}.${+c+1}-0`:p=`>=${a}.${l}.${c}${i} <${a}.${+l+1}.0-0`:p=`>=${a}.${l}.${c} <${+a+1}.0.0-0`),pe("caret return",p),p})},"replaceCaret"),kx=r((t,e)=>(pe("replaceXRanges",t,e),t.split(/\s+/).map(n=>Ax(n,e)).join(" ")),"replaceXRanges"),Ax=r((t,e)=>{t=t.trim();let n=e.loose?lt[nt.XRANGELOOSE]:lt[nt.XRANGE];return t.replace(n,(i,o,a,l,c,f)=>{pe("xRange",t,i,o,a,l,c,f);let p=rt(a),h=p||rt(l),g=h||rt(c),w=g;return o==="="&&w&&(o=""),f=e.includePrerelease?"-0":"",p?o===">"||o==="<"?i="<0.0.0-0":i="*":o&&w?(h&&(l=0),c=0,o===">"?(o=">=",h?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):o==="<="&&(o="<",h?a=+a+1:l=+l+1),o==="<"&&(f="-0"),i=`${o+a}.${l}.${c}${f}`):h?i=`>=${a}.0.0${f} <${+a+1}.0.0-0`:g&&(i=`>=${a}.${l}.0${f} <${a}.${+l+1}.0-0`),pe("xRange return",i),i})},"replaceXRange"),vx=r((t,e)=>(pe("replaceStars",t,e),t.trim().replace(lt[nt.STAR],"")),"replaceStars"),Ex=r((t,e)=>(pe("replaceGTE0",t,e),t.trim().replace(lt[e.includePrerelease?nt.GTE0PRE:nt.GTE0],"")),"replaceGTE0"),Cx=r(t=>(e,n,i,o,a,l,c,f,p,h,g,w)=>(rt(i)?n="":rt(o)?n=`>=${i}.0.0${t?"-0":""}`:rt(a)?n=`>=${i}.${o}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,rt(p)?f="":rt(h)?f=`<${+p+1}.0.0-0`:rt(g)?f=`<${p}.${+h+1}.0-0`:w?f=`<=${p}.${h}.${g}-${w}`:t?f=`<${p}.${h}.${+g+1}-0`:f=`<=${f}`,`${n} ${f}`.trim()),"hyphenReplace"),xx=r((t,e,n)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let i=0;i<t.length;i++)if(pe(t[i].semver),t[i].semver!==zu.ANY&&t[i].semver.prerelease.length>0){let o=t[i].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0},"testSet")});var Ni=W((X5,Rm)=>{"use strict";var Bi=Symbol("SemVer ANY"),qu=class t{static{r(this,"Comparator")}static get ANY(){return Bi}constructor(e,n){if(n=Im(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Gu("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Bi?this.value="":this.value=this.operator+this.semver.version,Gu("comp",this)}parse(e){let n=this.options.loose?_m[Om.COMPARATORLOOSE]:_m[Om.COMPARATOR],i=e.match(n);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new Mm(i[2],this.options.loose):this.semver=Bi}toString(){return this.value}test(e){if(Gu("Comparator.test",e,this.options.loose),this.semver===Bi||e===Bi)return!0;if(typeof e=="string")try{e=new Mm(e,this.options)}catch{return!1}return Hu(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Dm(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Dm(this.value,n).test(e.semver):(n=Im(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Hu(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Hu(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Rm.exports=qu;var Im=Is(),{safeRe:_m,t:Om}=Yr(),Hu=Yu(),Gu=Ri(),Mm=He(),Dm=xt()});var $i=W((J5,Lm)=>{"use strict";var Tx=xt(),Sx=r((t,e,n)=>{try{e=new Tx(e,n)}catch{return!1}return e.test(t)},"satisfies");Lm.exports=Sx});var Bm=W((eV,Nm)=>{"use strict";var Fx=xt(),Px=r((t,e)=>new Fx(t,e).set.map(n=>n.map(i=>i.value).join(" ").trim().split(" ")),"toComparators");Nm.exports=Px});var Vm=W((nV,$m)=>{"use strict";var Ix=He(),_x=xt(),Ox=r((t,e,n)=>{let i=null,o=null,a=null;try{a=new _x(e,n)}catch{return null}return t.forEach(l=>{a.test(l)&&(!i||o.compare(l)===-1)&&(i=l,o=new Ix(i,n))}),i},"maxSatisfying");$m.exports=Ox});var Um=W((iV,Ym)=>{"use strict";var Mx=He(),Dx=xt(),Rx=r((t,e,n)=>{let i=null,o=null,a=null;try{a=new Dx(e,n)}catch{return null}return t.forEach(l=>{a.test(l)&&(!i||o.compare(l)===1)&&(i=l,o=new Mx(i,n))}),i},"minSatisfying");Ym.exports=Rx});var Hm=W((sV,zm)=>{"use strict";var ju=He(),Lx=xt(),Wm=Li(),Nx=r((t,e)=>{t=new Lx(t,e);let n=new ju("0.0.0");if(t.test(n)||(n=new ju("0.0.0-0"),t.test(n)))return n;n=null;for(let i=0;i<t.set.length;++i){let o=t.set[i],a=null;o.forEach(l=>{let c=new ju(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||Wm(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!n||Wm(n,a))&&(n=a)}return n&&t.test(n)?n:null},"minVersion");zm.exports=Nx});var qm=W((lV,Gm)=>{"use strict";var Bx=xt(),$x=r((t,e)=>{try{return new Bx(t,e).range||"*"}catch{return null}},"validRange");Gm.exports=$x});var Ys=W((cV,Zm)=>{"use strict";var Vx=He(),Xm=Ni(),{ANY:Yx}=Xm,Ux=xt(),Wx=$i(),jm=Li(),Km=Ls(),zx=Bs(),Hx=Ns(),Gx=r((t,e,n,i)=>{t=new Vx(t,i),e=new Ux(e,i);let o,a,l,c,f;switch(n){case">":o=jm,a=zx,l=Km,c=">",f=">=";break;case"<":o=Km,a=Hx,l=jm,c="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Wx(t,e,i))return!1;for(let p=0;p<e.set.length;++p){let h=e.set[p],g=null,w=null;if(h.forEach(y=>{y.semver===Yx&&(y=new Xm(">=0.0.0")),g=g||y,w=w||y,o(y.semver,g.semver,i)?g=y:l(y.semver,w.semver,i)&&(w=y)}),g.operator===c||g.operator===f||(!w.operator||w.operator===c)&&a(t,w.semver))return!1;if(w.operator===f&&l(t,w.semver))return!1}return!0},"outside");Zm.exports=Gx});var Qm=W((dV,Jm)=>{"use strict";var qx=Ys(),jx=r((t,e,n)=>qx(t,e,">",n),"gtr");Jm.exports=jx});var tg=W((pV,eg)=>{"use strict";var Kx=Ys(),Xx=r((t,e,n)=>Kx(t,e,"<",n),"ltr");eg.exports=Xx});var ig=W((gV,rg)=>{"use strict";var ng=xt(),Zx=r((t,e,n)=>(t=new ng(t,n),e=new ng(e,n),t.intersects(e,n)),"intersects");rg.exports=Zx});var sg=W((yV,og)=>{"use strict";var Jx=$i(),Qx=Ct();og.exports=(t,e,n)=>{let i=[],o=null,a=null,l=t.sort((h,g)=>Qx(h,g,n));for(let h of l)Jx(h,e,n)?(a=h,o||(o=h)):(a&&i.push([o,a]),a=null,o=null);o&&i.push([o,null]);let c=[];for(let[h,g]of i)h===g?c.push(h):!g&&h===l[0]?c.push("*"):g?h===l[0]?c.push(`<=${g}`):c.push(`${h} - ${g}`):c.push(`>=${h}`);let f=c.join(" || "),p=typeof e.raw=="string"?e.raw:String(e);return f.length<p.length?f:e}});var dg=W((bV,fg)=>{"use strict";var ag=xt(),Xu=Ni(),{ANY:Ku}=Xu,Vi=$i(),Zu=Ct(),e2=r((t,e,n={})=>{if(t===e)return!0;t=new ag(t,n),e=new ag(e,n);let i=!1;e:for(let o of t.set){for(let a of e.set){let l=n2(o,a,n);if(i=i||l!==null,l)continue e}if(i)return!1}return!0},"subset"),t2=[new Xu(">=0.0.0-0")],lg=[new Xu(">=0.0.0")],n2=r((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ku){if(e.length===1&&e[0].semver===Ku)return!0;n.includePrerelease?t=t2:t=lg}if(e.length===1&&e[0].semver===Ku){if(n.includePrerelease)return!0;e=lg}let i=new Set,o,a;for(let y of t)y.operator===">"||y.operator===">="?o=ug(o,y,n):y.operator==="<"||y.operator==="<="?a=cg(a,y,n):i.add(y.semver);if(i.size>1)return null;let l;if(o&&a){if(l=Zu(o.semver,a.semver,n),l>0)return null;if(l===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let y of i){if(o&&!Vi(y,String(o),n)||a&&!Vi(y,String(a),n))return null;for(let E of e)if(!Vi(y,String(E),n))return!1;return!0}let c,f,p,h,g=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,w=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1;g&&g.prerelease.length===1&&a.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let y of e){if(h=h||y.operator===">"||y.operator===">=",p=p||y.operator==="<"||y.operator==="<=",o){if(w&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===w.major&&y.semver.minor===w.minor&&y.semver.patch===w.patch&&(w=!1),y.operator===">"||y.operator===">="){if(c=ug(o,y,n),c===y&&c!==o)return!1}else if(o.operator===">="&&!Vi(o.semver,String(y),n))return!1}if(a){if(g&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===g.major&&y.semver.minor===g.minor&&y.semver.patch===g.patch&&(g=!1),y.operator==="<"||y.operator==="<="){if(f=cg(a,y,n),f===y&&f!==a)return!1}else if(a.operator==="<="&&!Vi(a.semver,String(y),n))return!1}if(!y.operator&&(a||o)&&l!==0)return!1}return!(o&&p&&!a&&l!==0||a&&h&&!o&&l!==0||w||g)},"simpleSubset"),ug=r((t,e,n)=>{if(!t)return e;let i=Zu(t.semver,e.semver,n);return i>0?t:i<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),cg=r((t,e,n)=>{if(!t)return e;let i=Zu(t.semver,e.semver,n);return i<0?t:i>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");fg.exports=e2});var gg=W((AV,mg)=>{"use strict";var Ju=Yr(),hg=Di(),r2=He(),pg=Nu(),i2=er(),o2=Vp(),s2=Up(),a2=Hp(),l2=jp(),u2=Xp(),c2=Jp(),f2=em(),d2=nm(),h2=Ct(),p2=sm(),m2=lm(),g2=Rs(),w2=dm(),y2=pm(),b2=Li(),k2=Ls(),A2=$u(),v2=Vu(),E2=Ns(),C2=Bs(),x2=Yu(),T2=Em(),S2=Ni(),F2=xt(),P2=$i(),I2=Bm(),_2=Vm(),O2=Um(),M2=Hm(),D2=qm(),R2=Ys(),L2=Qm(),N2=tg(),B2=ig(),$2=sg(),V2=dg();mg.exports={parse:i2,valid:o2,clean:s2,inc:a2,diff:l2,major:u2,minor:c2,patch:f2,prerelease:d2,compare:h2,rcompare:p2,compareLoose:m2,compareBuild:g2,sort:w2,rsort:y2,gt:b2,lt:k2,eq:A2,neq:v2,gte:E2,lte:C2,cmp:x2,coerce:T2,Comparator:S2,Range:F2,satisfies:P2,toComparators:I2,maxSatisfying:_2,minSatisfying:O2,minVersion:M2,validRange:D2,outside:R2,gtr:L2,ltr:N2,intersects:B2,simplifyRange:$2,subset:V2,SemVer:r2,re:Ju.re,src:Ju.src,tokens:Ju.t,SEMVER_SPEC_VERSION:hg.SEMVER_SPEC_VERSION,RELEASE_TYPES:hg.RELEASE_TYPES,compareIdentifiers:pg.compareIdentifiers,rcompareIdentifiers:pg.rcompareIdentifiers}});var X2={};Kc(X2,{default:()=>K2});module.exports=mb(X2);var Ea=require("electron"),uc=De(rn(),1),Rt=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ot(){}r(Ot,"noop");async function Bt(){}r(Bt,"noopAsync");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ri=Number.POSITIVE_INFINITY;function Bn(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Re();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let i=[];for(let a of e)i.push(Jc(a,o));return n.signal;function o(a){for(let l of i)l();n.abort(a.reason)}}r(Bn,"abortSignalAny");function Re(){return new AbortController().signal}r(Re,"abortSignalNever");function Zc(t){if(t===ri)return Re();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}r(Zc,"abortSignalTimeout");function Jc(t,e){if(t.aborted)return e(t),Ot;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(i){e(i.target)}r(n,"wrappedCallback")}r(Jc,"onAbort");function Qc(t,e){return new Promise((n,i)=>{Jc(t,()=>{e?i(t.reason):n(t.reason)})})}r(Qc,"waitForAbort");var nl=De(df(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ii(t,e){let n=t.length,i=0;for(let o=0;o<n;o++){if(!Object.hasOwn(t,o))continue;let a=t[o];e(a,o,t)&&(t[i++]=a)}t.length=i}r(ii,"filterInPlace");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $t=class{static{r(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let i=this.eventRefsMap.get(e);i&&(ii(i,o=>o.callback!==n),i.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(ii(n,i=>i!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,i){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let a={asyncEvents:this,callback:n,name:e,thisArg:i};return o.push(a),a}once(e,n,i){let o=this.on(e,n,i),a=this.on(e,()=>{this.offref(o),this.offref(a)});return o}trigger(e,...n){let i=this.eventRefsMap.get(e)??[];for(let o of i.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let i=this.eventRefsMap.get(e)??[];for(let o of i.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(i){window.setTimeout(()=>{throw i},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(i){window.setTimeout(()=>{throw i},0)}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ja="asyncError",fo=new $t;fo.on(Ja,Vb);var ho="An unhandled error occurred executing async operation",pf="    at",Mt=class t extends Error{static{r(this,"CustomStackTraceError")}constructor(e,n,i){super(e,{cause:i}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let o=i,a=new Set;for(;o instanceof t;){if(a.has(o))throw new Error("Circular cause detected");a.add(o),o=o.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},pr=class t extends Error{static{r(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function po(t){fo.trigger(Ja,t)}r(po,"emitAsyncErrorEvent");function mo(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=mo(t.cause).split(`
`);e+=`
${hf("Caused by:")}`;for(let i of n)i.trim()&&(e+=i.startsWith(pf)?`
${i}`:`
${hf(i)}`)}return e}r(mo,"errorToString");function Je(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}r(Je,"getStackTrace");function Vn(t,e){e??=globalThis.console,e.error(mo(t))}r(Vn,"printError");function mf(t){let e=fo.on(Ja,t);return()=>{fo.offref(e)}}r(mf,"registerAsyncErrorEventHandler");function on(t){throw t}r(on,"throwExpression");function hf(t){return`${pf} --- ${t} --- (0)`}r(hf,"generateStackTraceLine");function Vb(t){Vn(t)}r(Vb,"handleAsyncError");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qa="40.1.3",go="obsidian-dev-utils",gf=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var el=class{static{r(this,"ValueWrapper")}constructor(e){this.value=e}};function Yb(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??on(new Error("Obsidian app not found"))}}r(Yb,"getApp");function sn(t,e,n){let o=t??Ub()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new el(n)}r(sn,"getObsidianDevUtilsState");function Ub(){return typeof window>"u"?null:Yb()}r(Ub,"getAppOrNull");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var tl="__no-plugin-id-initialized__",wf=tl;function wo(){return wf}r(wo,"getPluginId");function yf(t){t&&(wf=t)}r(yf,"setPluginId");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bf=",",yo="-";function kf(){return{disable:Wb,enable:zb,get:bo,set:oi}}r(kf,"getDebugController");function mr(t,e=0){let n=`${t}:${String(e)}`,i=sn(null,"debuggers",new Map).value,o=i.get(n);return o||(o=si()(t),o.log=(a,...l)=>{Hb(t,e,a,...l)},i.set(n,o)),o}r(mr,"getDebugger");function ct(t){let e=wo(),n=e===tl?"":`${e}:`;return mr(`${n}${go}:${t}`)}r(ct,"getLibDebugger");function an(t,e,n,...i){if(!vf()){t(n,...i);return}t(n,...i,`

---
Context stack trace:
`,Ef(e))}r(an,"printWithStackTrace");function Af(t){let e=si().enabled(t),n=e?"enabled":"disabled",i=e?"disable":"enable",o=bo();oi(t),mr(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${i} them.`),oi(o)}r(Af,"showInitialDebugMessage");function Wb(t){let e=new Set(bo());for(let n of ai(t)){if(n.startsWith(yo))continue;let i=yo+n;e.has(n)&&e.delete(n),e.add(i)}oi(Array.from(e))}r(Wb,"disableNamespaces");function zb(t){let e=new Set(bo());for(let n of ai(t)){if(!n.startsWith(yo)){let i=yo+n;e.has(i)&&e.delete(i)}e.add(n)}oi(Array.from(e))}r(zb,"enableNamespaces");function bo(){return ai(si().load()??"")}r(bo,"getNamespaces");function si(){return typeof window>"u"?nl.default:sn(null,"debug",nl.default).value}r(si,"getSharedDebugLibInstance");function vf(){return typeof window<"u"}r(vf,"isInObsidian");function Hb(t,e,n,...i){if(!si().enabled(t))return;if(!vf()){console.debug(n,...i);return}let o=4,a=new Error().stack?.split(`
`)??[];a.splice(0,o+e),console.debug(n,...i,`

---
Logger stack trace:
`,Ef(a.join(`
`)))}r(Hb,"logWithCaller");function Ef(t){return new Mt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}r(Ef,"makeStackTraceError");function oi(t){si().enable(ai(t).join(bf))}r(oi,"setNamespaces");function ai(t){return typeof t=="string"?t.split(bf).filter(Boolean):t.flatMap(ai)}r(ai,"toArray");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function rl(t,e){e??=Je(1);try{await t()}catch(n){let i=new Mt(ho,e,n);if(Gb(i))return;po(i)}}r(rl,"addErrorHandler");function Qe(t,e){return e??=Je(1),(...n)=>{let i=Je(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${i}`,we(()=>t(...n),e)}}r(Qe,"convertAsyncToSync");function we(t,e){e??=Je(1),rl(t,e)}r(we,"invokeAsyncSafely");function Cf(t,e=0,n,i){i??=Re(),i.throwIfAborted(),n??=Je(1),we(async()=>{await ol(e,i,!0),await t(i)},n)}r(Cf,"invokeAsyncSafelyAfterDelay");function Gb(t){let e=t;for(;!(e instanceof pr);){if(!(e instanceof Error))return!1;e=e.cause}return ct("Async:handleSilentError")(t),!0}r(Gb,"handleSilentError");var qb=new WeakSet;async function xf(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}r(xf,"requestAnimationFrameAsync");async function ko(t,e,n){let i=ct("Async:retryWithTimeout");n??=Je(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await il(a.timeoutInMilliseconds,async l=>{let c=Bn(a.abortSignal,l);c.throwIfAborted();let f=0;for(;!c.aborted;){f++;let p;try{p=await t(c)}catch(h){if(c.aborted||!a.shouldRetryOnError||qb.has(h))throw new Mt("retryWithTimeout failed",n,h);Vn(h),p=!1}if(p){an(i,n,`Retry completed successfully after ${String(f)} attempts`,{fn:t});return}an(i,n,`Retry attempt ${String(f)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await ol(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}r(ko,"retryWithTimeout");async function il(t,e,n,i){i??=Je(1);let o=performance.now(),a=new AbortController,l=new AbortController,c=null,f=!1,p=!1;if(await Promise.race([h(),g()]),f)return c;throw new Mt("Run with timeout failed",i,a.signal.reason);async function h(){try{c=await e(a.signal);let w=performance.now()-o,y=ct("Async:runWithTimeout");an(y,i??"",`Execution time: ${String(w)} milliseconds`,{context:n,fn:e}),f=!0}catch(w){a.abort(w)}finally{p=!0,l.abort(new Error("Completed"))}}async function g(){for(;!p;){if(await ol(t,l.signal),p)return;let w=performance.now()-o;console.warn(`Timed out after ${String(w)} milliseconds`,{context:n,fn:e});let y=ct("Async:runWithTimeout:timeout");if(!y.enabled){a.abort(new Error(`Timed out after ${String(w)} milliseconds`));return}y(`The execution is not terminated because debugger ${y.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}r(il,"runWithTimeout");async function ol(t,e,n){await Qc(Bn(e,Zc(t))),n&&e?.throwIfAborted()}r(ol,"sleep");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jb(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",i),n.readAsDataURL(t);function i(){e(n.result)}r(i,"handleLoadEnd")})}r(jb,"blobToDataUrl");async function Tf(t,e){let n=await jb(t);return new Promise(i=>{let o=new Image;o.addEventListener("load",a),o.src=n;function a(){let l=document.createElement("canvas"),c=l.getContext("2d");if(!c)throw new Error("Could not get 2D context.");let f=o.width,p=o.height;l.width=f,l.height=p,c.fillStyle="#fff",c.fillRect(0,0,f,p),c.save();let h=.5;c.translate(f*h,p*h),c.drawImage(o,0,0,f,p,-f*h,-p*h,f,p),c.restore();let g=l.toDataURL("image/jpeg",e),w=Kb(g);i(w)}r(a,"handleLoad")})}r(Tf,"blobToJpegArrayBuffer");function Kb(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let i=window.atob(n),o=i.length,a=new Uint8Array(o);for(let l=0;l<o;l++)a[l]=i.charCodeAt(l);return a.buffer}r(Kb,"dataUrlToArrayBuffer");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ao(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(Ao,"escapeRegExp");function Sf(t){try{return new RegExp(t),!0}catch{return!1}}r(Sf,"isValidRegExp");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Yn(t,e,...n){return e??=Re(),e.throwIfAborted(),Xb(t)?await t(e,...n):t}r(Yn,"resolveValue");function Xb(t){return typeof t=="function"}r(Xb,"isFunction");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zb={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Jb={};for(let[t,e]of Object.entries(Zb))Jb[e]=t;function Ff(t,e,n,i){return i??=n,t.slice(0,n)+e+t.slice(i)}r(Ff,"insertAt");function li(t){return Ae(t,/\u00A0|\u202F/g," ").normalize("NFC")}r(li,"normalize");function Ae(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(i,...o)=>{let l=typeof o.at(-1)=="object",c=l?o.length-2:o.length-1,f={groups:l?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(c-1),source:o.at(c),substring:i},p=o.slice(0,c-1).map((h,g)=>{if(typeof h=="string")return h;if(typeof h>"u")return f.missingGroupIndices.push(g),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(f,...p)??f.substring}))}r(Ae,"replaceAll");async function Pf(t,e,n,i){if(i??=Re(),i.throwIfAborted(),typeof n=="string")return Ae(t,e,n);let o=[];Ae(t,e,(l,...c)=>(o.push(()=>Yn(n,i,l,...c)),""));let a=[];for(let l of o)i.throwIfAborted(),a.push(await l());return i.throwIfAborted(),Ae(t,e,l=>a.shift()??l.substring)}r(Pf,"replaceAllAsync");function gr(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}r(gr,"trimEnd");function wr(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}r(wr,"trimStart");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var If=".",Qb=[{constructor:ArrayBuffer,equalityComparer:tk},{constructor:Date,equalityComparer:nk},{constructor:RegExp,equalityComparer:ik},{constructor:Map,equalityComparer:rk},{constructor:Set,equalityComparer:ok}];function yt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,i=e.constructor;if(n!==i)return!1;if(n!==Object){let f=sk(t,e);if(f!==void 0)return f}let o=yr(t),a=yr(e);if(o.length!==a.length)return!1;let l=t,c=e;for(let f of o)if(!a.includes(f)||!yt(l[f],c[f]))return!1;return!0}r(yt,"deepEqual");function _f(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}r(_f,"extractDefaultExportInterop");function yr(t){let e=[],n=t;for(;n;){let i=Object.getOwnPropertyDescriptors(n);for(let[o,a]of Object.entries(i)){if(o==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(o);continue}a.enumerable&&a.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}r(yr,"getAllKeys");function vn(t,e){let n=t,i=e.split(If);for(let o of i){if(n===void 0)return;n=n[o]}return n}r(vn,"getNestedPropertyValue");function al(t){return t==null?t:Object.getPrototypeOf(t)}r(al,"getPrototypeOf");function Of(t,e){for(let[n,i]of Object.entries(t))i===void 0&&!e?.includes(n)&&delete t[n];return t}r(Of,"removeUndefinedProperties");function Mf(t,e,n){let i=new Error(`Property path ${e} not found`),o=t,a=e.split(If);for(let c of a.slice(0,-1)){if(o===void 0)throw i;o=o[c]}let l=a.at(-1);if(o===void 0||l===void 0)throw i;o[l]=n}r(Mf,"setNestedPropertyValue");function br(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:sl("CircularReference"),maxDepthLimitReached:sl("MaxDepthLimitReached"),toJSONFailed:sl("ToJSONFailed")}},i={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};i.maxDepth===-1&&(i.maxDepth=1/0);let o=[],l=vo(t,"",0,!0,i,o,new WeakSet),c=JSON.stringify(l,null,i.space)??"";return c=Ae(c,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,p,h)=>ek({functionTexts:o,index:h?parseInt(h,10):0,key:p,substitutions:i.tokenSubstitutions})),c}r(br,"toJson");function ek(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??on(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}r(ek,"applySubstitutions");function tk(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),i=new Uint8Array(e);return yt(n,i)}r(tk,"deepEqualArrayBuffer");function nk(t,e){return t.getTime()===e.getTime()}r(nk,"deepEqualDate");function rk(t,e){if(t.size!==e.size)return!1;for(let[n,i]of t.entries())if(!e.has(n)||!yt(i,e.get(n)))return!1;return!0}r(rk,"deepEqualMap");function ik(t,e){return t.source===e.source&&t.flags===e.flags}r(ik,"deepEqualRegExp");function ok(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let i=!1;for(let o of e)if(yt(n,o)){i=!0;break}if(!i)return!1}return!0}r(ok,"deepEqualSet");function sk(t,e){for(let{constructor:n,equalityComparer:i}of Qb)if(t instanceof n&&e instanceof n)return i(t,e)}r(sk,"deepEqualTyped");function ak(t,e,n,i,o,a){return e>i.maxDepth?kr("MaxDepthLimitReachedArray",t.length):t.map((l,c)=>vo(l,String(c),e+1,n,i,o,a))}r(ak,"handleArray");function lk(t,e,n){if(n.shouldHandleCircularReferences)return kr("CircularReference");let i=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${i}'
--- property '${e}' closes the circle`)}r(lk,"handleCircularReference");function uk(t,e,n){if(n.functionHandlingMode==="exclude")return;let i=e.length,o=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),kr("Function",i)}r(uk,"handleFunction");function ck(t,e,n,i,o,a,l){if(l.has(t))return lk(t,e,o);if(l.add(t),i){let c=dk(t,e,n,o,a,l);if(c!==void 0)return c}return Array.isArray(t)?ak(t,n,i,o,a,l):n>o.maxDepth?kr("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?mo(t):fk(t,n,i,o,a,l)}r(ck,"handleObject");function fk(t,e,n,i,o,a){let l=Object.entries(t);return i.shouldSortKeys&&l.sort(([c],[f])=>c.localeCompare(f)),Object.fromEntries(l.map(([c,f])=>[c,vo(f,c,e+1,n,i,o,a)]))}r(fk,"handlePlainObject");function sl(t){return`{ "[[${t}]]": null }`}r(sl,"makeObjectTokenSubstitution");function kr(t,e){return`[[${t}${e?String(e):""}]]`}r(kr,"makePlaceholder");function vo(t,e,n,i,o,a,l){return t===void 0?n===0||o.shouldHandleUndefined?kr("Undefined"):void 0:typeof t=="function"?uk(t,a,o):typeof t!="object"||t===null?t:ck(t,e,n,i,o,a,l)}r(vo,"toPlainObject");function dk(t,e,n,i,o,a){let l=t.toJSON;if(typeof l=="function")try{let c=l.call(t,e);return vo(c,e,n,!1,i,o,a)}catch(c){if(i.shouldCatchToJSONErrors)return kr("ToJSONFailed");throw c}}r(dk,"tryHandleToJSON");var hk=require("obsidian"),Rf=require("obsidian"),Lf=require("obsidian"),aS=require("obsidian"),lS=require("obsidian");var Df=class{static{r(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var bt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},ui={AllProperties:"all-properties",Audio:"audio",Backlink:bt.Backlink,Bases:bt.Bases,Bookmarks:bt.Bookmarks,Canvas:bt.Canvas,Empty:"empty",FileExplorer:bt.FileExplorer,FileProperties:"file-properties",Graph:bt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:bt.OutgoingLink,Outline:bt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function pk(){return Rf.TFile}r(pk,"getTFileConstructor");function mk(){return Lf.TFolder}r(mk,"getTFolderConstructor");function kt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}r(kt,"parentFolderPath");function Eo(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(mk())(t.vault,e),n.parent=Eo(t,kt(e)),n.deleted=!0,n)}r(Eo,"createTFolderInstance");function Nf(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(pk())(t.vault,e),n.parent=Eo(t,kt(e)),n.deleted=!0,n)}r(Nf,"createTFileInstance");function ln(t){return!!t.position}r(ln,"isReferenceCache");function ft(t){return!!t.key}r(ft,"isFrontmatterLinkCache");var ll=De(Vf(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wk=/[a-zA-Z]:\/[^:]*$/,Yt=ll.default.posix,gS=Yt.delimiter,wS=ll.default.posix.sep,Te=Yt.basename,ye=Yt.dirname,Ue=Yt.extname,yS=Yt.format;var ve=Yt.join,bS=Yt.normalize,kS=Yt.parse,vr=Yt.relative;function Dt(t,e){return e?`${t}.${e}`:t}r(Dt,"makeFileName");function Yf(...t){let e=Yt.resolve(...t);return e=yk(e),wk.exec(e)?.[0]??e}r(Yf,"resolve");function yk(t){return Ae(t,"\\","/")}r(yk,"toPosixPath");var un=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bk="base",kk="canvas",Wf="md";function ul(t,e,n){if(At(e))return e.extension===n;if(typeof e=="string"){let i=Pe(t,e);return i?i.extension===n:Ue(e).slice(1)===n}return!1}r(ul,"checkExtension");function Un(t,e,n){if(e===null)return null;if(zf(e))return e;let i=Uf(t,e,n);if(i)return i;let o=Gf(e);return o===e?null:Uf(t,o,n)}r(Un,"getAbstractFileOrNull");function Le(t,e,n,i){let o=Pe(t,e,i);if(!o)if(n)o=Nf(t,e);else throw new Error(`File not found: ${e}`);return o}r(Le,"getFile");function Pe(t,e,n){let i=Un(t,e,n);return At(i)?i:null}r(Pe,"getFileOrNull");function ci(t,e,n,i){let o=Ut(t,e,i);if(!o)if(n)o=Eo(t,e);else throw new Error(`Folder not found: ${e}`);return o}r(ci,"getFolder");function Ut(t,e,n){let i=Un(t,e,n);return cl(i)?i:null}r(Ut,"getFolderOrNull");function Ce(t,e){if(zf(e))return e.path;let n=Un(t,e);return n?n.path:Gf(e)}r(Ce,"getPath");function zf(t){return t instanceof un.TAbstractFile}r(zf,"isAbstractFile");function Ak(t,e){return ul(t,e,bk)}r(Ak,"isBaseFile");function cn(t,e){return ul(t,e,kk)}r(cn,"isCanvasFile");function At(t){return t instanceof un.TFile}r(At,"isFile");function cl(t){return t instanceof un.TFolder}r(cl,"isFolder");function fn(t,e){return ul(t,e,Wf)}r(fn,"isMarkdownFile");function fi(t,e){return fn(t,e)||cn(t,e)||Ak(t,e)}r(fi,"isNote");function Hf(t,e){return fn(t,e)?gr(e.path,`.${Wf}`):e.path}r(Hf,"trimMarkdownExtension");function Uf(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}r(Uf,"getFileInternal");function Gf(t){return(0,un.normalizePath)(Yf("/",t))}r(Gf,"getResolvedPath");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var dn="__DUMMY__";async function fl(t){let{app:e,attachmentPathOrFile:n,notePathOrFile:i,shouldSkipDuplicateCheck:o}=t,a=Ce(e,n),l=Ue(a),c=Te(a,l),f=Pe(e,a),h=e.vault.getAvailablePathForAttachments.extended;return h?h({attachmentFileBaseName:c,attachmentFileContent:f?await e.vault.readBinary(f):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:f?.stat,notePathOrFile:i,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:!0}):await dl({app:e,attachmentFileBaseName:c,attachmentFileExtension:l.slice(1),notePathOrFile:i,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:!0})}r(fl,"getAttachmentFilePath");async function Er(t,e){return kt(await fl({app:t,attachmentPathOrFile:dn,notePathOrFile:e,shouldSkipDuplicateCheck:!0}))}r(Er,"getAttachmentFolderPath");async function dl(t){let{app:e,attachmentFileExtension:n,notePathOrFile:i,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:a}=t,l=e.vault.getConfig("attachmentFolderPath"),c=l==="."||l==="./",f=l.startsWith("./")?wr(l,"./"):null,p=Pe(e,i);c?l=p?p.parent?.path??"":"":f&&(l=(p?p.parent?.getParentPrefix()??"":"")+f),l=li(qf(l));let h=li(qf(t.attachmentFileBaseName)),g=Ut(e,l,!0);!g&&f&&(g=a?ci(e,l,!0):await e.vault.createFolder(l));let w=g?.getParentPrefix()??"";return o?Dt(w+h,n):e.vault.getAvailablePath(w+h,n)}r(dl,"getAvailablePathForAttachments");async function hl(t,e){let n=await Er(t,e),i=await Er(t,ve(ye(e),"DUMMY_FILE.md"));return n!==i}r(hl,"hasOwnAttachmentFolder");function qf(t){return t=Ae(t,/(?:[\\/])+/g,"/"),t=Ae(t,/^\/+|\/+$/g,""),t||"/"}r(qf,"normalizeSlashes");var ns=require("obsidian");var vk={};function Wn(t,e){let n=e||vk,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kf(t,i,o)}r(Wn,"toString");function Kf(t,e,n){if(Ek(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return jf(t.children,e,n)}return Array.isArray(t)?jf(t,e,n):""}r(Kf,"one");function jf(t,e,n){let i=[],o=-1;for(;++o<t.length;)i[o]=Kf(t[o],e,n);return i.join("")}r(jf,"all");function Ek(t){return!!(t&&typeof t=="object")}r(Ek,"node");var Xf=document.createElement("i");function Cr(t){let e="&"+t+";";Xf.innerHTML=e;let n=Xf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}r(Cr,"decodeNamedCharacterReference");function Ne(t,e,n,i){let o=t.length,a=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}r(Ne,"splice");function et(t,e){return t.length>0?(Ne(t,t.length,0,e),t):e}r(et,"push");var Zf={}.hasOwnProperty;function Jf(t){let e={},n=-1;for(;++n<t.length;)Ck(e,t[n]);return e}r(Jf,"combineExtensions");function Ck(t,e){let n;for(n in e){let o=(Zf.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){Zf.call(o,l)||(o[l]=[]);let c=a[l];xk(o[l],Array.isArray(c)?c:c?[c]:[])}}}r(Ck,"syntaxExtension");function xk(t,e){let n=-1,i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Ne(t,0,0,i)}r(xk,"constructs");function Co(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}r(Co,"decodeNumericCharacterReference");function hn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}r(hn,"normalizeIdentifier");var dt=En(/[A-Za-z]/),tt=En(/[\dA-Za-z]/),Qf=En(/[#-'*+\--9=?A-Z^-~]/);function di(t){return t!==null&&(t<32||t===127)}r(di,"asciiControl");var hi=En(/\d/),ed=En(/[\dA-Fa-f]/),td=En(/[!-/:-@[-`{-~]/);function V(t){return t!==null&&t<-2}r(V,"markdownLineEnding");function xe(t){return t!==null&&(t<0||t===32)}r(xe,"markdownLineEndingOrSpace");function j(t){return t===-2||t===-1||t===32}r(j,"markdownSpace");var nd=En(/\p{P}|\p{S}/u),rd=En(/\s/);function En(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}r(En,"regexCheck");function K(t,e,n,i){let o=i?i-1:Number.POSITIVE_INFINITY,a=0;return l;function l(f){return j(f)?(t.enter(n),c(f)):e(f)}function c(f){return j(f)&&a++<o?(t.consume(f),c):(t.exit(n),e(f))}}r(K,"factorySpace");var id={tokenize:Tk};function Tk(t){let e=t.attempt(this.parser.constructs.contentInitial,i,o),n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),K(t,e,"linePrefix")}function o(c){return t.enter("paragraph"),a(c)}function a(c){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return V(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}r(Tk,"initializeContent");var sd={tokenize:Sk},od={tokenize:Fk};function Sk(t){let e=this,n=[],i=0,o,a,l;return c;function c(_){if(i<n.length){let U=n[i];return e.containerState=U[1],t.attempt(U[0].continuation,f,p)(_)}return p(_)}function f(_){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&I();let U=e.events.length,z=U,S;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){S=e.events[z][1].end;break}C(i);let te=U;for(;te<e.events.length;)e.events[te][1].end={...S},te++;return Ne(e.events,z+1,0,e.events.slice(U)),e.events.length=te,p(_)}return c(_)}function p(_){if(i===n.length){if(!o)return w(_);if(o.currentConstruct&&o.currentConstruct.concrete)return E(_);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(od,h,g)(_)}function h(_){return o&&I(),C(i),w(_)}function g(_){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,E(_)}function w(_){return e.containerState={},t.attempt(od,y,E)(_)}function y(_){return i++,n.push([e.currentConstruct,e.containerState]),w(_)}function E(_){if(_===null){o&&I(),C(0),t.consume(_);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),x(_)}function x(_){if(_===null){F(t.exit("chunkFlow"),!0),C(0),t.consume(_);return}return V(_)?(t.consume(_),F(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(_),x)}function F(_,U){let z=e.sliceStream(_);if(U&&z.push(null),_.previous=a,a&&(a.next=_),a=_,o.defineSkip(_.start),o.write(z),e.parser.lazy[_.start.line]){let S=o.events.length;for(;S--;)if(o.events[S][1].start.offset<l&&(!o.events[S][1].end||o.events[S][1].end.offset>l))return;let te=e.events.length,Z=te,J,le;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){if(J){le=e.events[Z][1].end;break}J=!0}for(C(i),S=te;S<e.events.length;)e.events[S][1].end={...le},S++;Ne(e.events,Z+1,0,e.events.slice(te)),e.events.length=S}}function C(_){let U=n.length;for(;U-- >_;){let z=n[U];e.containerState=z[1],z[0].exit.call(e,t)}n.length=_}function I(){o.write([null]),a=void 0,o=void 0,e.containerState._closeFlow=void 0}}r(Sk,"initializeDocument");function Fk(t,e,n){return K(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}r(Fk,"tokenizeContainer");function xr(t){if(t===null||xe(t)||rd(t))return 1;if(nd(t))return 2}r(xr,"classifyCharacter");function Tr(t,e,n){let i=[],o=-1;for(;++o<t.length;){let a=t[o].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}r(Tr,"resolveAll");var pi={name:"attention",resolveAll:Pk,tokenize:Ik};function Pk(t,e){let n=-1,i,o,a,l,c,f,p,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let g={...t[i][1].end},w={...t[n][1].start};ad(g,-f),ad(w,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},a={type:f>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},p=[],t[i][1].end.offset-t[i][1].start.offset&&(p=et(p,[["enter",t[i][1],e],["exit",t[i][1],e]])),p=et(p,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",a,e]]),p=et(p,Tr(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),p=et(p,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,p=et(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Ne(t,i-1,n-i+3,p),n=i+p.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}r(Pk,"resolveAllAttention");function Ik(t,e){let n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=xr(i),a;return l;function l(f){return a=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===a)return t.consume(f),c;let p=t.exit("attentionSequence"),h=xr(f),g=!h||h===2&&o||n.includes(f),w=!o||o===2&&h||n.includes(i);return p._open=!!(a===42?g:g&&(o||!w)),p._close=!!(a===42?w:w&&(h||!g)),e(f)}}r(Ik,"tokenizeAttention");function ad(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}r(ad,"movePoint");var pl={name:"autolink",tokenize:_k};function _k(t,e,n){let i=0;return o;function o(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return dt(y)?(t.consume(y),l):y===64?n(y):p(y)}function l(y){return y===43||y===45||y===46||tt(y)?(i=1,c(y)):p(y)}function c(y){return y===58?(t.consume(y),i=0,f):(y===43||y===45||y===46||tt(y))&&i++<32?(t.consume(y),c):(i=0,p(y))}function f(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||di(y)?n(y):(t.consume(y),f)}function p(y){return y===64?(t.consume(y),h):Qf(y)?(t.consume(y),p):n(y)}function h(y){return tt(y)?g(y):n(y)}function g(y){return y===46?(t.consume(y),i=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):w(y)}function w(y){if((y===45||tt(y))&&i++<63){let E=y===45?w:g;return t.consume(y),E}return n(y)}}r(_k,"tokenizeAutolink");var Cn={partial:!0,tokenize:Ok};function Ok(t,e,n){return i;function i(a){return j(a)?K(t,o,"linePrefix")(a):o(a)}function o(a){return a===null||V(a)?e(a):n(a)}}r(Ok,"tokenizeBlankLine");var xo={continuation:{tokenize:Dk},exit:Rk,name:"blockQuote",tokenize:Mk};function Mk(t,e,n){let i=this;return o;function o(l){if(l===62){let c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return j(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}r(Mk,"tokenizeBlockQuoteStart");function Dk(t,e,n){let i=this;return o;function o(l){return j(l)?K(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(xo,e,n)(l)}}r(Dk,"tokenizeBlockQuoteContinuation");function Rk(t){t.exit("blockQuote")}r(Rk,"exit");var To={name:"characterEscape",tokenize:Lk};function Lk(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),o}function o(a){return td(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}r(Lk,"tokenizeCharacterEscape");var So={name:"characterReference",tokenize:Nk};function Nk(t,e,n){let i=this,o=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),f}function f(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),a=31,l=tt,h(g))}function p(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=ed,h):(t.enter("characterReferenceValue"),a=7,l=hi,h(g))}function h(g){if(g===59&&o){let w=t.exit("characterReferenceValue");return l===tt&&!Cr(i.sliceSerialize(w))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&o++<a?(t.consume(g),h):n(g)}}r(Nk,"tokenizeCharacterReference");var ld={partial:!0,tokenize:$k},Fo={concrete:!0,name:"codeFenced",tokenize:Bk};function Bk(t,e,n){let i=this,o={partial:!0,tokenize:z},a=0,l=0,c;return f;function f(S){return p(S)}function p(S){let te=i.events[i.events.length-1];return a=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,c=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(S)}function h(S){return S===c?(l++,t.consume(S),h):l<3?n(S):(t.exit("codeFencedFenceSequence"),j(S)?K(t,g,"whitespace")(S):g(S))}function g(S){return S===null||V(S)?(t.exit("codeFencedFence"),i.interrupt?e(S):t.check(ld,x,U)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(S))}function w(S){return S===null||V(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(S)):j(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),K(t,y,"whitespace")(S)):S===96&&S===c?n(S):(t.consume(S),w)}function y(S){return S===null||V(S)?g(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(S))}function E(S){return S===null||V(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(S)):S===96&&S===c?n(S):(t.consume(S),E)}function x(S){return t.attempt(o,U,F)(S)}function F(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),C}function C(S){return a>0&&j(S)?K(t,I,"linePrefix",a+1)(S):I(S)}function I(S){return S===null||V(S)?t.check(ld,x,U)(S):(t.enter("codeFlowValue"),_(S))}function _(S){return S===null||V(S)?(t.exit("codeFlowValue"),I(S)):(t.consume(S),_)}function U(S){return t.exit("codeFenced"),e(S)}function z(S,te,Z){let J=0;return le;function le(H){return S.enter("lineEnding"),S.consume(H),S.exit("lineEnding"),de}function de(H){return S.enter("codeFencedFence"),j(H)?K(S,oe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):oe(H)}function oe(H){return H===c?(S.enter("codeFencedFenceSequence"),Y(H)):Z(H)}function Y(H){return H===c?(J++,S.consume(H),Y):J>=l?(S.exit("codeFencedFenceSequence"),j(H)?K(S,q,"whitespace")(H):q(H)):Z(H)}function q(H){return H===null||V(H)?(S.exit("codeFencedFence"),te(H)):Z(H)}}}r(Bk,"tokenizeCodeFenced");function $k(t,e,n){let i=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r($k,"tokenizeNonLazyContinuation");var mi={name:"codeIndented",tokenize:Yk},Vk={partial:!0,tokenize:Uk};function Yk(t,e,n){let i=this;return o;function o(p){return t.enter("codeIndented"),K(t,a,"linePrefix",5)(p)}function a(p){let h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?f(p):V(p)?t.attempt(Vk,l,f)(p):(t.enter("codeFlowValue"),c(p))}function c(p){return p===null||V(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),c)}function f(p){return t.exit("codeIndented"),e(p)}}r(Yk,"tokenizeCodeIndented");function Uk(t,e,n){let i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):K(t,a,"linePrefix",5)(l)}function a(l){let c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):V(l)?o(l):n(l)}}r(Uk,"tokenizeFurtherStart");var ml={name:"codeText",previous:zk,resolve:Wk,tokenize:Hk};function Wk(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}r(Wk,"resolveCodeText");function zk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}r(zk,"previous");function Hk(t,e,n){let i=this,o=0,a,l;return c;function c(w){return t.enter("codeText"),t.enter("codeTextSequence"),f(w)}function f(w){return w===96?(t.consume(w),o++,f):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(l=t.enter("codeTextSequence"),a=0,g(w)):V(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),h(w))}function h(w){return w===null||w===32||w===96||V(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),h)}function g(w){return w===96?(t.consume(w),a++,g):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",h(w))}}r(Hk,"tokenizeCodeText");var Po=class{static{r(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){let o=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&gi(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),gi(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),gi(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);gi(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);gi(this.left,n.reverse())}}};function gi(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}r(gi,"chunkedPush");function Io(t){let e={},n=-1,i,o,a,l,c,f,p,h=new Po(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Gk(h,n)),n=e[n],p=!0);else if(i[1]._container){for(a=n,o=void 0;a--;)if(l=h.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...h.get(o)[1].start},c=h.slice(o,n),c.unshift(i),h.splice(o,n-o+1,c))}}return Ne(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!p}r(Io,"subtokenize");function Gk(t,e){let n=t.get(e)[1],i=t.get(e)[2],o=e-1,a=[],l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,f=[],p={},h,g,w=-1,y=n,E=0,x=0,F=[x];for(;y;){for(;t.get(++o)[1]!==y;);a.push(o),y._tokenizer||(h=i.sliceStream(y),y.next||h.push(null),g&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=y,y=y.next}for(y=n;++w<c.length;)c[w][0]==="exit"&&c[w-1][0]==="enter"&&c[w][1].type===c[w-1][1].type&&c[w][1].start.line!==c[w][1].end.line&&(x=w+1,F.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):F.pop(),w=F.length;w--;){let C=c.slice(F[w],F[w+1]),I=a.pop();f.push([I,I+C.length-1]),t.splice(I,2,C)}for(f.reverse(),w=-1;++w<f.length;)p[E+f[w][0]]=E+f[w][1],E+=f[w][1]-f[w][0]-1;return p}r(Gk,"subcontent");var gl={resolve:jk,tokenize:Kk},qk={partial:!0,tokenize:Xk};function jk(t){return Io(t),t}r(jk,"resolveContent");function Kk(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?a(c):V(c)?t.check(qk,l,a)(c):(t.consume(c),o)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}r(Kk,"tokenizeContent");function Xk(t,e,n){let i=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),K(t,a,"linePrefix")}function a(l){if(l===null||V(l))return n(l);let c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}r(Xk,"tokenizeContinuation");function _o(t,e,n,i,o,a,l,c,f){let p=f||Number.POSITIVE_INFINITY,h=0;return g;function g(C){return C===60?(t.enter(i),t.enter(o),t.enter(a),t.consume(C),t.exit(a),w):C===null||C===32||C===41||di(C)?n(C):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),x(C))}function w(C){return C===62?(t.enter(a),t.consume(C),t.exit(a),t.exit(o),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(c),w(C)):C===null||C===60||V(C)?n(C):(t.consume(C),C===92?E:y)}function E(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function x(C){return!h&&(C===null||C===41||xe(C))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(C)):h<p&&C===40?(t.consume(C),h++,x):C===41?(t.consume(C),h--,x):C===null||C===32||C===40||di(C)?n(C):(t.consume(C),C===92?F:x)}function F(C){return C===40||C===41||C===92?(t.consume(C),x):x(C)}}r(_o,"factoryDestination");function Oo(t,e,n,i,o,a){let l=this,c=0,f;return p;function p(y){return t.enter(i),t.enter(o),t.consume(y),t.exit(o),t.enter(a),h}function h(y){return c>999||y===null||y===91||y===93&&!f||y===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(a),t.enter(o),t.consume(y),t.exit(o),t.exit(i),e):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===null||y===91||y===93||V(y)||c++>999?(t.exit("chunkString"),h(y)):(t.consume(y),f||(f=!j(y)),y===92?w:g)}function w(y){return y===91||y===92||y===93?(t.consume(y),c++,g):g(y)}}r(Oo,"factoryLabel");function Mo(t,e,n,i,o,a){let l;return c;function c(w){return w===34||w===39||w===40?(t.enter(i),t.enter(o),t.consume(w),t.exit(o),l=w===40?41:w,f):n(w)}function f(w){return w===l?(t.enter(o),t.consume(w),t.exit(o),t.exit(i),e):(t.enter(a),p(w))}function p(w){return w===l?(t.exit(a),f(l)):w===null?n(w):V(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),K(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===l||w===null||V(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?g:h)}function g(w){return w===l||w===92?(t.consume(w),h):h(w)}}r(Mo,"factoryTitle");function zn(t,e){let n;return i;function i(o){return V(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):j(o)?K(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}r(zn,"factoryWhitespace");var wl={name:"definition",tokenize:Jk},Zk={partial:!0,tokenize:Qk};function Jk(t,e,n){let i=this,o;return a;function a(y){return t.enter("definition"),l(y)}function l(y){return Oo.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return o=hn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),f):n(y)}function f(y){return xe(y)?zn(t,p)(y):p(y)}function p(y){return _o(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(Zk,g,g)(y)}function g(y){return j(y)?K(t,w,"whitespace")(y):w(y)}function w(y){return y===null||V(y)?(t.exit("definition"),i.parser.defined.push(o),e(y)):n(y)}}r(Jk,"tokenizeDefinition");function Qk(t,e,n){return i;function i(c){return xe(c)?zn(t,o)(c):n(c)}function o(c){return Mo(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return j(c)?K(t,l,"whitespace")(c):l(c)}function l(c){return c===null||V(c)?e(c):n(c)}}r(Qk,"tokenizeTitleBefore");var yl={name:"hardBreakEscape",tokenize:eA};function eA(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),o}function o(a){return V(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}r(eA,"tokenizeHardBreakEscape");var bl={name:"headingAtx",resolve:tA,tokenize:nA};function tA(t,e){let n=t.length-2,i=3,o,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Ne(t,i,n-i+1,[["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e]])),t}r(tA,"resolveHeadingAtx");function nA(t,e,n){let i=0;return o;function o(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&i++<6?(t.consume(h),l):h===null||xe(h)?(t.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(t.enter("atxHeadingSequence"),f(h)):h===null||V(h)?(t.exit("atxHeading"),e(h)):j(h)?K(t,c,"whitespace")(h):(t.enter("atxHeadingText"),p(h))}function f(h){return h===35?(t.consume(h),f):(t.exit("atxHeadingSequence"),c(h))}function p(h){return h===null||h===35||xe(h)?(t.exit("atxHeadingText"),c(h)):(t.consume(h),p)}}r(nA,"tokenizeHeadingAtx");var ud=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kl=["pre","script","style","textarea"];var Al={concrete:!0,name:"htmlFlow",resolveTo:oA,tokenize:sA},rA={partial:!0,tokenize:lA},iA={partial:!0,tokenize:aA};function oA(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}r(oA,"resolveToHtmlFlow");function sA(t,e,n){let i=this,o,a,l,c,f;return p;function p(k){return h(k)}function h(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),g}function g(k){return k===33?(t.consume(k),w):k===47?(t.consume(k),a=!0,x):k===63?(t.consume(k),o=3,i.interrupt?e:v):dt(k)?(t.consume(k),l=String.fromCharCode(k),F):n(k)}function w(k){return k===45?(t.consume(k),o=2,y):k===91?(t.consume(k),o=5,c=0,E):dt(k)?(t.consume(k),o=4,i.interrupt?e:v):n(k)}function y(k){return k===45?(t.consume(k),i.interrupt?e:v):n(k)}function E(k){let qe="CDATA[";return k===qe.charCodeAt(c++)?(t.consume(k),c===qe.length?i.interrupt?e:oe:E):n(k)}function x(k){return dt(k)?(t.consume(k),l=String.fromCharCode(k),F):n(k)}function F(k){if(k===null||k===47||k===62||xe(k)){let qe=k===47,Gt=l.toLowerCase();return!qe&&!a&&kl.includes(Gt)?(o=1,i.interrupt?e(k):oe(k)):ud.includes(l.toLowerCase())?(o=6,qe?(t.consume(k),C):i.interrupt?e(k):oe(k)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):a?I(k):_(k))}return k===45||tt(k)?(t.consume(k),l+=String.fromCharCode(k),F):n(k)}function C(k){return k===62?(t.consume(k),i.interrupt?e:oe):n(k)}function I(k){return j(k)?(t.consume(k),I):le(k)}function _(k){return k===47?(t.consume(k),le):k===58||k===95||dt(k)?(t.consume(k),U):j(k)?(t.consume(k),_):le(k)}function U(k){return k===45||k===46||k===58||k===95||tt(k)?(t.consume(k),U):z(k)}function z(k){return k===61?(t.consume(k),S):j(k)?(t.consume(k),z):_(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),f=k,te):j(k)?(t.consume(k),S):Z(k)}function te(k){return k===f?(t.consume(k),f=null,J):k===null||V(k)?n(k):(t.consume(k),te)}function Z(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||xe(k)?z(k):(t.consume(k),Z)}function J(k){return k===47||k===62||j(k)?_(k):n(k)}function le(k){return k===62?(t.consume(k),de):n(k)}function de(k){return k===null||V(k)?oe(k):j(k)?(t.consume(k),de):n(k)}function oe(k){return k===45&&o===2?(t.consume(k),se):k===60&&o===1?(t.consume(k),be):k===62&&o===4?(t.consume(k),Be):k===63&&o===3?(t.consume(k),v):k===93&&o===5?(t.consume(k),it):V(k)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(rA,$e,Y)(k)):k===null||V(k)?(t.exit("htmlFlowData"),Y(k)):(t.consume(k),oe)}function Y(k){return t.check(iA,q,$e)(k)}function q(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),H}function H(k){return k===null||V(k)?Y(k):(t.enter("htmlFlowData"),oe(k))}function se(k){return k===45?(t.consume(k),v):oe(k)}function be(k){return k===47?(t.consume(k),l="",ke):oe(k)}function ke(k){if(k===62){let qe=l.toLowerCase();return kl.includes(qe)?(t.consume(k),Be):oe(k)}return dt(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),ke):oe(k)}function it(k){return k===93?(t.consume(k),v):oe(k)}function v(k){return k===62?(t.consume(k),Be):k===45&&o===2?(t.consume(k),v):oe(k)}function Be(k){return k===null||V(k)?(t.exit("htmlFlowData"),$e(k)):(t.consume(k),Be)}function $e(k){return t.exit("htmlFlow"),e(k)}}r(sA,"tokenizeHtmlFlow");function aA(t,e,n){let i=this;return o;function o(l){return V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(aA,"tokenizeNonLazyContinuationStart");function lA(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Cn,e,n)}}r(lA,"tokenizeBlankLineBefore");var vl={name:"htmlText",tokenize:uA};function uA(t,e,n){let i=this,o,a,l;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),f}function f(v){return v===33?(t.consume(v),p):v===47?(t.consume(v),z):v===63?(t.consume(v),_):dt(v)?(t.consume(v),Z):n(v)}function p(v){return v===45?(t.consume(v),h):v===91?(t.consume(v),a=0,E):dt(v)?(t.consume(v),I):n(v)}function h(v){return v===45?(t.consume(v),y):n(v)}function g(v){return v===null?n(v):v===45?(t.consume(v),w):V(v)?(l=g,be(v)):(t.consume(v),g)}function w(v){return v===45?(t.consume(v),y):g(v)}function y(v){return v===62?se(v):v===45?w(v):g(v)}function E(v){let Be="CDATA[";return v===Be.charCodeAt(a++)?(t.consume(v),a===Be.length?x:E):n(v)}function x(v){return v===null?n(v):v===93?(t.consume(v),F):V(v)?(l=x,be(v)):(t.consume(v),x)}function F(v){return v===93?(t.consume(v),C):x(v)}function C(v){return v===62?se(v):v===93?(t.consume(v),C):x(v)}function I(v){return v===null||v===62?se(v):V(v)?(l=I,be(v)):(t.consume(v),I)}function _(v){return v===null?n(v):v===63?(t.consume(v),U):V(v)?(l=_,be(v)):(t.consume(v),_)}function U(v){return v===62?se(v):_(v)}function z(v){return dt(v)?(t.consume(v),S):n(v)}function S(v){return v===45||tt(v)?(t.consume(v),S):te(v)}function te(v){return V(v)?(l=te,be(v)):j(v)?(t.consume(v),te):se(v)}function Z(v){return v===45||tt(v)?(t.consume(v),Z):v===47||v===62||xe(v)?J(v):n(v)}function J(v){return v===47?(t.consume(v),se):v===58||v===95||dt(v)?(t.consume(v),le):V(v)?(l=J,be(v)):j(v)?(t.consume(v),J):se(v)}function le(v){return v===45||v===46||v===58||v===95||tt(v)?(t.consume(v),le):de(v)}function de(v){return v===61?(t.consume(v),oe):V(v)?(l=de,be(v)):j(v)?(t.consume(v),de):J(v)}function oe(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),o=v,Y):V(v)?(l=oe,be(v)):j(v)?(t.consume(v),oe):(t.consume(v),q)}function Y(v){return v===o?(t.consume(v),o=void 0,H):v===null?n(v):V(v)?(l=Y,be(v)):(t.consume(v),Y)}function q(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||xe(v)?J(v):(t.consume(v),q)}function H(v){return v===47||v===62||xe(v)?J(v):n(v)}function se(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function be(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ke}function ke(v){return j(v)?K(t,it,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):it(v)}function it(v){return t.enter("htmlTextData"),l(v)}}r(uA,"tokenizeHtmlText");var Hn={name:"labelEnd",resolveAll:hA,resolveTo:pA,tokenize:mA},cA={tokenize:gA},fA={tokenize:wA},dA={tokenize:yA};function hA(t){let e=-1,n=[];for(;++e<t.length;){let i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){let o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Ne(t,0,t.length,n),t}r(hA,"resolveAllLabelEnd");function pA(t,e){let n=t.length,i=0,o,a,l,c;for(;n--;)if(o=t[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);let f={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",p,e]],c=et(c,t.slice(a+1,a+i+3)),c=et(c,[["enter",h,e]]),c=et(c,Tr(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=et(c,[["exit",h,e],t[l-2],t[l-1],["exit",p,e]]),c=et(c,t.slice(l+1)),c=et(c,[["exit",f,e]]),Ne(t,a,t.length,c),t}r(pA,"resolveToLabelEnd");function mA(t,e,n){let i=this,o=i.events.length,a,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){a=i.events[o][1];break}return c;function c(w){return a?a._inactive?g(w):(l=i.parser.defined.includes(hn(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),f):n(w)}function f(w){return w===40?t.attempt(cA,h,l?h:g)(w):w===91?t.attempt(fA,h,l?p:g)(w):l?h(w):g(w)}function p(w){return t.attempt(dA,h,g)(w)}function h(w){return e(w)}function g(w){return a._balanced=!0,n(w)}}r(mA,"tokenizeLabelEnd");function gA(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),o}function o(g){return xe(g)?zn(t,a)(g):a(g)}function a(g){return g===41?h(g):_o(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return xe(g)?zn(t,f)(g):h(g)}function c(g){return n(g)}function f(g){return g===34||g===39||g===40?Mo(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function p(g){return xe(g)?zn(t,h)(g):h(g)}function h(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}r(gA,"tokenizeResource");function wA(t,e,n){let i=this;return o;function o(c){return Oo.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(hn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}r(wA,"tokenizeReferenceFull");function yA(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),o}function o(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}r(yA,"tokenizeReferenceCollapsed");var El={name:"labelStartImage",resolveAll:Hn.resolveAll,tokenize:bA};function bA(t,e,n){let i=this;return o;function o(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}r(bA,"tokenizeLabelStartImage");var Cl={name:"labelStartLink",resolveAll:Hn.resolveAll,tokenize:kA};function kA(t,e,n){let i=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}r(kA,"tokenizeLabelStartLink");var wi={name:"lineEnding",tokenize:AA};function AA(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),K(t,e,"linePrefix")}}r(AA,"tokenizeLineEnding");var Gn={name:"thematicBreak",tokenize:vA};function vA(t,e,n){let i=0,o;return a;function a(p){return t.enter("thematicBreak"),l(p)}function l(p){return o=p,c(p)}function c(p){return p===o?(t.enter("thematicBreakSequence"),f(p)):i>=3&&(p===null||V(p))?(t.exit("thematicBreak"),e(p)):n(p)}function f(p){return p===o?(t.consume(p),i++,f):(t.exit("thematicBreakSequence"),j(p)?K(t,c,"whitespace")(p):c(p))}}r(vA,"tokenizeThematicBreak");var We={continuation:{tokenize:TA},exit:FA,name:"list",tokenize:xA},EA={partial:!0,tokenize:PA},CA={partial:!0,tokenize:SA};function xA(t,e,n){let i=this,o=i.events[i.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(y){let E=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:hi(y)){if(i.containerState.type||(i.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Gn,n,p)(y):p(y);if(!i.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(y)}return n(y)}function f(y){return hi(y)&&++l<10?(t.consume(y),f):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),p(y)):n(y)}function p(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,t.check(Cn,i.interrupt?n:h,t.attempt(EA,w,g))}function h(y){return i.containerState.initialBlankLine=!0,a++,w(y)}function g(y){return j(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),w):n(y)}function w(y){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}r(xA,"tokenizeListStart");function TA(t,e,n){let i=this;return i.containerState._closeFlow=void 0,t.check(Cn,o,a);function o(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,K(t,e,"listItemIndent",i.containerState.size+1)(c)}r(o,"onBlank");function a(c){return i.containerState.furtherBlankLines||!j(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(CA,e,l)(c))}r(a,"notBlank");function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,K(t,t.attempt(We,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}r(l,"notInCurrentItem")}r(TA,"tokenizeListContinuation");function SA(t,e,n){let i=this;return K(t,o,"listItemIndent",i.containerState.size+1);function o(a){let l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}r(SA,"tokenizeIndent");function FA(t){t.exit(this.containerState.type)}r(FA,"tokenizeListEnd");function PA(t,e,n){let i=this;return K(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){let l=i.events[i.events.length-1];return!j(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}r(PA,"tokenizeListItemPrefixWhitespace");var Do={name:"setextUnderline",resolveTo:IA,tokenize:_A};function IA(t,e){let n=t.length,i,o,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",a?(t.splice(o,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}r(IA,"resolveToSetextUnderline");function _A(t,e,n){let i=this,o;return a;function a(p){let h=i.events.length,g;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){g=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),o=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),c(p)}function c(p){return p===o?(t.consume(p),c):(t.exit("setextHeadingLineSequence"),j(p)?K(t,f,"lineSuffix")(p):f(p))}function f(p){return p===null||V(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}r(_A,"tokenizeSetextUnderline");var cd={tokenize:OA};function OA(t){let e=this,n=t.attempt(Cn,i,t.attempt(this.parser.constructs.flowInitial,o,K(t,t.attempt(this.parser.constructs.flow,o,t.attempt(gl,o)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}r(OA,"initializeFlow");var fd={resolveAll:md()},dd=pd("string"),hd=pd("text");function pd(t){return{resolveAll:md(t==="text"?MA:void 0),tokenize:e};function e(n){let i=this,o=this.parser.constructs[t],a=n.attempt(o,l,c);return l;function l(h){return p(h)?a(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),f}function f(h){return p(h)?(n.exit("data"),a(h)):(n.consume(h),f)}function p(h){if(h===null)return!0;let g=o[h],w=-1;if(g)for(;++w<g.length;){let y=g[w];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}r(pd,"initializeFactory");function md(t){return e;function e(n,i){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return t?t(n,i):n}}r(md,"createResolver");function MA(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let i=t[n-1][1],o=e.sliceStream(i),a=o.length,l=-1,c=0,f;for(;a--;){let p=o[a];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(p===-2)f=!0,c++;else if(p!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let p={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...p.start},i.start.offset===i.end.offset?Object.assign(i,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}r(MA,"resolveAllLineSuffixes");var xl={};Kc(xl,{attentionMarkers:()=>YA,contentInitial:()=>RA,disable:()=>UA,document:()=>DA,flow:()=>NA,flowInitial:()=>LA,insideSpan:()=>VA,string:()=>BA,text:()=>$A});var DA={42:We,43:We,45:We,48:We,49:We,50:We,51:We,52:We,53:We,54:We,55:We,56:We,57:We,62:xo},RA={91:wl},LA={[-2]:mi,[-1]:mi,32:mi},NA={35:bl,42:Gn,45:[Do,Gn],60:Al,61:Do,95:Gn,96:Fo,126:Fo},BA={38:So,92:To},$A={[-5]:wi,[-4]:wi,[-3]:wi,33:El,38:So,42:pi,60:[pl,vl],91:Cl,92:[yl,To],93:Hn,95:pi,96:ml},VA={null:[pi,fd]},YA={null:[42,95]},UA={null:[]};function gd(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},a=[],l=[],c=[],f=!0,p={attempt:J(te),check:J(Z),consume:U,enter:z,exit:S,interrupt:J(Z,{interrupt:!0})},h={code:null,containerState:{},defineSkip:C,events:[],now:F,parser:t,previous:null,sliceSerialize:E,sliceStream:x,write:y},g=e.tokenize.call(h,p),w;return e.resolveAll&&a.push(e),h;function y(Y){return l=et(l,Y),I(),l[l.length-1]!==null?[]:(le(e,0),h.events=Tr(a,h.events,h),h.events)}r(y,"write");function E(Y,q){return zA(x(Y),q)}r(E,"sliceSerialize");function x(Y){return WA(l,Y)}r(x,"sliceStream");function F(){let{_bufferIndex:Y,_index:q,line:H,column:se,offset:be}=i;return{_bufferIndex:Y,_index:q,line:H,column:se,offset:be}}r(F,"now");function C(Y){o[Y.line]=Y.column,oe()}r(C,"defineSkip");function I(){let Y;for(;i._index<l.length;){let q=l[i._index];if(typeof q=="string")for(Y=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Y&&i._bufferIndex<q.length;)_(q.charCodeAt(i._bufferIndex));else _(q)}}r(I,"main");function _(Y){f=void 0,w=Y,g=g(Y)}r(_,"go");function U(Y){V(Y)?(i.line++,i.column=1,i.offset+=Y===-3?2:1,oe()):Y!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=Y,f=!0}r(U,"consume");function z(Y,q){let H=q||{};return H.type=Y,H.start=F(),h.events.push(["enter",H,h]),c.push(H),H}r(z,"enter");function S(Y){let q=c.pop();return q.end=F(),h.events.push(["exit",q,h]),q}r(S,"exit");function te(Y,q){le(Y,q.from)}r(te,"onsuccessfulconstruct");function Z(Y,q){q.restore()}r(Z,"onsuccessfulcheck");function J(Y,q){return H;function H(se,be,ke){let it,v,Be,$e;return Array.isArray(se)?qe(se):"tokenize"in se?qe([se]):k(se);function k(Se){return Dn;function Dn(Tt){let qt=Tt!==null&&Se[Tt],yn=Tt!==null&&Se.null,Gr=[...Array.isArray(qt)?qt:qt?[qt]:[],...Array.isArray(yn)?yn:yn?[yn]:[]];return qe(Gr)(Tt)}}function qe(Se){return it=Se,v=0,Se.length===0?ke:Gt(Se[v])}function Gt(Se){return Dn;function Dn(Tt){return $e=de(),Be=Se,Se.partial||(h.currentConstruct=Se),Se.name&&h.parser.constructs.disable.null.includes(Se.name)?Mn(Tt):Se.tokenize.call(q?Object.assign(Object.create(h),q):h,p,wn,Mn)(Tt)}}function wn(Se){return f=!0,Y(Be,$e),be}function Mn(Se){return f=!0,$e.restore(),++v<it.length?Gt(it[v]):ke}}}r(J,"constructFactory");function le(Y,q){Y.resolveAll&&!a.includes(Y)&&a.push(Y),Y.resolve&&Ne(h.events,q,h.events.length-q,Y.resolve(h.events.slice(q),h)),Y.resolveTo&&(h.events=Y.resolveTo(h.events,h))}r(le,"addResult");function de(){let Y=F(),q=h.previous,H=h.currentConstruct,se=h.events.length,be=Array.from(c);return{from:se,restore:ke};function ke(){i=Y,h.previous=q,h.currentConstruct=H,h.events.length=se,c=be,oe()}}r(de,"store");function oe(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}r(oe,"accountForPotentialSkip")}r(gd,"createTokenizer");function WA(t,e){let n=e.start._index,i=e.start._bufferIndex,o=e.end._index,a=e.end._bufferIndex,l;if(n===o)l=[t[n].slice(i,a)];else{if(l=t.slice(n,o),i>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[o].slice(0,a))}return l}r(WA,"sliceChunks");function zA(t,e){let n=-1,i=[],o;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,i.push(l)}return i.join("")}r(zA,"serializeChunks");function Tl(t){let i={constructs:Jf([xl,...(t||{}).extensions||[]]),content:o(id),defined:[],document:o(sd),flow:o(cd),lazy:{},string:o(dd),text:o(hd)};return i;function o(a){return l;function l(c){return gd(i,a,c)}}}r(Tl,"parse");function Sl(t){for(;!Io(t););return t}r(Sl,"postprocess");var wd=/[\0\t\n\r]/g;function Fl(){let t=1,e="",n=!0,i;return o;function o(a,l,c){let f=[],p,h,g,w,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(wd.lastIndex=g,p=wd.exec(a),w=p&&p.index!==void 0?p.index:a.length,y=a.charCodeAt(w),!p){e=a.slice(g);break}if(y===10&&g===w&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),g<w&&(f.push(a.slice(g,w)),t+=w-g),y){case 0:{f.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,f.push(-2);t++<h;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:i=!0,t=1}g=w+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}r(Fl,"preprocess");var HA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ro(t){return t.replace(HA,GA)}r(Ro,"decodeString");function GA(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),a=o===120||o===88;return Co(n.slice(a?2:1),a?16:10)}return Cr(n)||t}r(GA,"decode");function xn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?yd(t.position):"start"in t||"end"in t?yd(t):"line"in t||"column"in t?Pl(t):""}r(xn,"stringifyPosition");function Pl(t){return bd(t&&t.line)+":"+bd(t&&t.column)}r(Pl,"point");function yd(t){return Pl(t&&t.start)+"-"+Pl(t&&t.end)}r(yd,"position");function bd(t){return t&&typeof t=="number"?t:1}r(bd,"index");var Ad={}.hasOwnProperty;function Il(t,e,n){return typeof e!="string"&&(n=e,e=void 0),qA(n)(Sl(Tl(n).document().write(Fl()(t,e,!0))))}r(Il,"fromMarkdown");function qA(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(je),autolinkProtocol:J,autolinkEmail:J,atxHeading:a(Yi),blockQuote:a(Tt),characterEscape:J,characterReference:J,codeFenced:a(qt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(qt,l),codeText:a(yn,l),codeTextData:J,data:J,codeFlowValue:J,definition:a(Gr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(xa),hardBreakEscape:a(Ui),hardBreakTrailing:a(Ui),htmlFlow:a(Wi,l),htmlFlowData:J,htmlText:a(Wi,l),htmlTextData:J,image:a(zi),label:l,link:a(je),listItem:a(Ta),listItemValue:w,listOrdered:a(nr,g),listUnordered:a(nr),paragraph:a(Sa),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Yi),strong:a(Hi),thematicBreak:a(Gi)},exit:{atxHeading:f(),atxHeadingSequence:z,autolink:f(),autolinkEmail:Dn,autolinkProtocol:Se,blockQuote:f(),characterEscapeValue:le,characterReferenceMarkerHexadecimal:Gt,characterReferenceMarkerNumeric:Gt,characterReferenceValue:wn,characterReference:Mn,codeFenced:f(F),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:E,codeFlowValue:le,codeIndented:f(C),codeText:f(H),codeTextData:le,data:le,definition:f(),definitionDestinationString:U,definitionLabelString:I,definitionTitleString:_,emphasis:f(),hardBreakEscape:f(oe),hardBreakTrailing:f(oe),htmlFlow:f(Y),htmlFlowData:le,htmlText:f(q),htmlTextData:le,image:f(be),label:it,labelText:ke,lineEnding:de,link:f(se),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:qe,resourceDestinationString:v,resourceTitleString:Be,resource:$e,setextHeading:f(Z),setextHeadingLineSequence:te,setextHeadingText:S,strong:f(),thematicBreak:f()}};vd(e,(t||{}).mdastExtensions||[]);let n={};return i;function i(P){let M={type:"root",children:[]},D={stack:[M],tokenStack:[],config:e,enter:c,exit:p,buffer:l,resume:h,data:n},Q=[],ue=-1;for(;++ue<P.length;)if(P[ue][1].type==="listOrdered"||P[ue][1].type==="listUnordered")if(P[ue][0]==="enter")Q.push(ue);else{let Ve=Q.pop();ue=o(P,Ve,ue)}for(ue=-1;++ue<P.length;){let Ve=e[P[ue][0]];Ad.call(Ve,P[ue][1].type)&&Ve[P[ue][1].type].call(Object.assign({sliceSerialize:P[ue][2].sliceSerialize},D),P[ue][1])}if(D.tokenStack.length>0){let Ve=D.tokenStack[D.tokenStack.length-1];(Ve[1]||kd).call(D,void 0,Ve[0])}for(M.position={start:Tn(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Tn(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<e.transforms.length;)M=e.transforms[ue](M)||M;return M}function o(P,M,D){let Q=M-1,ue=-1,Ve=!1,St,ot,mt,Lt;for(;++Q<=D;){let Xe=P[Q];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?ue++:ue--,Lt=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(St&&!Lt&&!ue&&!mt&&(mt=Q),Lt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lt=void 0}if(!ue&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||ue===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(St){let Ft=Q;for(ot=void 0;Ft--;){let Pt=P[Ft];if(Pt[1].type==="lineEnding"||Pt[1].type==="lineEndingBlank"){if(Pt[0]==="exit")continue;ot&&(P[ot][1].type="lineEndingBlank",Ve=!0),Pt[1].type="lineEnding",ot=Ft}else if(!(Pt[1].type==="linePrefix"||Pt[1].type==="blockQuotePrefix"||Pt[1].type==="blockQuotePrefixWhitespace"||Pt[1].type==="blockQuoteMarker"||Pt[1].type==="listItemIndent"))break}mt&&(!ot||mt<ot)&&(St._spread=!0),St.end=Object.assign({},ot?P[ot][1].start:Xe[1].end),P.splice(ot||Q,0,["exit",St,Xe[2]]),Q++,D++}if(Xe[1].type==="listItemPrefix"){let Ft={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};St=Ft,P.splice(Q,0,["enter",Ft,Xe[2]]),Q++,D++,mt=void 0,Lt=!0}}}return P[M][1]._spread=Ve,D}function a(P,M){return D;function D(Q){c.call(this,P(Q),Q),M&&M.call(this,Q)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(P,M,D){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([M,D||void 0]),P.position={start:Tn(M.start),end:void 0}}function f(P){return M;function M(D){P&&P.call(this,D),p.call(this,D)}}function p(P,M){let D=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==P.type&&(M?M.call(this,P,Q[0]):(Q[1]||kd).call(this,P,Q[0]));else throw new Error("Cannot close `"+P.type+"` ("+xn({start:P.start,end:P.end})+"): it\u2019s not open");D.position.end=Tn(P.end)}function h(){return Wn(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function w(P){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function y(){let P=this.resume(),M=this.stack[this.stack.length-1];M.lang=P}function E(){let P=this.resume(),M=this.stack[this.stack.length-1];M.meta=P}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){let P=this.resume(),M=this.stack[this.stack.length-1];M.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let P=this.resume(),M=this.stack[this.stack.length-1];M.value=P.replace(/(\r?\n|\r)$/g,"")}function I(P){let M=this.resume(),D=this.stack[this.stack.length-1];D.label=M,D.identifier=hn(this.sliceSerialize(P)).toLowerCase()}function _(){let P=this.resume(),M=this.stack[this.stack.length-1];M.title=P}function U(){let P=this.resume(),M=this.stack[this.stack.length-1];M.url=P}function z(P){let M=this.stack[this.stack.length-1];if(!M.depth){let D=this.sliceSerialize(P).length;M.depth=D}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function te(P){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function J(P){let D=this.stack[this.stack.length-1].children,Q=D[D.length-1];(!Q||Q.type!=="text")&&(Q=Ke(),Q.position={start:Tn(P.start),end:void 0},D.push(Q)),this.stack.push(Q)}function le(P){let M=this.stack.pop();M.value+=this.sliceSerialize(P),M.position.end=Tn(P.end)}function de(P){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=M.children[M.children.length-1];D.position.end=Tn(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(J.call(this,P),le.call(this,P))}function oe(){this.data.atHardBreak=!0}function Y(){let P=this.resume(),M=this.stack[this.stack.length-1];M.value=P}function q(){let P=this.resume(),M=this.stack[this.stack.length-1];M.value=P}function H(){let P=this.resume(),M=this.stack[this.stack.length-1];M.value=P}function se(){let P=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=M,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function be(){let P=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=M,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function ke(P){let M=this.sliceSerialize(P),D=this.stack[this.stack.length-2];D.label=Ro(M),D.identifier=hn(M).toLowerCase()}function it(){let P=this.stack[this.stack.length-1],M=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let Q=P.children;D.children=Q}else D.alt=M}function v(){let P=this.resume(),M=this.stack[this.stack.length-1];M.url=P}function Be(){let P=this.resume(),M=this.stack[this.stack.length-1];M.title=P}function $e(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function qe(P){let M=this.resume(),D=this.stack[this.stack.length-1];D.label=M,D.identifier=hn(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function Gt(P){this.data.characterReferenceType=P.type}function wn(P){let M=this.sliceSerialize(P),D=this.data.characterReferenceType,Q;D?(Q=Co(M,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=Cr(M);let ue=this.stack[this.stack.length-1];ue.value+=Q}function Mn(P){let M=this.stack.pop();M.position.end=Tn(P.end)}function Se(P){le.call(this,P);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(P)}function Dn(P){le.call(this,P);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(P)}function Tt(){return{type:"blockquote",children:[]}}function qt(){return{type:"code",lang:null,meta:null,value:""}}function yn(){return{type:"inlineCode",value:""}}function Gr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xa(){return{type:"emphasis",children:[]}}function Yi(){return{type:"heading",depth:0,children:[]}}function Ui(){return{type:"break"}}function Wi(){return{type:"html",value:""}}function zi(){return{type:"image",title:null,url:"",alt:null}}function je(){return{type:"link",title:null,url:"",children:[]}}function nr(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Ta(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function Sa(){return{type:"paragraph",children:[]}}function Hi(){return{type:"strong",children:[]}}function Ke(){return{type:"text",value:""}}function Gi(){return{type:"thematicBreak"}}}r(qA,"compiler");function Tn(t){return{line:t.line,column:t.column,offset:t.offset}}r(Tn,"point");function vd(t,e){let n=-1;for(;++n<e.length;){let i=e[n];Array.isArray(i)?vd(t,i):jA(t,i)}}r(vd,"configure");function jA(t,e){let n;for(n in e)if(Ad.call(e,n))switch(n){case"canContainEols":{let i=e[n];i&&t[n].push(...i);break}case"transforms":{let i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{let i=e[n];i&&Object.assign(t[n],i);break}}}r(jA,"extension");function kd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+xn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+xn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+xn({start:e.start,end:e.end})+") is still open")}r(kd,"defaultOnError");function Sr(t){let e=this;e.parser=n;function n(i){return Il(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}r(n,"parser")}r(Sr,"remarkParse");var Ed={}.hasOwnProperty;function Cd(t,e){let n=e||{};function i(o,...a){let l=i.invalid,c=i.handlers;if(o&&Ed.call(o,t)){let f=String(o[t]);l=Ed.call(c,f)?c[f]:i.unknown}if(l)return l.call(this,o,...a)}return r(i,"one"),i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}r(Cd,"zwitch");var KA={}.hasOwnProperty;function _l(t,e){let n=-1,i;if(e.extensions)for(;++n<e.extensions.length;)_l(t,e.extensions[n]);for(i in e)if(KA.call(e,i))switch(i){case"extensions":break;case"unsafe":{xd(t[i],e[i]);break}case"join":{xd(t[i],e[i]);break}case"handlers":{XA(t[i],e[i]);break}default:t.options[i]=e[i]}return t}r(_l,"configure");function xd(t,e){e&&t.push(...e)}r(xd,"list");function XA(t,e){e&&Object.assign(t,e)}r(XA,"map");function Td(t,e,n,i){let o=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),ZA);return o(),l}r(Td,"blockquote");function ZA(t,e,n){return">"+(n?"":" ")+t}r(ZA,"map");function Lo(t,e){return Sd(t,e.inConstruct,!0)&&!Sd(t,e.notInConstruct,!1)}r(Lo,"patternInScope");function Sd(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}r(Sd,"listInScope");function Ol(t,e,n,i){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Lo(n.stack,n.unsafe[o]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}r(Ol,"hardBreak");function Fd(t,e){let n=String(t),i=n.indexOf(e),o=i,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===o?++a>l&&(l=a):a=1,o=i+e.length,i=n.indexOf(e,o);return l}r(Fd,"longestStreak");function yi(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}r(yi,"formatCodeAsIndented");function Pd(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}r(Pd,"checkFence");function Id(t,e,n,i){let o=Pd(n),a=t.value||"",l=o==="`"?"GraveAccent":"Tilde";if(yi(t,n)){let g=n.enter("codeIndented"),w=n.indentLines(a,JA);return g(),w}let c=n.createTracker(i),f=o.repeat(Math.max(Fd(a,o)+1,3)),p=n.enter("codeFenced"),h=c.move(f);if(t.lang){let g=n.enter(`codeFencedLang${l}`);h+=c.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){let g=n.enter(`codeFencedMeta${l}`);h+=c.move(" "),h+=c.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...c.current()})),g()}return h+=c.move(`
`),a&&(h+=c.move(a+`
`)),h+=c.move(f),p(),h}r(Id,"code");function JA(t,e,n){return(n?"":"    ")+t}r(JA,"map");function Fr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}r(Fr,"checkQuote");function _d(t,e,n,i){let o=Fr(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),f=n.createTracker(i),p=f.move("[");return p+=f.move(n.safe(n.associationId(t),{before:p,after:"]",...f.current()})),p+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(t.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(c=n.enter("destinationRaw"),p+=f.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),p+=f.move(" "+o),p+=f.move(n.safe(t.title,{before:p,after:o,...f.current()})),p+=f.move(o),c()),l(),p}r(_d,"definition");function Od(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}r(Od,"checkEmphasis");function ht(t){return"&#x"+t.toString(16).toUpperCase()+";"}r(ht,"encodeCharacterReference");function Pr(t,e,n){let i=xr(t),o=xr(e);return i===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}r(Pr,"encodeInfo");Ml.peek=QA;function Ml(t,e,n,i){let o=Od(n),a=n.enter("emphasis"),l=n.createTracker(i),c=l.move(o),f=l.move(n.containerPhrasing(t,{after:o,before:c,...l.current()})),p=f.charCodeAt(0),h=Pr(i.before.charCodeAt(i.before.length-1),p,o);h.inside&&(f=ht(p)+f.slice(1));let g=f.charCodeAt(f.length-1),w=Pr(i.after.charCodeAt(0),g,o);w.inside&&(f=f.slice(0,-1)+ht(g));let y=l.move(o);return a(),n.attentionEncodeSurroundingInfo={after:w.outside,before:h.outside},c+f+y}r(Ml,"emphasis");function QA(t,e,n){return n.options.emphasis||"*"}r(QA,"emphasisPeek");var Ir=r((function(t){if(t==null)return rv;if(typeof t=="function")return No(t);if(typeof t=="object")return Array.isArray(t)?ev(t):tv(t);if(typeof t=="string")return nv(t);throw new Error("Expected function, string, or object as test")}),"convert");function ev(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Ir(t[n]);return No(i);function i(...o){let a=-1;for(;++a<e.length;)if(e[a].apply(this,o))return!0;return!1}}r(ev,"anyFactory");function tv(t){let e=t;return No(n);function n(i){let o=i,a;for(a in t)if(o[a]!==e[a])return!1;return!0}}r(tv,"propsFactory");function nv(t){return No(e);function e(n){return n&&n.type===t}}r(nv,"typeFactory");function No(t){return e;function e(n,i,o){return!!(iv(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}r(No,"castFactory");function rv(){return!0}r(rv,"ok");function iv(t){return t!==null&&typeof t=="object"&&"type"in t}r(iv,"looksLikeANode");function Md(t){return"\x1B[33m"+t+"\x1B[39m"}r(Md,"color");var Dd=[],Bo=!0,qn=!1,$o="skip";function Dl(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;let a=Ir(o),l=i?-1:1;c(t,void 0,[])();function c(f,p,h){let g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){let y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(w,"name",{value:"node ("+Md(f.type+(y?"<"+y+">":""))+")"})}return w;function w(){let y=Dd,E,x,F;if((!e||a(f,p,h[h.length-1]||void 0))&&(y=ov(n(f,h)),y[0]===qn))return y;if("children"in f&&f.children){let C=f;if(C.children&&y[0]!==$o)for(x=(i?C.children.length:-1)+l,F=h.concat(C);x>-1&&x<C.children.length;){let I=C.children[x];if(E=c(I,x,F)(),E[0]===qn)return E;x=typeof E[1]=="number"?E[1]:x+l}}return y}}r(c,"factory")}r(Dl,"visitParents");function ov(t){return Array.isArray(t)?t:typeof t=="number"?[Bo,t]:t==null?Dd:[t]}r(ov,"toResult");function bi(t,e,n,i){let o,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,o=n):(a=e,l=n,o=i),Dl(t,a,c,o);function c(f,p){let h=p[p.length-1],g=h?h.children.indexOf(f):void 0;return l(f,g,h)}r(c,"overload")}r(bi,"visit");function Vo(t,e){let n=!1;return bi(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,qn}),!!((!t.depth||t.depth<3)&&Wn(t)&&(e.options.setext||n))}r(Vo,"formatHeadingAsSetext");function Rd(t,e,n,i){let o=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(Vo(t,n)){let h=n.enter("headingSetext"),g=n.enter("phrasing"),w=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),h(),w+`
`+(o===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(o),c=n.enter("headingAtx"),f=n.enter("phrasing");a.move(l+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(p)&&(p=ht(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,n.options.closeAtx&&(p+=" "+l),f(),c(),p}r(Rd,"heading");Rl.peek=sv;function Rl(t){return t.value||""}r(Rl,"html");function sv(){return"<"}r(sv,"htmlPeek");Ll.peek=av;function Ll(t,e,n,i){let o=Fr(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),f=n.createTracker(i),p=f.move("![");return p+=f.move(n.safe(t.alt,{before:p,after:"]",...f.current()})),p+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(t.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(c=n.enter("destinationRaw"),p+=f.move(n.safe(t.url,{before:p,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),p+=f.move(" "+o),p+=f.move(n.safe(t.title,{before:p,after:o,...f.current()})),p+=f.move(o),c()),p+=f.move(")"),l(),p}r(Ll,"image");function av(){return"!"}r(av,"imagePeek");Nl.peek=lv;function Nl(t,e,n,i){let o=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("!["),p=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=h,a(),o==="full"||!p||p!==g?f+=c.move(g+"]"):o==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(Nl,"imageReference");function lv(){return"!"}r(lv,"imageReferencePeek");Bl.peek=uv;function Bl(t,e,n){let i=t.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),f;if(l.atBreak)for(;f=c.exec(i);){let p=f.index;i.charCodeAt(p)===10&&i.charCodeAt(p-1)===13&&p--,i=i.slice(0,p)+" "+i.slice(f.index+1)}}return o+i+o}r(Bl,"inlineCode");function uv(){return"`"}r(uv,"inlineCodePeek");function $l(t,e){let n=Wn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}r($l,"formatLinkAsAutolink");Vl.peek=cv;function Vl(t,e,n,i){let o=Fr(n),a=o==='"'?"Quote":"Apostrophe",l=n.createTracker(i),c,f;if($l(t,n)){let h=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=h,g}c=n.enter("link"),f=n.enter("label");let p=l.move("[");return p+=l.move(n.containerPhrasing(t,{before:p,after:"](",...l.current()})),p+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(n.safe(t.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(f=n.enter("destinationRaw"),p+=l.move(n.safe(t.url,{before:p,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${a}`),p+=l.move(" "+o),p+=l.move(n.safe(t.title,{before:p,after:o,...l.current()})),p+=l.move(o),f()),p+=l.move(")"),c(),p}r(Vl,"link");function cv(t,e,n){return $l(t,n)?"<":"["}r(cv,"linkPeek");Yl.peek=fv;function Yl(t,e,n,i){let o=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("["),p=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=h,a(),o==="full"||!p||p!==g?f+=c.move(g+"]"):o==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(Yl,"linkReference");function fv(){return"["}r(fv,"linkReferencePeek");function _r(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}r(_r,"checkBullet");function Ld(t){let e=_r(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}r(Ld,"checkBulletOther");function Nd(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}r(Nd,"checkBulletOrdered");function Yo(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}r(Yo,"checkRule");function Bd(t,e,n,i){let o=n.enter("list"),a=n.bulletCurrent,l=t.ordered?Nd(n):_r(n),c=t.ordered?l==="."?")":".":Ld(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Yo(n)===l&&h){let g=-1;for(;++g<t.children.length;){let w=t.children[g];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;let p=n.containerFlow(t,i);return n.bulletLastUsed=l,n.bulletCurrent=a,o(),p}r(Bd,"list");function $d(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}r($d,"checkListItemIndent");function Vd(t,e,n,i){let o=$d(n),a=n.bulletCurrent||_r(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(i);c.move(a+" ".repeat(l-a.length)),c.shift(l);let f=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,c.current()),h);return f(),p;function h(g,w,y){return w?(y?"":" ".repeat(l))+g:(y?a:a+" ".repeat(l-a.length))+g}r(h,"map")}r(Vd,"listItem");function Yd(t,e,n,i){let o=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,i);return a(),o(),l}r(Yd,"paragraph");var Ul=Ir(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ud(t,e,n,i){return(t.children.some(function(l){return Ul(l)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}r(Ud,"root");function Wd(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}r(Wd,"checkStrong");Wl.peek=dv;function Wl(t,e,n,i){let o=Wd(n),a=n.enter("strong"),l=n.createTracker(i),c=l.move(o+o),f=l.move(n.containerPhrasing(t,{after:o,before:c,...l.current()})),p=f.charCodeAt(0),h=Pr(i.before.charCodeAt(i.before.length-1),p,o);h.inside&&(f=ht(p)+f.slice(1));let g=f.charCodeAt(f.length-1),w=Pr(i.after.charCodeAt(0),g,o);w.inside&&(f=f.slice(0,-1)+ht(g));let y=l.move(o+o);return a(),n.attentionEncodeSurroundingInfo={after:w.outside,before:h.outside},c+f+y}r(Wl,"strong");function dv(t,e,n){return n.options.strong||"*"}r(dv,"strongPeek");function zd(t,e,n,i){return n.safe(t.value,i)}r(zd,"text");function Hd(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}r(Hd,"checkRuleRepetition");function Gd(t,e,n){let i=(Yo(n)+(n.options.ruleSpaces?" ":"")).repeat(Hd(n));return n.options.ruleSpaces?i.slice(0,-1):i}r(Gd,"thematicBreak");var qd={blockquote:Td,break:Ol,code:Id,definition:_d,emphasis:Ml,hardBreak:Ol,heading:Rd,html:Rl,image:Ll,imageReference:Nl,inlineCode:Bl,link:Vl,linkReference:Yl,list:Bd,listItem:Vd,paragraph:Yd,root:Ud,strong:Wl,text:zd,thematicBreak:Gd};var jd=[hv];function hv(t,e,n,i){if(e.type==="code"&&yi(e,i)&&(t.type==="list"||t.type===e.type&&yi(t,i)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Vo(e,i))?void 0:n.spread?1:0}r(hv,"joinDefaults");var jn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Kd=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:jn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:jn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:jn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,character:"~"}];function Xd(t){return t.label||!t.identifier?t.label||"":Ro(t.identifier)}r(Xd,"association");function Zd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}r(Zd,"compilePattern");function Jd(t,e,n){let i=e.indexStack,o=t.children||[],a=[],l=-1,c=n.before,f;i.push(-1);let p=e.createTracker(n);for(;++l<o.length;){let h=o[l],g;if(i[i.length-1]=l,l+1<o.length){let E=e.handle.handlers[o[l+1].type];E&&E.peek&&(E=E.peek),g=E?E(o[l+1],t,e,{before:"",after:"",...p.current()}).charAt(0):""}else g=n.after;a.length>0&&(c==="\r"||c===`
`)&&h.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",p=e.createTracker(n),p.move(a.join("")));let w=e.handle(h,t,e,{...p.current(),after:g,before:c});f&&f===w.slice(0,1)&&(w=ht(f.charCodeAt(0))+w.slice(1));let y=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,y&&(a.length>0&&y.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+ht(c.charCodeAt(0))),y.after&&(f=g)),p.move(w),a.push(w),c=w.slice(-1)}return i.pop(),a.join("")}r(Jd,"containerPhrasing");function Qd(t,e,n){let i=e.indexStack,o=t.children||[],a=e.createTracker(n),l=[],c=-1;for(i.push(-1);++c<o.length;){let f=o[c];i[i.length-1]=c,l.push(a.move(e.handle(f,t,e,{before:`
`,after:`
`,...a.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),c<o.length-1&&l.push(a.move(pv(f,o[c+1],t,e)))}return i.pop(),l.join("")}r(Qd,"containerFlow");function pv(t,e,n,i){let o=i.join.length;for(;o--;){let a=i.join[o](t,e,n,i);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}r(pv,"between");var mv=/\r?\n|\r/g;function eh(t,e){let n=[],i=0,o=0,a;for(;a=mv.exec(t);)l(t.slice(i,a.index)),n.push(a[0]),i=a.index+a[0].length,o++;return l(t.slice(i)),n.join("");function l(c){n.push(e(c,o,!c))}r(l,"one")}r(eh,"indentLines");function nh(t,e,n){let i=(n.before||"")+(e||"")+(n.after||""),o=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let h=t.unsafe[c];if(!Lo(t.stack,h))continue;let g=t.compilePattern(h),w;for(;w=g.exec(i);){let y="before"in h||!!h.atBreak,E="after"in h,x=w.index+(y?w[1].length:0);o.includes(x)?(l[x].before&&!y&&(l[x].before=!1),l[x].after&&!E&&(l[x].after=!1)):(o.push(x),l[x]={before:y,after:E})}}o.sort(gv);let f=n.before?n.before.length:0,p=i.length-(n.after?n.after.length:0);for(c=-1;++c<o.length;){let h=o[c];h<f||h>=p||h+1<p&&o[c+1]===h+1&&l[h].after&&!l[h+1].before&&!l[h+1].after||o[c-1]===h-1&&l[h].before&&!l[h-1].before&&!l[h-1].after||(f!==h&&a.push(th(i.slice(f,h),"\\")),f=h,/[!-/:-@[-`{-~]/.test(i.charAt(h))&&(!n.encode||!n.encode.includes(i.charAt(h)))?a.push("\\"):(a.push(ht(i.charCodeAt(h))),f++))}return a.push(th(i.slice(f,p),n.after)),a.join("")}r(nh,"safe");function gv(t,e){return t-e}r(gv,"numerical");function th(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,i=[],o=[],a=t+e,l=-1,c=0,f;for(;f=n.exec(a);)i.push(f.index);for(;++l<i.length;)c!==i[l]&&o.push(t.slice(c,i[l])),o.push("\\"),c=i[l];return o.push(t.slice(c)),o.join("")}r(th,"escapeBackslashes");function rh(t){let e=t||{},n=e.now||{},i=e.lineShift||0,o=n.line||1,a=n.column||1;return{move:f,current:l,shift:c};function l(){return{now:{line:o,column:a},lineShift:i}}function c(p){i+=p}function f(p){let h=p||"",g=h.split(/\r?\n|\r/g),w=g[g.length-1];return o+=g.length-1,a=g.length===1?a+w.length:1+w.length+i,h}}r(rh,"track");function zl(t,e){let n=e||{},i={associationId:Xd,containerPhrasing:kv,containerFlow:Av,createTracker:rh,compilePattern:Zd,enter:a,handlers:{...qd},handle:void 0,indentLines:eh,indexStack:[],join:[...jd],options:{},safe:vv,stack:[],unsafe:[...Kd]};_l(i,n),i.options.tightDefinitions&&i.join.push(bv),i.handle=Cd("type",{invalid:wv,unknown:yv,handlers:i.handlers});let o=i.handle(t,void 0,i,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function a(l){return i.stack.push(l),c;function c(){i.stack.pop()}r(c,"exit")}r(a,"enter")}r(zl,"toMarkdown");function wv(t){throw new Error("Cannot handle value `"+t+"`, expected node")}r(wv,"invalid");function yv(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}r(yv,"unknown");function bv(t,e){if(t.type==="definition"&&t.type===e.type)return 0}r(bv,"joinDefinition");function kv(t,e){return Jd(t,this,e)}r(kv,"containerPhrasingBound");function Av(t,e){return Qd(t,this,e)}r(Av,"containerFlowBound");function vv(t,e){return nh(this,t,e)}r(vv,"safeBound");function Uo(t){let e=this;e.compiler=n;function n(i){return zl(i,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}r(n,"compiler")}r(Uo,"remarkStringify");function Hl(t){if(t)throw t}r(Hl,"bail");var Go=De(dh(),1);function ki(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}r(ki,"isPlainObject");function Gl(){let t=[],e={run:n,use:i};return e;function n(...o){let a=-1,l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(f,...p){let h=t[++a],g=-1;if(f){l(f);return}for(;++g<o.length;)(p[g]===null||p[g]===void 0)&&(p[g]=o[g]);o=p,h?hh(h,c)(...p):l(null,...p)}r(c,"next")}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}r(Gl,"trough");function hh(t,e){let n;return i;function i(...l){let c=t.length>l.length,f;c&&l.push(o);try{f=t.apply(this,l)}catch(p){let h=p;if(c&&n)throw h;return o(h)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,o):f instanceof Error?o(f):a(f))}function o(l,...c){n||(n=!0,e(l,...c))}function a(l){o(null,l)}}r(hh,"wrap");var Oe=class extends Error{static{r(this,"VFileMessage")}constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?o=e:!a.cause&&e&&(l=!0,o=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){let f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){let f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=xn(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Oe.prototype.file="";Oe.prototype.name="";Oe.prototype.reason="";Oe.prototype.message="";Oe.prototype.stack="";Oe.prototype.column=void 0;Oe.prototype.line=void 0;Oe.prototype.ancestors=void 0;Oe.prototype.cause=void 0;Oe.prototype.fatal=void 0;Oe.prototype.place=void 0;Oe.prototype.ruleId=void 0;Oe.prototype.source=void 0;var vt=De(require("node:path"),1);var ql=De(require("node:process"),1);var jl=require("node:url");function zo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}r(zo,"isUrl");var Kl=["history","path","basename","stem","extname","dirname"],Ai=class{static{r(this,"VFile")}constructor(e){let n;e?zo(e)?n={path:e}:typeof e=="string"||Ev(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ql.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Kl.length;){let a=Kl[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)Kl.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?vt.default.basename(this.path):void 0}set basename(e){Zl(e,"basename"),Xl(e,"basename"),this.path=vt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?vt.default.dirname(this.path):void 0}set dirname(e){ph(this.basename,"dirname"),this.path=vt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?vt.default.extname(this.path):void 0}set extname(e){if(Xl(e,"extname"),ph(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){zo(e)&&(e=(0,jl.fileURLToPath)(e)),Zl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?vt.default.basename(this.path,this.extname):void 0}set stem(e){Zl(e,"stem"),Xl(e,"stem"),this.path=vt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){let o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){let o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){let o=new Oe(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Xl(t,e){if(t&&t.includes(vt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+vt.default.sep+"`")}r(Xl,"assertPart");function Zl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}r(Zl,"assertNonEmpty");function ph(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}r(ph,"assertPath");function Ev(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(Ev,"isUint8Array");var mh=r((function(t){let i=this.constructor.prototype,o=i[t],a=r(function(){return o.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,i),a}),"CallableInstance");var Cv={}.hasOwnProperty,tu=class t extends mh{static{r(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Gl()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let i=this.attachers[n];e.use(...i)}return e.data((0,Go.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(eu("data",this.frozen),this.namespace[e]=n,this):Cv.call(this.namespace,e)&&this.namespace[e]||void 0:e?(eu("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);let o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Ho(e),i=this.parser||this.Parser;return Jl("parse",i),i(String(n),n)}process(e,n){let i=this;return this.freeze(),Jl("process",this.parser||this.Parser),Ql("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,l){let c=Ho(e),f=i.parse(c);i.run(f,c,function(h,g,w){if(h||!g||!w)return p(h);let y=g,E=i.stringify(y,w);Tv(E)?w.value=E:w.result=E,p(h,w)});function p(h,g){h||!g?l(h):a?a(g):n(void 0,g)}r(p,"realDone")}r(o,"executor")}processSync(e){let n=!1,i;return this.freeze(),Jl("processSync",this.parser||this.Parser),Ql("processSync",this.compiler||this.Compiler),this.process(e,o),wh("processSync","process",n),i;function o(a,l){n=!0,Hl(a),i=l}r(o,"realDone")}run(e,n,i){gh(e),this.freeze();let o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){let f=Ho(n);o.run(e,f,p);function p(h,g,w){let y=g||e;h?c(h):l?l(y):i(void 0,y,w)}r(p,"realDone")}r(a,"executor")}runSync(e,n){let i=!1,o;return this.run(e,n,a),wh("runSync","run",i),o;function a(l,c){Hl(l),o=c,i=!0}r(a,"realDone")}stringify(e,n){this.freeze();let i=Ho(n),o=this.compiler||this.Compiler;return Ql("stringify",o),gh(e),o(e,i)}use(e,...n){let i=this.attachers,o=this.namespace;if(eu("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(p){if(typeof p=="function")f(p,[]);else if(typeof p=="object")if(Array.isArray(p)){let[h,...g]=p;f(h,g)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(p.plugins),p.settings&&(o.settings=(0,Go.default)(!0,o.settings,p.settings))}function c(p){let h=-1;if(p!=null)if(Array.isArray(p))for(;++h<p.length;){let g=p[h];a(g)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function f(p,h){let g=-1,w=-1;for(;++g<i.length;)if(i[g][0]===p){w=g;break}if(w===-1)i.push([p,...h]);else if(h.length>0){let[y,...E]=h,x=i[w][1];ki(x)&&ki(y)&&(y=(0,Go.default)(!0,x,y)),i[w]=[p,y,...E]}}}},nu=new tu().freeze();function Jl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}r(Jl,"assertParser");function Ql(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}r(Ql,"assertCompiler");function eu(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}r(eu,"assertUnfrozen");function gh(t){if(!ki(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}r(gh,"assertNode");function wh(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}r(wh,"assertDone");function Ho(t){return xv(t)?t:new Ai(t)}r(Ho,"vfile");function xv(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}r(xv,"looksLikeAVFile");function Tv(t){return typeof t=="string"||Sv(t)}r(Tv,"looksLikeAValue");function Sv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(Sv,"isUint8Array");var yh=nu().use(Sr).use(Uo).freeze();var iu={d:r((t,e)=>{for(var n in e)iu.o(e,n)&&!iu.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:r((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},ou={};iu.d(ou,{Z:r(()=>_v,"Z"),$:r(()=>vh,"$")});var Or={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function bh(t){return t<Or.nul||t===Or.space}r(bh,"n");function ru(t){return t<Or.horizontalTab}r(ru,"i");var Fv={553:t=>{t.exports=function(e){var n,i;return e._compiled||(n=e.before?"(?:"+e.before+")":"",i=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(i||""),"g")),e._compiled}},112:t=>{function e(n,i,o){var a;if(!i)return o;for(typeof i=="string"&&(i=[i]),a=-1;++a<i.length;)if(n.indexOf(i[a])!==-1)return!0;return!1}r(e,"t"),t.exports=function(n,i){return e(n,i.inConstruct,!0)&&!e(n,i.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,f,p){for(var h,g,w,y,E,x,F,C,I=(p.before||"")+(f||"")+(p.after||""),_=[],U=[],z={},S=-1;++S<c.unsafe.length;)if(y=c.unsafe[S],o(c.stack,y))for(E=i(y);x=E.exec(I);)h="before"in y||y.atBreak,g="after"in y,w=x.index+(h?x[1].length:0),_.indexOf(w)===-1?(_.push(w),z[w]={before:h,after:g}):(z[w].before&&!h&&(z[w].before=!1),z[w].after&&!g&&(z[w].after=!1));for(_.sort(a),F=p.before?p.before.length:0,C=I.length-(p.after?p.after.length:0),S=-1;++S<_.length;)(w=_[S])<F||w>=C||w+1<C&&_[S+1]===w+1&&z[w].after&&!z[w+1].before&&!z[w+1].after||(F!==w&&U.push(l(I.slice(F,w),"\\")),F=w,!/[!-/:-@[-`{-~]/.test(I.charAt(w))||p.encode&&p.encode.indexOf(I.charAt(w))!==-1?(U.push("&#x"+I.charCodeAt(w).toString(16).toUpperCase()+";"),F++):U.push("\\"));return U.push(l(I.slice(F,C),p.after)),U.join("")};var i=n(553),o=n(112);function a(c,f){return c-f}r(a,"a");function l(c,f){for(var p,h=/\\(?=[!-/:-@[-`{-~])/g,g=[],w=[],y=-1,E=0,x=c+f;p=h.exec(x);)g.push(p.index);for(;++y<g.length;)E!==g[y]&&w.push(c.slice(E,g[y])),w.push("\\"),E=g[y];return w.push(c.slice(E)),w.join("")}r(l,"o")}},kh={};function Wt(t){var e=kh[t];if(e!==void 0)return e.exports;var n=kh[t]={exports:{}};return Fv[t](n,n.exports,Wt),n.exports}r(Wt,"s");Wt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Wt.d(e,{a:e}),e},Wt.d=(t,e)=>{for(var n in e)Wt.o(e,n)&&!Wt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Wt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var su={};(()=>{function t(o={}){let a=o.permalinks||[],l=o.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),c=o.newClassName||"new",f=o.wikiLinkClassName||"internal",p=o.hrefTemplate||(w=>`#/page/${w}`),h;function g(w){return w[w.length-1]}return r(g,"s"),{enter:{wikiLink:r(function(w){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,w)},"wikiLink")},exit:{wikiLinkTarget:r(function(w){let y=this.sliceSerialize(w);g(this.stack).value=y},"wikiLinkTarget"),wikiLinkAlias:r(function(w){let y=this.sliceSerialize(w);g(this.stack).data.alias=y},"wikiLinkAlias"),wikiLink:r(function(w){this.exit(w);let y=h,E=l(y.value),x=E.find((U=>a.indexOf(U)!==-1)),F=x!==void 0,C;C=F?x:E[0]||"";let I=y.value;y.data.alias&&(I=y.data.alias);let _=f;F||(_+=" "+c),y.data.alias=I,y.data.permalink=C,y.data.exists=F,y.data.hName="a",y.data.hProperties={className:_,href:p(C)},y.data.hChildren=[{type:"text",value:I}]},"wikiLink")}}}r(t,"e"),Wt.d(su,{V:r(()=>t,"V"),x:r(()=>i,"x")});var e=Wt(113),n=Wt.n(e);function i(o={}){let a=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:r(function(l,c,f){let p=f.enter("wikiLink"),h=n()(f,l.value,{before:"[",after:"]"}),g=n()(f,l.data.alias,{before:"[",after:"]"}),w;return w=g!==h?`[[${h}${a}${g}]]`:`[[${h}]]`,p(),w},"wikiLink")}}}r(i,"n")})();var Pv=su.V,Iv=su.x,Ah=!1;function vh(t={}){let e=this.data();function n(i,o){e[i]?e[i].push(o):e[i]=[o]}r(n,"a"),!Ah&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Ah=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:r(function(a,l,c){var f,p,h=0,g=0,w=0;return function(I){return I!=="[[".charCodeAt(g)?c(I):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),y(I))};function y(I){return g===2?(a.exit("wikiLinkMarker"),(function(_){return ru(_)||_===Or.eof?c(_):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),E(_))})(I)):I!=="[[".charCodeAt(g)?c(I):(a.consume(I),g++,y)}function E(I){return I===i.charCodeAt(h)?f?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),x(I)):c(I):I===o.charCodeAt(w)?f?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),C(I)):c(I):ru(I)||I===Or.eof?c(I):(bh(I)||(f=!0),a.consume(I),E)}function x(I){return h===i.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),F(I)):I!==i.charCodeAt(h)?c(I):(a.consume(I),h++,x)}function F(I){return I===o.charCodeAt(w)?p?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),C(I)):c(I):ru(I)||I===Or.eof?c(I):(bh(I)||(p=!0),a.consume(I),F)}function C(I){return w===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(I)):I!==o.charCodeAt(w)?c(I):(a.consume(I),w++,C)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",Pv(t)),n("toMarkdownExtensions",Iv(t))}r(vh,"k");var _v=vh,wR=ou.Z,Eh=ou.$;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ov=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function au(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Ov.test(t)}r(au,"isUrl");var Kn=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function qo(t){let e=(0,Kn.getFrontMatterInfo)(t);return(0,Kn.parseYaml)(e.frontmatter)??{}}r(qo,"parseFrontmatter");function Ch(t,e){let n=(0,Kn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let i=(0,Kn.stringifyYaml)(e);return n.exists?Ff(t,i,n.from,n.to):`---
${i}---
${t}`}r(Ch,"setFrontmatter");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function pt(t){if(!ft(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}r(pt,"isFrontmatterLinkCacheWithOffsets");function jo(t){return pt(t)?t:{...t,endOffset:t.original.length,startOffset:0}}r(jo,"toFrontmatterLinkCacheWithOffsets");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function xh(t){return lu(t)&&t.type==="file"}r(xh,"isCanvasFileNodeReference");function lu(t){return ft(t)&&!!t.isCanvas}r(lu,"isCanvasReference");function Mr(t,e){return{newContent:e,oldContent:t.original,reference:t}}r(Mr,"referenceToFileChange");function Th(t){return t.sort((e,n)=>{if(ft(e)&&ft(n)){let i=pt(e)?e.startOffset:0,o=pt(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(pt(n))-Number(pt(e))||i-o}return ln(e)&&ln(n)?e.position.start.offset-n.position.start.offset:ft(e)?1:-1})}r(Th,"sortReferences");var Sh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Fh(t,e,n){let i=Le(t,e),o=kt(n);await Ko(t,o);let a=Ph(t,n);try{await t.vault.copy(i,a)}catch(l){if(!await t.vault.exists(a))throw l}return a}r(Fh,"copySafe");async function Ko(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}r(Ko,"createFolderSafe");function Ph(t,e){let n=Ue(e);return t.vault.getAvailablePath(ve(ye(e),Te(e,n)),n.slice(1))}r(Ph,"getAvailablePath");function uu(t,e,n){let i=Ce(t,e);if(t.vault.adapter.insensitive){let o=ye(n),a=Te(n),l;for(;l=Ut(t,o,!0),!l;)a=ve(Te(o),a),o=ye(o);n=ve(l.getParentPrefix(),a)}return i.toLowerCase()===n.toLowerCase()?n:Ph(t,n)}r(uu,"getSafeRenamePath");async function cu(t,e){let n=await fu(t,Ce(t,e));return n.files.length===0&&n.folders.length===0}r(cu,"isEmptyFolder");async function fu(t,e){let n=Ce(t,e),i={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return i;try{return await t.vault.adapter.list(n)}catch(o){if(await t.vault.exists(n))throw o;return i}}r(fu,"listSafe");async function Xo(t,e,n,i={}){let a={...{shouldFailOnMissingFile:!0},...i};await ko(async l=>{l.throwIfAborted();let c=await du(t,e);if(l.throwIfAborted(),c===null)return g();let f=await Yn(n,l,c);if(l.throwIfAborted(),f===null)return!1;let p=!0;if(!await Ih(t,e,async w=>{l.throwIfAborted(),await t.vault.process(w,y=>(l.throwIfAborted(),y!==c?(console.warn("Content has changed since it was read. Retrying...",{actualContent:y,expectedContent:c,path:w.path}),p=!1,y):f)),l.throwIfAborted()}))return g();return p;function g(){if(a.shouldFailOnMissingFile){let w=Ce(t,e);throw new Error(`File '${w}' not found`)}return!0}},a)}r(Xo,"process");async function du(t,e){let n=null;return await Ih(t,e,async i=>{n=await t.vault.read(i)}),n}r(du,"readSafe");async function Zo(t,e,n){let i=Le(t,e,!1,!0),o=uu(t,e,n);if(i.path.toLowerCase()===o.toLowerCase())return i.path!==n&&await t.vault.rename(i,o),o;let a=kt(o);await Ko(t,a);try{await t.vault.rename(i,o)}catch(l){if(!await t.vault.exists(o)||await t.vault.exists(i.path))throw l}return o}r(Zo,"renameSafe");async function hu(t,e){if(!fn(t,e))return;let n=Ce(t,e);for(let i of t.workspace.getLeavesOfType(ui.Markdown))i.view instanceof Sh.MarkdownView&&i.view.file?.path===n&&i.view.dirty&&await i.view.save()}r(hu,"saveNote");async function Ih(t,e,n){let i=Ce(t,e),o=Pe(t,i);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(a){if(o=Pe(t,i),!o||o.deleted)return!1;throw a}}r(Ih,"invokeFileActionSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function es(t,e,n,i,o=!0){t.throwIfAborted();let a=await Yn(i,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=Vv(e,n);if(!zv(a,e,l,n,o))return o?null:e;if(a=Uv(a),!Wv(a))return null;let{frontmatterChanged:f,newContent:p}=Nv(a,e,c,n);return await Bv(t,l,f,n),t.throwIfAborted(),$v(p,l,f)}r(es,"applyContentChanges");async function ts(t,e,n,i={},o=!0){await Xo(t,e,async(a,l)=>cn(t,e)?await Lv(a,l,Ce(t,e),n,o):await es(a,l,Ce(t,e),n,o),i)}r(ts,"applyFileChanges");function vi(t){return lu(t.reference)}r(vi,"isCanvasChange");function Mv(t){return vi(t)&&t.reference.type==="file"}r(Mv,"isCanvasFileNodeChange");function Dv(t){return vi(t)&&t.reference.type==="text"}r(Dv,"isCanvasTextNodeChange");function pn(t){return ln(t.reference)}r(pn,"isContentChange");function Jo(t){return ft(t.reference)}r(Jo,"isFrontmatterChange");function Qo(t){return pt(t.reference)}r(Qo,"isFrontmatterChangeWithOffsets");function Rv(t){return Qo(t)?t:{...t,reference:jo(t.reference)}}r(Rv,"toFrontmatterChangeWithOffsets");async function Lv(t,e,n,i,o=!0){let a=await Yn(i,t,e);if(t.throwIfAborted(),a===null)return null;let l=Yv(e),c=new Map;for(let f of a){if(!vi(f))return console.warn("Only canvas changes are supported for canvas files",{change:f,path:n}),null;let p=l.nodes[f.reference.nodeIndex];if(!p)return console.warn("Node not found",{nodeIndex:f.reference.nodeIndex,path:n}),null;if(Mv(f)){if(p.file!==f.oldContent)return console.warn("Content mismatch",{actualContent:p.file,expectedContent:f.oldContent,nodeIndex:f.reference.nodeIndex,path:n,type:"file"}),null;p.file=f.newContent}else if(Dv(f)){let h=c.get(f.reference.nodeIndex);h||(h=[],c.set(f.reference.nodeIndex,h)),h.push(f)}}for(let[f,p]of c.entries()){let h=l.nodes[f];if(!h)return console.warn("Node not found",{nodeIndex:f,path:n}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:f,path:n}),null;let g=p.map(w=>Mr(w.reference.originalReference,w.newContent));h.text=await es(t,h.text,`${n}.node${String(f)}.VIRTUAL_FILE.md`,g,o)}return JSON.stringify(l,null,"	")}r(Lv,"applyCanvasChanges");function Nv(t,e,n,i){let o="",a=0,l=new Map;for(let c of t)if(pn(c))o+=e.slice(a,c.reference.position.start.offset),o+=c.newContent,a=c.reference.position.end.offset;else if(Jo(c))if(n)console.error(`Cannot apply frontmatter change in ${i}, because frontmatter parsing failed`,{change:c});else{let f=l.get(c.reference.key);f||(f=[],l.set(c.reference.key,f)),f.push(Rv(c))}return o+=e.slice(a),{frontmatterChanged:l,newContent:o}}r(Nv,"applyContentChangesToText");async function Bv(t,e,n,i){for(let[o,a]of n.entries()){let l=vn(e,o);if(typeof l!="string")return;let c=a.map(p=>({newContent:p.newContent,oldContent:p.oldContent,reference:{link:"",original:"",position:{end:{col:p.reference.endOffset,line:0,offset:p.reference.endOffset},start:{col:p.reference.startOffset,line:0,offset:p.reference.startOffset}}}})),f=await es(t,l,`${i}.frontmatter.${o}.VIRTUAL_FILE.md`,c);if(f===null)return;Mf(e,o,f)}}r(Bv,"applyFrontmatterChangesWithOffsets");function $v(t,e,n){return n.size>0?Ch(t,e):t}r($v,"buildFinalContent");function Vv(t,e){let n={},i=!1;try{n=qo(t)}catch(o){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:o})),i=!0}return{frontmatter:n,hasFrontmatterError:i}}r(Vv,"parseFrontmatterSafely");function Yv(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}r(Yv,"parseJsonSafe");function Uv(t){return t.sort((e,n)=>pn(e)&&pn(n)?e.reference.position.start.offset-n.reference.position.start.offset:Qo(e)&&Qo(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:Jo(e)&&Jo(n)?e.reference.key.localeCompare(n.reference.key):pn(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!yt(e,t[n-1]))}r(Uv,"sortAndFilterChanges");function Wv(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let i=t[e-1];if(i&&pn(i)&&pn(n)&&i.reference.position.end.offset&&i.reference.position.end.offset>n.reference.position.start.offset)return console.warn("Overlapping changes",{change:n,previousChange:i}),!1}return!0}r(Wv,"validateChangeOverlaps");function zv(t,e,n,i,o){let a=mr("FileChange:validateChanges"),l=o?console.warn.bind(console):a;for(let c of t)if(pn(c)){let f=c.reference.position.start.offset,p=c.reference.position.end.offset,h=e.slice(f,p);if(h!==c.oldContent)return l("Content mismatch",{actualContent:h,endOffset:p,expectedContent:c.oldContent,path:i,startOffset:f}),!1}else if(Qo(c)){let f=vn(n,c.reference.key);if(typeof f!="string")return l("Property value is not a string",{frontmatterKey:c.reference.key,path:i,propertyValue:f}),!1;let p=f.slice(c.reference.startOffset,c.reference.endOffset);if(p!==c.oldContent)return l("Content mismatch",{actualContent:p,expectedContent:c.oldContent,frontmatterKey:c.reference.key,path:i,startOffset:c.reference.startOffset}),!1}else if(Jo(c)){let f=vn(n,c.reference.key);if(f!==c.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:c.oldContent,frontmatterKey:c.reference.key,path:i}),!1}return!0}r(zv,"validateChanges");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function _h(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}r(_h,"ensureMetadataCacheReady");function Sn(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Th(e),e=e.filter((n,i)=>{if(i===0)return!0;let o=e[i-1];if(!o)return!0;if(ln(n)&&ln(o))return n.position.start.offset!==o.position.start.offset;if(ft(n)&&ft(o)){let a=pt(n)?n.startOffset:0,l=pt(o)?o.startOffset:0;return n.key!==o.key||pt(n)!==pt(o)||a!==l}return!0}),e}r(Sn,"getAllLinks");function pu(t,e){let n=Le(t,e,!0);return Ei(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}r(pu,"getBacklinksForFileOrPath");async function mn(t,e,n={}){let i=t.metadataCache.getBacklinksForFile.safe;if(i)return i(e);let o=new Df;return await ko(async a=>{a.throwIfAborted();let l=Le(t,e);await _h(t),a.throwIfAborted(),o=pu(t,l);for(let c of o.keys()){a.throwIfAborted();let f=Pe(t,c);if(!f)return!1;await hu(t,f),a.throwIfAborted();let p=await du(t,f);if(a.throwIfAborted(),!p)return!1;let h=qo(p),g=o.get(c);if(!g)return!1;for(let w of g){let y;if(ln(w))y=p.slice(w.position.start.offset,w.position.end.offset);else if(ft(w)){let E=vn(h,w.key);if(typeof E!="string")return!1;let x=jo(w);y=E.slice(x.startOffset,x.endOffset)}else return!0;if(y!==w.original)return!1}}return!0},n),o}r(mn,"getBacklinksForFileSafe");async function Dr(t,e){let n=Pe(t,e);try{if(!n||n.deleted)return null;await hu(t,n);let i=t.metadataCache.fileCache[n.path];return i&&i.mtime===n.stat.mtime&&i.size===n.stat.size&&t.metadataCache.metadataCache[i.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await _h(t)),t.metadataCache.getFileCache(n)}catch(i){if(!n||n.deleted)return null;throw i}}r(Dr,"getCacheSafe");function Hv(t,e){let n=new Set;for(let i of e){if(!i.deleted)continue;let o=i;for(;o.deleted;)n.add(o.path),t.vault.fileMap[o.path]=o,o=o.parent??ci(t,kt(o.path),!0);At(i)&&t.metadataCache.uniqueFileLookup.add(i.name.toLowerCase(),i)}return()=>{for(let i of n)delete t.vault.fileMap[i];for(let i of e)i.deleted&&At(i)&&t.metadataCache.uniqueFileLookup.remove(i.name.toLowerCase(),i)}}r(Hv,"registerFiles");function Ei(t,e,n){let i=Hv(t,e);try{return n()}finally{i()}}r(Ei,"tempRegisterFilesAndRun");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Oh(t){return t.vault.getConfig("newLinkFormat")==="relative"}r(Oh,"shouldUseRelativeLinks");function mu(t){return!t.vault.getConfig("useMarkdownLinks")}r(mu,"shouldUseWikilinks");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gv="\\|",qv=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,jv=/[\\[\]<>_*~=`$]/g,Rh=/(?<!\\)\|/g,Lh="|",gu=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(gu||{});function Kv(t){let e=Rr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Ti({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}r(Kv,"convertLink");async function wu(t,e,n,i={}){await ts(t,e,async(o,a)=>{let l=await Dr(t,e);o.throwIfAborted();let c=Le(t,e),f=await t.vault.cachedRead(c);return o.throwIfAborted(),a!==f?null:await rE(l,cn(t,e),n,o)},i)}r(wu,"editLinks");function Ci(t){return Ae(t,qv,({substring:e})=>encodeURIComponent(e))}r(Ci,"encodeUrl");function Rr(t,e,n,i=!1){let{linkPath:o}=Nh(e.link),a=Ce(t,n),l=t.metadataCache.getFirstLinkpathDest(o,a);if(l)return l;if(!i)return null;if(o.startsWith("/"))return Le(t,o,!0);let c=ve(ye(a),`./${o}`);return c.startsWith("../")?null:Le(t,c,!0)}r(Rr,"extractLinkFile");function yu(t){let{app:e}=t,i=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...i,...t};let a=Le(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Ei(e,[a],()=>eE(t))}r(yu,"generateMarkdownLink");function xi(t){let e=Xv(t);return e[0]?.raw===t?e[0]:null}r(xi,"parseLink");function Xv(t){let e=new Set,n="![",i=" [",o=Ae(t,n,h=>(e.add(h.offset),i)),l=yh().use(Sr).use(Eh,{aliasDivider:Lh}).parse(o),c=[],f=[];bi(l,h=>{let g;switch(h.type){case"link":g=oE(h,t);break;case"wikiLink":g=sE(h,t);break;default:return}e.has(g.startOffset-1)&&(g.isEmbed=!0,g.startOffset--,g.raw=`!${g.raw}`),c.push(g)}),c.sort((h,g)=>h.startOffset-g.startOffset);let p=0;for(let h of c)Mh(t,p,h.startOffset-1,f),p=h.endOffset+1;return Mh(t,p,t.length-1,f),c.push(...f),c.sort((h,g)=>h.startOffset-g.startOffset),c}r(Xv,"parseLinks");function Zv(t){let{app:e,displayText:n,isWikilink:i,newSourcePathOrFile:o,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(i===!1)return!1;if(!n)return!0;let f=Le(e,c,!0),p=Ce(e,o),h=Ce(e,a??o),g=ye(p),w=ye(h),y=new Set;for(let x of[f.path,l]){if(!x)continue;let F=Ce(e,x);y.add(F),y.add(Te(F)),y.add(vr(g,F)),y.add(vr(w,F))}for(let x of[h,p])y.add(e.metadataCache.fileToLinktext(f,x,!1));let E=Ae((0,ns.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let x of y){if(x.toLowerCase()===E)return!0;let F=ye(x),C=Te(x,Ue(x));if(ve(F,C).toLowerCase()===E)return!0}return!1}r(Zv,"shouldResetAlias");function Nh(t){let e=(0,ns.parseLinktext)(li(t));return{linkPath:e.path,subpath:e.subpath}}r(Nh,"splitSubpath");function bu(t){return xi(t)?.hasAngleBrackets??!1}r(bu,"testAngleBrackets");function Bh(t){return xi(t)?.isEmbed??!1}r(Bh,"testEmbed");function Jv(t){return xi(t)?.url.startsWith("./")??!1}r(Jv,"testLeadingDot");function ku(t){return xi(t)?.isWikilink??!1}r(ku,"testWikilink");function Ti(t){let{app:e,link:n,linkStyle:i,newSourcePathOrFile:o,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:f}=t;if(!a)return n.original;let p=Le(e,a,!0),h=Ce(e,c??a),g=Yh(e,n.original,i),{subpath:w}=Nh(n.link),y=!f;if(cn(e,o)&&xh(n))return p.path+w;let E=xi(n.original),x;return g&&E?.alias&&(x=E.alias,y=!0),x??=Zv({app:e,displayText:n.displayText,isWikilink:g,newSourcePathOrFile:o,oldSourcePathOrFile:l,oldTargetPath:h,targetPathOrFile:p})?void 0:E?.alias,y||(x===Te(h,Ue(h))?x=p.basename:x===Te(h)&&(x=p.name)),yu({alias:x,app:e,linkStyle:i,originalLink:n.original,sourcePathOrFile:o,subpath:w,targetPathOrFile:p})}r(Ti,"updateLink");async function $h(t){let{app:e,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:o,shouldUpdateEmbedOnlyLinks:a,shouldUpdateFileNameAlias:l}=t;cn(e,i)&&!e.internalPlugins.getEnabledPluginById(bt.Canvas)||await wu(e,i,c=>{let f=Bh(c.original);if(!(a!==void 0&&a!==f))return Kv({app:e,link:c,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:o,shouldUpdateFileNameAlias:l})},t)}r($h,"updateLinksInFile");function Mh(t,e,n,i){if(e>n)return;let o=t.slice(e,n+1);Ae(o,/(?<Url>\S+)/g,(a,l)=>{au(l)&&i.push({encodedUrl:Ci(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}r(Mh,"extractTextLinks");function Qv(t,e,n,i,o){n==="/"&&(n="");let a;return e.path===n&&i?a=i:o.shouldForceRelativePath?a=vr(ye(n),o.isWikilink?Hf(t,e):e.path)+i:a=t.metadataCache.fileToLinktext(e,n,o.isWikilink)+i,o.shouldForceRelativePath&&o.shouldUseLeadingDot&&!a.startsWith(".")&&!a.startsWith("#")&&(a=`./${a}`),a}r(Qv,"generateLinkText");function eE(t){let{app:e}=t,n=Le(e,t.targetPathOrFile,t.isNonExistingFileAllowed),i=Ce(e,t.sourcePathOrFile),o=t.subpath??"",a=iE(t,n),l=Qv(e,n,i,o,a);return a.isWikilink?nE(l,t.alias,a.isEmbed):tE(l,n,t,a)}r(eE,"generateMarkdownLinkImpl");function tE(t,e,n,i){let{app:o}=n,a=i.isEmbed?"!":"",l=i.shouldUseAngleBrackets?`<${t}>`:Ci(t),c=n.alias??"";!c&&(!i.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(c=!n.shouldIncludeAttachmentExtensionToEmbedAlias||fn(o,e)?e.basename:e.name);let f=n.shouldEscapeAlias?Ae(c,jv,"\\$&"):c;return`${a}[${f}](${l})`}r(tE,"generateMarkdownStyleLink");function nE(t,e,n){let i=n?"!":"",o=e??"";if(o&&o.toLowerCase()===t.toLowerCase())return`${i}[[${o}]]`;let a=o?`|${o}`:"";return`${i}[[${t}${a}]]`}r(nE,"generateWikiLink");async function rE(t,e,n,i){if(i??=Re(),i.throwIfAborted(),!t)return[];let o=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of Sn(t)){i.throwIfAborted();let c=await n(l,i);if(i.throwIfAborted(),c===void 0)continue;let f=Mr(l,c);e?vi(f)?o.push(f):console.warn("Unsupported file change",f):(aE(f,a)&&(f.newContent=f.newContent.replaceAll(Rh,Gv)),o.push(f))}return o}r(rE,"getFileChanges");function iE(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Bh(t.originalLink):void 0)??!fn(n,e),isWikilink:Yh(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??Oh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?bu(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Jv(t.originalLink):void 0)??!1}}r(iE,"getLinkConfig");function Vh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}r(Vh,"getRawLink");function oE(t,e){let a=Vh(t,e),l=t.children[0]?.position?.start.offset??1,c=t.children.at(-1)?.position?.end.offset??1,f=e.slice(c+2,(t.position?.end.offset??0)-1),p=a.startsWith("<")||f.startsWith("<"),h=au(t.url),g=t.url;if(!h&&!p)try{g=decodeURIComponent(g)}catch(w){console.error(`Failed to decode URL ${g}`,w)}return{alias:l<c?e.slice(l,c):void 0,encodedUrl:h?Ci(g):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:p,isEmbed:!1,isExternal:h,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:g}}r(oE,"parseLinkNode");function sE(t,e){return{alias:e.includes(Lh)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Vh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}r(sE,"parseWikilinkNode");function aE(t,e){return!pn(t)||!Rh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}r(aE,"shouldEscapeWikilinkDivider");function Yh(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return mu(t);case"PreserveExisting":return e===void 0?mu(t):ku(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}r(Yh,"shouldUseWikilinkStyle");function Uh(t,e){let n=Object.keys(e).map(i=>lE(t,i,e[i]));return n.length===1?n[0]:function(){n.forEach(i=>i())}}r(Uh,"around");function lE(t,e,n){let i=t[e],o=t.hasOwnProperty(e),a=o?i:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(a);return i&&Object.setPrototypeOf(l,i),Object.setPrototypeOf(c,l),t[e]=c,f;function c(...p){return l===a&&t[e]===c&&f(),l.apply(this,p)}r(c,"wrapper");function f(){t[e]===c&&(o?t[e]=a:delete t[e]),l!==a&&(l=a,Object.setPrototypeOf(c,i||Function))}r(f,"remove")}r(lE,"around1");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function uE(t,e){return Uh(t,e)}r(uE,"around");function zt(t,e,n){let i=uE(e,n),o=!1;function a(){if(!o)try{i()}finally{o=!0}}return r(a,"uninstallerWrapper"),t.register(a),i}r(zt,"registerPatch");var as=require("obsidian");var Wh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var rs=class extends Wh.Component{static{r(this,"AsyncEventsComponent")}registerAsyncEvent(e){is(this,e)}};function is(t,e){t.register(()=>{e.asyncEvents.offref(e)})}r(is,"registerAsyncEvent");var qh=De(Hh(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))($||{});r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gh=`${go}-styles`;function ce(t,...e){t.addClass($.LibraryName,wo(),...e)}r(ce,"addPluginCssClasses");function jh(t,e){yf(e),Af(e);let n=sn(t,"lastLibraryVersion","0.0.0");if((0,qh.compareVersions)(Qa,n.value)<=0)return;n.value=Qa;let i=cE();i.DEBUG=kf(),document.head.querySelector(`#${Gh}`)?.remove(),document.head.createEl("style",{attr:{id:Gh},text:gf})}r(jh,"initPluginContext");function cE(){return window}r(cE,"getPluginContextWindow");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ss=class extends as.Plugin{static{r(this,"PluginBase")}events=new $t;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){mr(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Cf(this.afterLoad.bind(this))}onunload(){super.onunload(),we(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){we(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,i){this.registerPopupDomEvent(o=>{this.registerDomEvent(o.document,e,n,i)})}registerPopupWindowDomEvent(e,n,i){this.registerPopupDomEvent(o=>{this.registerDomEvent(o,e,n,i)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Bt()}async onloadImpl(){jh(this.app,this.manifest.id),this.register(mf(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(is(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),is(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new pr(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Bt()}async onSaveSettings(e,n,i){await Bt()}async onunloadImpl(){await Bt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new as.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Qe(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}registerPopupDomEvent(e){this.app.workspace.iterateRootLeaves(n=>{e(n.view.containerEl.win)}),this.registerEvent(this.app.workspace.on("window-open",n=>{e(n.win)}))}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var tp=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Kh(t,e,n,i){n.throwIfAborted();let o=ct("Logger:invokeAsyncAndLog"),a=performance.now();i??=Je(1),an(o,i,`${t}:start`,{fn:e,timestampStart:a});try{await e(n);let l=performance.now(),c=l-a;n.aborted&&(an(o,i,`${t}:aborted`,{abortReason:n.reason,duration:c,fn:e,timestampEnd:l,timestampStart:a}),n.throwIfAborted()),an(o,i,`${t}:end`,{duration:c,fn:e,timestampEnd:l,timestampStart:a})}catch(l){let c=performance.now();throw an(o,i,`${t}:error`,{duration:c-a,error:l,fn:e,timestampEnd:c,timestampStart:a}),l}}r(Kh,"invokeAsyncAndLog");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Fn(t,e,n,i,o){o??=Je(1),we(()=>fE(t,e,n,i,o),o)}r(Fn,"addToQueue");async function fE(t,e,n,i,o){n??=Re(),n.throwIfAborted(),i??=6e4,o??=Je(1);let l=Xh(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:o,timeoutInMilliseconds:i}),l.promise=l.promise.then(()=>Zh(t)),await l.promise}r(fE,"addToQueueAndWait");function Xh(t){return sn(t,"queue",{items:[],promise:Promise.resolve()})}r(Xh,"getQueue");async function Zh(t){let e=Xh(t).value,n=e.items[0];n&&(await rl(()=>il(n.timeoutInMilliseconds,i=>Kh(Zh.name,n.fn,Bn(i,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}r(Zh,"processNextQueueItem");var Jh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ls(t,e){let n=Ut(t,e);for(;n;){if(!await cu(t,n))return;let i=n.parent;await Lr(t,n.path),n=i}}r(ls,"deleteEmptyFolderHierarchy");async function Lr(t,e,n,i,o){let a=Un(t,e);if(!a)return!1;let l=At(a)||(o??!0);if(At(a)){let c=await mn(t,a);n&&c.clear(n),c.count()!==0&&(i&&new Jh.Notice(`Attachment ${a.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(cl(a)){let c=await fu(t,a);for(let f of[...c.files,...c.folders])l&&=await Lr(t,f,n,i);l&&=await cu(t,a)}if(l)try{await t.fileManager.trashFile(a)}catch(c){await t.vault.exists(a.path)&&(Vn(new Error(`Failed to delete ${a.path}`,{cause:c})),l=!1)}return l}r(Lr,"deleteSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Au=new Map,Si=new Set,us=new Map,at=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(at||{});function np(t,e){let n=cs(t.app),i=t.manifest.id;n.set(i,e),ep(t.app),t.register(()=>{n.delete(i),ep(t.app)});let o=t.app,a=t.abortSignal??Re();t.registerEvent(o.vault.on("delete",l=>{gE(t,l,a)})),t.registerEvent(o.vault.on("rename",(l,c)=>{kE(t,l,c,a)})),t.registerEvent(o.metadataCache.on("deleted",(l,c)=>{yE(t,l,c)})),zt(t,o.fileManager,{runAsyncLinkUpdate:r(l=>c=>vE(o,l,c),"runAsyncLinkUpdate")})}r(np,"registerRenameDeleteHandlers");async function rp(t,e,n){let i=Pn(t);if(i.emptyAttachmentFolderBehavior!=="Keep")for(let o of e)switch(i.emptyAttachmentFolderBehavior){case"Delete":await Lr(t,o,n,void 0,!0);break;case"DeleteWithEmptyParents":await ls(t,o);break;default:break}}r(rp,"cleanupParentFolders");async function dE(t,e,n,i,o){let a=us.get(e);if(a){us.delete(e);for(let l of a)await vu(t,l.oldPath,n,i,o,l.combinedBacklinksMap)}}r(dE,"continueInterruptedRenames");async function hE(t,e,n,i,o,a){if(a.throwIfAborted(),i.set(e,n),!Fi(t,e))return;let l=Pn(t),c=await Er(t,e),f=l.shouldRenameAttachmentFolder?await Er(t,n):c,p=c==="/",h=Ut(t,c);if(!h||c===f&&!l.shouldRenameAttachmentFiles)return;let g=[];if(await hl(t,e))tp.Vault.recurseChildren(h,w=>{a.throwIfAborted(),At(w)&&g.push(w)});else for(let w of o){a.throwIfAborted();let y=Rr(t,w,e);if(y&&(p||y.path.startsWith(c))){let E=await mn(t,y);a.throwIfAborted(),E.keys().length===1&&g.push(y)}}for(let w of g){if(a.throwIfAborted(),Fi(t,w.path))continue;let y;if(l.shouldRenameAttachmentFiles)y=await fl({app:t,attachmentPathOrFile:w,notePathOrFile:n,shouldSkipDuplicateCheck:!0}),a.throwIfAborted();else{let E=p?w.path:vr(c,w.path),x=ve(f,ye(E));y=ve(x,w.name)}if(w.path!==y){if(l.shouldDeleteConflictingAttachments){let E=Pe(t,y);E&&(console.warn(`Removing conflicting attachment ${E.path}.`),await t.fileManager.trashFile(E),a.throwIfAborted())}else{let E=ye(y),x=Ue(y),F=Te(y,x);y=t.vault.getAvailablePath(ve(E,F),x.slice(1))}i.set(w.path,y)}}}r(hE,"fillRenameMap");function cs(t){return sn(t,"renameDeleteHandlersMap",new Map).value}r(cs,"getRenameDeleteHandlersMap");function Pn(t){let e=cs(t),n=Array.from(e.values()).reverse(),i={};i.isNote=o=>fi(t,o),i.isPathIgnored=()=>!1;for(let o of n){let a=o();i.shouldDeleteConflictingAttachments||=a.shouldDeleteConflictingAttachments??!1,a.emptyAttachmentFolderBehavior&&(i.emptyAttachmentFolderBehavior??=a.emptyAttachmentFolderBehavior),i.shouldHandleDeletions||=a.shouldHandleDeletions??!1,i.shouldHandleRenames||=a.shouldHandleRenames??!1,i.shouldRenameAttachmentFiles||=a.shouldRenameAttachmentFiles??!1,i.shouldRenameAttachmentFolder||=a.shouldRenameAttachmentFolder??!1,i.shouldUpdateFileNameAliases||=a.shouldUpdateFileNameAliases??!1;let l=i.isPathIgnored;i.isPathIgnored=f=>l(f)||(a.isPathIgnored?.(f)??!1);let c=i.isNote;i.isNote=f=>c(f)&&(a.isNote?.(f)??!0)}return i.emptyAttachmentFolderBehavior??="Keep",i}r(Pn,"getSettings");async function pE(t,e,n,i,o){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let a=ve(ye(n),`__temp__${Te(n)}`);return await op(t,n,a),await vu(t,e,a,i,o),await t.vault.rename(Le(t,a),n),!0}r(pE,"handleCaseCollision");async function mE(t,e,n){if(n.throwIfAborted(),ct("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Fi(t,e))return;let i=Pn(t);if(!i.shouldHandleDeletions)return;if(i.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let o=Au.get(e);Au.delete(e);let a=new Set;if(o){let f=Sn(o);for(let p of f){let h=Rr(t,p,e);h&&(Fi(t,h.path)||(a.add(h.parent?.path??""),await Lr(t,h,e,!1,i.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await rp(t,Array.from(a),e),n.throwIfAborted();let l=await Er(t,e),c=Ut(t,l);c&&await hl(t,e)&&(n.throwIfAborted(),await Lr(t,c,e,!1,i.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}r(mE,"handleDelete");function gE(t,e,n){let i=t.app;if(!Eu(t))return;let o=e.path;Fn(i,a=>mE(i,o,a),n)}r(gE,"handleDeleteIfEnabled");function wE(t,e,n){let i=Pn(t);if(i.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}i.shouldHandleDeletions&&fn(t,e)&&n&&Au.set(e.path,n)}r(wE,"handleMetadataDeleted");function yE(t,e,n){Eu(t)&&wE(t.app,e,n)}r(yE,"handleMetadataDeletedIfEnabled");function bE(t,e,n,i){let o=ip(e,n);if(ct("RenameDeleteHandler:handleRename")(`Handle Rename ${o}`),Si.has(o)){Si.delete(o);return}let a=Pn(t);if(!a.shouldHandleRenames)return;if(a.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(a.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),c=l?Sn(l):[],f=pu(t,e).data;Fn(t,p=>vu(t,e,n,f,c,void 0,p),i)}r(bE,"handleRename");async function vu(t,e,n,i,o,a,l){if(l??=Re(),l.throwIfAborted(),await dE(t,e,n,i,o),l.throwIfAborted(),await AE(t,e,n,i,o),l.throwIfAborted(),!await pE(t,e,n,i,o)){l.throwIfAborted();try{let c=new Map;await hE(t,e,n,c,o,l),l.throwIfAborted();let f=new Map;Qh(i,c,f,e);for(let g of c.keys()){if(g===e)continue;let w=(await mn(t,g)).data;Qh(w,c,f,g)}let p=new Set;for(let[g,w]of c.entries()){if(g===e)continue;let y=await op(t,g,w);c.set(g,y),p.add(ye(g))}await rp(t,Array.from(p),e),l.throwIfAborted();let h=Pn(t);for(let[g,w]of Array.from(f.entries()).concat(Array.from(a?.entries()??[])))await wu(t,g,y=>{let E=w.get(br(y));if(!E)return;let x=c.get(E);if(x)return Ti({app:t,link:y,newSourcePathOrFile:g,newTargetPathOrFile:x,oldTargetPathOrFile:E,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(Fi(t,n)&&(await $h({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),l.throwIfAborted()),!Pe(t,n)){let g=us.get(n);g||(g=[],us.set(n,g)),g.push({combinedBacklinksMap:f,oldPath:e})}}finally{let c=Array.from(Si);Fn(t,()=>{for(let f of c)Si.delete(f)},l)}}}r(vu,"handleRenameAsync");function kE(t,e,n,i){if(!Eu(t)||!At(e))return;let o=e.path;bE(t.app,n,o,i)}r(kE,"handleRenameIfEnabled");function Qh(t,e,n,i){for(let[o,a]of t.entries()){let l=e.get(o)??o,c=n.get(l)??new Map;n.set(l,c);for(let f of a)c.set(br(f),i)}}r(Qh,"initBacklinksMap");function Fi(t,e){return Pn(t).isNote?.(e)??!1}r(Fi,"isNoteEx");function ep(t){let e=cs(t);ct("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}r(ep,"logRegisteredHandlers");function ip(t,e){return`${t} -> ${e}`}r(ip,"makeKey");async function AE(t,e,n,i,o){let a=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=a?Sn(a):[],c=Le(t,e,!0),f=new Map;await Ei(t,[c],async()=>{f=(await mn(t,c)).data});for(let p of l)o.includes(p)||o.push(p);for(let[p,h]of f.entries()){let g=i.get(p);g||(g=[],i.set(p,g));for(let w of h)g.includes(w)||g.push(w)}}r(AE,"refreshLinks");async function op(t,e,n){if(n=uu(t,e,n),e===n)return n;let i=ip(e,n);return Si.add(i),n=await Zo(t,e,n),n}r(op,"renameHandled");async function vE(t,e,n){await e.call(t.fileManager,i);async function i(o){let a=!1,l=t.vault.on("rename",()=>{a=!0});try{await n(o)}finally{t.vault.offref(l)}let c=Pn(t);a&&c.shouldHandleRenames&&ii(o,f=>c.isPathIgnored?.(f.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${f.sourceFile.path} as the path is ignored.`),!0):c.isPathIgnored?.(f.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${f.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(bt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:f.sourceFile.extension==="canvas"||f.resolvedFile.extension==="canvas")}r(i,"wrappedHandler")}r(vE,"runAsyncLinkUpdate");function Eu(t){let e=t.app,n=t.manifest.id,i=cs(e);return Array.from(i.keys())[0]===n}r(Eu,"shouldInvokeHandler");var In=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ee(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}r(ee,"appendCodeBlock");function sp(t){return`${String(t)}px`}r(sp,"toPx");var ap=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function lp(t){let n={...{abortSignal:Re(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Ot,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},i=Je(1),o=n.items,a=0,l=null;n.shouldShowProgressBar&&(l=new ap.Notice("",0));let c=sleep(n.noticeMinTimeoutInMilliseconds),f=createEl("progress");if(f.max=o.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(f),l?.setMessage(h)}let p=performance.now();for(let h of o){if(n.abortSignal.aborted){l?.hide();return}a++;let g=`# ${String(a)} / ${String(o.length)}`,w=n.buildNoticeMessage(h,g);n.shouldShowProgressBar||l?.setMessage(w),ct("Loop")(w);try{performance.now()-p>n.uiUpdateThresholdInMilliseconds&&(await xf(),p=performance.now()),await n.processItem(h)}catch(y){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw l?.hide(),new Mt("loop failed",i,y);po(new Mt(ho,i,y))}f.value++}await c,l?.hide()}r(lp,"loop");var Cu=require("obsidian");var up=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Nr=class extends up.Modal{static{r(this,"ModalBase")}constructor(e,n,i){super(e.app),this.resolve=n,ce(this.containerEl,i),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function fs(t){return await new Promise(e=>{t(e).open()})}r(fs,"showModal");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xu=class extends Nr{static{r(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,$.ConfirmModal);let i={app:e.app,cancelButtonText:"Cancel",cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Cu.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass($.OkButton);let n=new Cu.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass($.CancelButton)}};async function ds(t){return await fs(e=>new xu(t,e))}r(ds,"confirm");var ms=require("obsidian");var Pi=De(rn(),1),xE=De(require("obsidian"),1);var cp=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function fp(t){return t.validationMessage!==void 0}r(fp,"isValidationMessageHolder");var EE=/[*\\/<>:|?"]/g,CE=/[\0/]/g;function hs(t){return t??=cp.Platform.isWin,t?EE:CE}r(hs,"getOsUnsafePathCharsRegExp");var gp=De(dp(),1);var gn=require("obsidian");var Fu=class extends gn.Modal{constructor(n){super(n.ctx.app);this.options=n;ce(this.containerEl,"preview-modal")}static{r(this,"PreviewModal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),we(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),we(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let i=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(`Preview attachment file '${i}'`);let o=`__temp${String(Date.now())}__${i}`;this.tempFile=await this.app.vault.createBinary(o,this.options.ctx.attachmentFileContent);let a=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:a},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},Pu=class extends gn.Modal{constructor(n,i){super(n.ctx.app);this.options=n;this.resolve=i;ce(this.containerEl,$.PromptModal),this.value=n.ctx.originalAttachmentFileName}static{r(this,"PromptWithPreviewModal")}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){let n=createFragment(h=>{h.appendText("Provide a value for the prompt token:"),h.createEl("br"),h.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),h.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),h.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});super.onOpen(),this.titleEl.setText(n);let i=new gn.TextComponent(this.contentEl),o=i.inputEl,a=r(async()=>{let h=await this.options.valueValidator(o.value);o.setCustomValidity(h??""),o.reportValidity()},"validate");i.setValue(this.value),i.setPlaceholder("Provide a value for the prompt token"),o.addClass($.TextBox),i.onChange(h=>{this.value=h}),o.addEventListener("keydown",h=>{h.key==="Enter"?this.handleOk(h,i):h.key==="Escape"&&this.close()}),o.addEventListener("input",Qe(a)),o.addEventListener("focus",Qe(a)),we(a);let l=new gn.ButtonComponent(this.contentEl);l.setButtonText("OK"),l.setCta(),l.onClick(h=>{this.handleOk(h,i)}),l.setClass($.OkButton);let c=new gn.ButtonComponent(this.contentEl);c.setButtonText("Cancel"),c.onClick(this.close.bind(this)),c.setClass($.CancelButton);let f=new gn.ButtonComponent(this.contentEl);f.setButtonText("Preview attachment file"),f.onClick(this.preview.bind(this));let p=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!p)&&f.setDisabled(!0)}handleOk(n,i){n.preventDefault(),i.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new Fu(this.options).open()}};function hp(t){return new Promise(e=>{new Pu(t,e).open()})}r(hp,"promptWithPreview");var TE=_f(gp.default),SE=["1","2","3","4","5","6","any"],FE=/^\.{3,}$/,PE=/\.+$/,Ii=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function Iu(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(i){return Vn(new Error("Error registering custom tokens",{cause:i})),null}function n(i,o){e.set(i,o)}r(n,"registerCustomToken")}r(Iu,"parseCustomTokens");function pp(t,e){let n=",default=now",i=",default=empty",o="empty";return e.endsWith(n)?(e=gr(e,n),o="now"):e.endsWith(i)&&(e=gr(e,i),o="empty"),t?(0,Pi.default)(t).format(e):o==="now"?(0,Pi.default)().format(e):""}r(pp,"formatAttachmentFileDate");function IE(t){return(0,Pi.default)().format(t)}r(IE,"formatDate");function mp(t,e,n,i){let o=Pe(t,e);return o?(0,Pi.default)(i(o)).format(n):""}r(mp,"formatFileDate");function _E(t,e){let{base:o,parameter:a}=ps(e);switch(o){case"":case"B":return t.toFixed(a??0);case"KB":return(t/1024).toFixed(a??0);case"MB":return(t/1048576).toFixed(a??0);default:throw new Error(`Invalid file size format: ${e}`)}}r(_E,"formatFileSize");function OE(t,e){let n=t.split("/"),i=n.length-1,o=e.indexOf(",");o===-1&&(o=e.length);let l=e.slice(0,o),c=e.slice(o+1),f=ps(l);switch(f.base){case"indexFromEnd":i=n.length-1-(f.parameter??0);break;case"indexFromStart":i=f.parameter??0;break;default:if(c)throw new Error(`Invalid format: ${l}`);return Xn(n[i]??"",l)}let p=n[i]??"";return Xn(p,c)}r(OE,"formatFolderName");function Xn(t,e){let{base:n,parameter:i}=ps(e);switch(n){case"":return t;case"left":return t.slice(0,i??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(i??1));case"slug":return BE(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}r(Xn,"formatString");function ME(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=ps(t),i;switch(e){case"D":i="0123456789";break;case"DL":i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let o="";for(let a=0;a<(n??1);a++)o+=LE(i);return o}r(ME,"generateRandomValue");function DE(t,e,n){let i=Pe(t,e);if(!i)return"";let o=t.metadataCache.getFileCache(i);if(!o?.frontmatter)return"";let a=vn(o.frontmatter,n)??"";return String(a)}r(DE,"getFrontmatterValue");async function RE(t){if(Xn("",t.format),t.originalAttachmentFileName===dn)return dn;let e=await hp({ctx:t,valueValidator:r(n=>Zn({app:t.app,areTokensAllowed:!1,path:n}),"valueValidator")});if(e===null)throw new Error("Prompt cancelled");return Xn(e,t.format)}r(RE,"prompt");var ze=class t{static{r(this,"Substitutions")}static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;app;attachmentFileContent;attachmentFileStat;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=Te(this.noteFilePath,Ue(this.noteFilePath)),this.noteFolderName=Te(ye(this.noteFilePath)),this.noteFolderPath=ye(this.noteFilePath);let n=e.originalAttachmentFileName??"",i=Ue(n);if(this.originalAttachmentFileName=Te(n,i),this.originalAttachmentFileExtension=i.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.attachmentFileStat=e.attachmentFileStat,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let o=this.app.workspace.activeEditor.editor?.getCursor();o&&(this.cursorLine=o.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",i=>IE(i.format)),this.registerToken("noteFileCreationDate",i=>mp(i.app,i.noteFilePath,i.format,o=>o.stat.ctime)),this.registerToken("noteFileModificationDate",i=>mp(i.app,i.noteFilePath,i.format,o=>o.stat.mtime)),this.registerToken("originalAttachmentFileCreationDate",i=>pp(i.attachmentFileStat?.ctime,i.format)),this.registerToken("originalAttachmentFileModificationDate",i=>pp(i.attachmentFileStat?.mtime,i.format)),this.registerToken("noteFileName",i=>Xn(i.noteFileName,i.format)),this.registerToken("noteFilePath",i=>i.noteFilePath),this.registerToken("noteFolderName",i=>OE(i.noteFolderPath,i.format)),this.registerToken("noteFolderPath",i=>i.noteFolderPath),this.registerToken("frontmatter",i=>DE(i.app,i.noteFilePath,i.format)),this.registerToken("originalAttachmentFileExtension",i=>i.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",i=>Xn(i.originalAttachmentFileName,i.format)),this.registerToken("prompt",i=>RE(i)),this.registerToken("random",i=>ME(i.format)),this.registerToken("attachmentFileSize",i=>_E(i.attachmentFileContent?.byteLength??0,i.format)),this.registerToken("generatedAttachmentFileName",i=>Xn(i.generatedAttachmentFileName,i.format)),this.registerToken("generatedAttachmentFilePath",i=>i.generatedAttachmentFilePath),this.registerToken("heading",async(i,o)=>o.getHeading(i.format));let n=Iu(e)??new Map;for(let[i,o]of n.entries())this.registerToken(i,o)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await Pf(e,Ii,async(n,i,o,a)=>{n.throwIfAborted();let l=t.evaluators.get(o.toLowerCase());if(!l)throw new Error(`Unknown token '${o}'.`);let c={abortSignal:n,app:this.app,attachmentFileContent:this.attachmentFileContent,attachmentFileStat:this.attachmentFileStat,fillTemplate:this.fillTemplate.bind(this),format:a,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:xE,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:o,tokenEndOffset:i.offset+i.substring.length,tokenStartOffset:i.offset,tokenWithFormat:i.substring};try{let f=await l(c,this);if(n.throwIfAborted(),typeof f!="string")throw console.error("Token returned non-string value.",{ctx:c,result:f}),new Error("Token returned non-string value");return f}catch(f){throw new Error(`Error formatting token \${${o}}`,{cause:f})}})}async getHeading(e){if(e||="any",!SE.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Dr(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let i of e.headings){if(i.position.start.line>this.cursorLine)continue;let o=String(i.level),a=n.get(o)??-1;i.position.start.line>a&&(this.headingsInfo.set(o,i.heading),n.set(o,i.position.start.line),i.position.start.line>(n.get("any")??-1)&&(n.set("any",i.position.start.line),this.headingsInfo.set("any",i.heading)))}return this.headingsInfo}};function _u(t){return wp(t).some(e=>e.token==="prompt")}r(_u,"hasPromptToken");async function _i(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(Ii))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await yp(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=NE(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?hs().test(e)?`File name "${t.fileName}" contains invalid symbols`:FE.test(e)?`File name "${t.fileName}" contains more than two dots`:PE.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}r(_i,"validateFileName");async function Zn(t){if(t.areTokensAllowed){let i=await yp(t.app,t.path);if(i)return`Unknown token: ${i}`}else if(t.path.match(Ii))return"Tokens are not allowed in path";let e=wr(t.path,"/");if(e=gr(e,"/"),e==="")return"";let n=e.split("/");for(let i of n){let o=await _i({app:t.app,areSingleDotsAllowed:!0,fileName:i,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(o)return o}return""}r(Zn,"validatePath");function wp(t){let e=t.matchAll(Ii);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}r(wp,"extractTokens");function LE(t){return t[Math.floor(Math.random()*t.length)]??""}r(LE,"generateRandomSymbol");function ps(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",i=e.groups?.Parameter,o=i?parseInt(i,10):void 0;return{base:n,parameter:o}}r(ps,"parseFormatWithParameter");function NE(t){return Ae(t,Ii,(e,n,i)=>`_${n}_${i}_`)}r(NE,"removeTokens");function BE(t){return TE(t,{lower:!0})}r(BE,"slugifyEx");async function yp(t,e){let n=new ze({app:t,noteFilePath:dn,originalAttachmentFileName:dn}),i=wp(e);for(let o of i){if(!ze.isRegisteredToken(o.token))return`Unknown token '${o.token}'.`;let a=o.format.split(",");for(let l of a)try{await n.fillTemplate(`\${${o.token}:${l}}`)}catch{return`Token '${o.token}' is used with unknown format '${l}'.`}}return null}r(yp,"validateTokens");async function Oi(t,e,n,i,o){return await YE(t,new ze({app:t.app,attachmentFileContent:i,attachmentFileStat:o,noteFilePath:e,originalAttachmentFileName:n}))}r(Oi,"getAttachmentFolderFullPathForPath");async function Br(t,e){let n=await bp(t,t.settings.generatedAttachmentFileName,e,!0),i=await Zn({app:t.app,areTokensAllowed:!1,path:n});if(!i){let a=n.split("/").at(-1)??"";i=await _i({app:t.app,areSingleDotsAllowed:!1,fileName:a,isEmptyAllowed:!1,tokenValidationMode:"Error"})}if(i){let o=`Generated attachment file name "${n}" is invalid.
${i}
Check your 'Generated attachment file name' setting.`;throw new ms.Notice(o),console.error(o,e),new Error(o)}return n}r(Br,"getGeneratedAttachmentFileBaseName");function VE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}r(VE,"replaceSpecialCharacters");async function YE(t,e){return await bp(t,t.settings.attachmentFolderPath,e,!1)}r(YE,"getAttachmentFolderPath");async function bp(t,e,n,i){let o=await n.fillTemplate(e),a=await Zn({app:t.app,areTokensAllowed:!1,path:o});if(a)throw new Error(`Resolved path ${o} is invalid: ${a}`);return o=VE(t,o),i||((o.startsWith("./")||o.startsWith("../"))&&(o=ve(n.noteFolderPath,o)),o=(0,ms.normalizePath)(o)),o}r(bp,"resolvePathTemplate");var Vr=require("obsidian");var ys=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,kp=/(?:)/,gs=/$./,$r=(i=>(i.None="None",i.OnlyPastedImages="Only pasted images",i.All="All",i))($r||{}),Jn=(a=>(a.Cancel="Cancel",a.Copy="Copy",a.Move="Move",a.Prompt="Prompt",a.Skip="Skip",a))(Jn||{}),ws=class{static{r(this,"PluginSettings")}attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=at.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";timeoutInSeconds=5;treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Ou(this._excludePaths,gs)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=Ou(this._excludePathsFromAttachmentCollecting,gs)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Ou(this._includePaths,kp)}get specialCharactersRegExp(){return new RegExp(`[${Ao(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=gs;_excludePathsRegExp=gs;_includePaths=[];_includePathsRegExp=kp;getTimeoutInMilliseconds(){return this.timeoutInSeconds===0?ri:this.timeoutInSeconds*1e3}isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function Ou(t,e){if(t.length===0)return e;let n=t.map(i=>i.startsWith("/")&&i.endsWith("/")?i.slice(1,-1):`^${Ao(i)}`).map(i=>`(${i})`).join("|");return new RegExp(n)}r(Ou,"makeRegExp");var Mu=class extends Vr.Modal{constructor(n,i,o,a){super(n);this.attachmentPath=i;this.backlinks=o;this.resolve=a}static{r(this,"CollectAttachmentUsedByMultipleNotesModal")}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Vr.Setting(this.contentEl).setName("Collecting attachment used by multiple notes").setHeading(),this.contentEl.appendChild(createFragment(i=>{i.appendText("Attachment "),ee(i,this.attachmentPath),i.appendText(" is referenced by multiple notes."),i.createEl("ul",{},o=>{for(let a of this.backlinks)o.createEl("li",{},l=>[l.appendChild(createFragment(c=>{ee(c,a)}))])})}));let n=!1;new Vr.Setting(this.contentEl).setName("Should use the same action for other problematic attachments").addToggle(i=>{i.setValue(!1),i.onChange(o=>{n=o})}),new Vr.Setting(this.contentEl).addButton(i=>{i.setButtonText("Skip"),i.onClick(()=>{this.select("Skip",n)})}).addButton(i=>{i.setButtonText("Move"),i.onClick(()=>{this.select("Move",n)})}).addButton(i=>{i.setButtonText("Copy"),i.onClick(()=>{this.select("Copy",n)})}).addButton(i=>{i.setButtonText("Cancel"),i.onClick(()=>{this.select("Cancel",n)})})}select(n,i){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:i}),this.close()}};function Ap(t,e,n){return new Promise(i=>{new Mu(t,e,n,i).open()})}r(Ap,"selectMode");async function vp(t,e,n,i){i.throwIfAborted();let o=t.app;if(n.isAborted)return;let a=new In.Notice(`Collecting attachments for ${e.path}`),l=new Map,c=cn(o,e);await ts(o,e,async(f,p)=>{f.throwIfAborted();let h=await Dr(o,e);f.throwIfAborted();let g=await o.vault.cachedRead(e);if(f.throwIfAborted(),n.isAborted)return[];if(p!==g)return null;if(!h)return[];let w=c?await UE(o,e):Sn(h);f.throwIfAborted();let y=[];for(let E of w){if(n.isAborted)return y;let x=await WE(t,E,e.path,e.path);if(f.throwIfAborted(),!x)continue;if(t.settings.isExcludedFromAttachmentCollecting(x.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${x.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let F=await mn(o,x.oldAttachmentPath,{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()});if(f.throwIfAborted(),F.keys().length>1){let I=F.keys().sort((z,S)=>z.localeCompare(S)),_=I.map(z=>`- ${z}`).join(`
`);async function U(z){if(f.throwIfAborted(),!x)return!1;switch(z){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${x.oldAttachmentPath} is referenced by multiple notes.
${_}`),new In.Notice("Collecting attachments cancelled. See console for details."),n.isAborted=!0,!1;case"Copy":x.newAttachmentPath=await Fh(o,x.oldAttachmentPath,x.newAttachmentPath);break;case"Move":await C(),f.throwIfAborted();break;case"Prompt":{let{mode:S,shouldUseSameActionForOtherProblematicAttachments:te}=await Ap(o,x.oldAttachmentPath,I);return te&&(n.collectAttachmentUsedByMultipleNotesMode=S),U(S)}case"Skip":return console.warn(`Skipping collecting attachment ${x.oldAttachmentPath} as it is referenced by multiple notes.
${_}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(r(U,"applyCollectAttachmentUsedByMultipleNotesMode"),!await U(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){f.throwIfAborted();continue}}else f.throwIfAborted(),await C(),f.throwIfAborted();async function C(){f.throwIfAborted(),x&&(x.newAttachmentPath=await Zo(o,x.oldAttachmentPath,x.newAttachmentPath),f.throwIfAborted(),await ls(o,ye(x.oldAttachmentPath)))}if(r(C,"moveAttachment"),l.set(x.oldAttachmentPath,x.newAttachmentPath),!c){let I=Ti({app:o,link:E,newSourcePathOrFile:e,newTargetPathOrFile:x.newAttachmentPath,oldTargetPathOrFile:x.oldAttachmentPath});y.push(Mr(E,I))}}return y},{timeoutInMilliseconds:ks(t)}),c&&await Xo(o,e,(f,p)=>{f.throwIfAborted();let h=JSON.parse(p);for(let g of h.nodes){if(g.type!=="file")continue;let w=l.get(g.file);w&&(g.file=w)}return br(h)},{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()}),a.hide()}r(vp,"collectAttachments");function Ep(t,e){let n=t.app.workspace.getActiveFile();return Qn(t,n)?(e||Fn(t.app,i=>bs(t,n?.parent??on(new Error("Parent folder not found")),i),t.abortSignal,ks(t)),!0):!1}r(Ep,"collectAttachmentsCurrentFolder");function Cp(t,e){let n=t.app.workspace.getActiveFile();if(!n||!Qn(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new In.Notice("Note path is ignored"),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;Fn(t.app,i=>vp(t,n,{},i),t.abortSignal,ks(t))}return!0}r(Cp,"collectAttachmentsCurrentNote");function xp(t){Fn(t.app,e=>bs(t,t.app.vault.getRoot(),e),t.abortSignal,ks(t))}r(xp,"collectAttachmentsEntireVault");async function bs(t,e,n){if(n.throwIfAborted(),!await ds({app:t.app,message:createFragment(c=>{c.appendText("Do you want to collect attachments for all notes in folder: "),ee(c,e.path),c.appendText(" and all its subfolders?"),c.createEl("br"),c.appendText("This operation cannot be undone.")}),title:createFragment(c=>{(0,In.setIcon)(c.createSpan(),"lucide-alert-triangle"),c.appendText(" Collect attachments in folder")})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let i=[];In.Vault.recurseChildren(e,c=>{Qn(t,c)&&i.push(c)}),i.sort((c,f)=>c.path.localeCompare(f.path));let o={},a=new AbortController,l=Bn(a.signal,t.abortSignal);await lp({abortSignal:l,buildNoticeMessage:r((c,f)=>`Collecting attachments ${f} - ${c.path}`,"buildNoticeMessage"),items:i,processItem:r(async c=>{if(l.throwIfAborted(),t.settings.isPathIgnored(c.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${c.path}.`);return}await vp(t,c,o,l),l.throwIfAborted(),o.isAborted&&a.abort()},"processItem"),progressBarTitle:"Custom Attachment Location: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0})}r(bs,"collectAttachmentsInFolder");function Qn(t,e){if(!e||!fi(t.app,e))return!1;let n=Ce(t.app,e);return t.settings.treatAsAttachmentExtensions.every(i=>!n.endsWith(i))}r(Qn,"isNoteEx");async function UE(t,e){return(await t.vault.readJson(e.path)).nodes.filter(o=>o.type==="file").map(o=>o.file).map(o=>({link:o,original:o,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}r(UE,"getCanvasLinks");function ks(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||_u(t.settings.attachmentFolderPath)||_u(t.settings.generatedAttachmentFileName)?ri:t.settings.getTimeoutInMilliseconds()}r(ks,"getTimeoutInMilliseconds");async function WE(t,e,n,i){let o=t.app,a=Rr(o,e,i);if(!a)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(Qn(t,a))return console.warn(`Skipping collecting attachment ${a.path} as it is a note.`),null;let l=a.path,c=a.name,f,p=await t.app.vault.readBinary(a);t.settings.shouldRenameCollectedAttachments?f=Dt(await Br(t,new ze({app:t.app,attachmentFileContent:p,attachmentFileStat:a.stat,noteFilePath:n,originalAttachmentFileName:a.name})),a.extension):f=c;let h=await Oi(t,n,f,p,a.stat),g=ve(h,f);return l===g?(console.warn(`Skipping collecting attachment ${a.path} as it is already in the destination folder.`),null):{newAttachmentPath:g,oldAttachmentPath:l}}r(WE,"prepareAttachmentToMove");var bg=require("obsidian");var Tp=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Du=class extends Nr{static{r(this,"AlertModal")}options;constructor(e,n){super(e,n,$.AlertModal);let i={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Tp.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass($.OkButton)}};async function As(t){await fs(e=>new Du(t,e))}r(As,"alert");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _n=class{static{r(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let i=this.getTransformerId(e,n);if(i){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:i,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let a={};for(let l of yr(e)){let c=e[l],f=this.transformValueRecursively(c,l);a[l]=f}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Et=class extends _n{static{r(this,"TypedTransformer")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vs=class extends Et{static{r(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Sp=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Es=class extends Et{static{r(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Sp.duration)(e)}transformValue(e){return e.toISOString()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cs=class extends _n{static{r(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??on(`No transformer with id ${e} found`)}transformValue(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);if(i===null)throw new Error("No transformer can transform the value");return i.transformValue(e,n)}getTransformerId(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);return i===null?null:i.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(i=>i.canTransform(e,n))??null}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xs=class extends Et{static{r(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ts=class extends Et{static{r(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zE="_",Ss=class extends _n{static{r(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(zE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mi=class{static{r(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,i]of e)this.set(n,i)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fs=class extends Et{static{r(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Mi}restoreValue(e){return new Mi(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var HE=new Cs([new Ss,new vs,new Es,new xs,new Ts,new Fs]),Ps=class extends $t{static{r(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=yr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let i of this.propertyNames)n[i]&&(e[i]=this.defaultSettings[i])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let i=n,o=await this.rawRecordToSettings(i),a=await this.validate(o);for(let c of this.propertyNames)this.setPropertyImpl(c,o[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);yt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,i){return super.on(e,n,i)}async revalidate(){return await this.edit(Ot),this.currentSettingsWrapper.validationMessages}async saveToFile(e){yt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(i=>{i[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[i,o]of this.validators.entries()){let a=await o(e[i],e);a&&(n[i]=a)}return n}getTransformer(){return HE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Bt()}registerLegacySettingsConverter(e,n){let i=this;this.legacySettingsConverters.push(o);function o(a){let l=new Set(Object.keys(new e)),c=new Set(i.propertyNames),f=a;n(f);for(let p of Object.keys(f))c.has(p)||l.has(p)&&delete a[p]}r(o,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),i=JSON.stringify(n),o=JSON.parse(i);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let i of this.propertyNames){let o=n[i]??"";this.currentSettingsWrapper.validationMessages[i]=o,this.currentSettingsWrapper.safeSettings[i]=o?this.defaultSettings[i]:this.currentSettingsWrapper.settings[i]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[i,o]of Object.entries(e)){if(!this.isValidPropertyName(i)){console.warn(`Unknown property: ${i}`);continue}typeof o!=typeof this.defaultSettings[i]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[i],propertyName:i,value:o}),n[i]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,i){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=i??"",this.currentSettingsWrapper.safeSettings[e]=i?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let i of this.propertyNames)n[i]=e[i];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Qu=De(gg(),1);var Y2=2e3,ec=class{static{r(this,"LegacySettings")}autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachments=!0;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},Us=class extends Ps{static{r(this,"PluginSettingsManager")}shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,bg.debounce)(this.customTokensValidatorImpl.bind(this),Y2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new ws}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(ec,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=wg(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=wg(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.shouldRenameAttachments!==void 0&&(e.shouldRenameAttachmentFolder=e.shouldRenameAttachments),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&we(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await As({app:this.app,message:createFragment(i=>{i.appendText('In plugin version 9.0.0, the "Rename attachments to lower case" setting is deprecated. Use '),ee(i,"lower"),i.appendText(" format instead. See "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"documentation."}),i.appendText(" for more information.")})})}),e.customTokensStr&&e.warningVersion&&(0,Qu.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.

${U2(e.customTokensStr)}
`,we(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await As({app:this.app,message:createFragment(i=>{i.appendText("In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),i.appendText(" for more information.")})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?at.Keep:at.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion&&(0,Qu.compare)(e.warningVersion,"9.2.0")<0&&(e.markdownUrlFormat==="${generatedAttachmentFilePath}"||e.markdownUrlFormat==="${noteFilePath}")&&we(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await As({app:this.app,message:createFragment(i=>{i.appendText("You have potentially incorrect value set for the "),ee(i,"Markdown URL format"),i.appendText(" setting. Please refer to the "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#markdown-url-format",text:"documentation"}),i.appendText(" for more information. This message will not be shown again.")})})}),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await Zn({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",async e=>await Zn({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return"Special characters must not contain /"}),this.registerValidator("specialCharactersReplacement",e=>{if(hs().exec(e))return"Special character replacement must not contain invalid file name path characters."}),this.registerValidator("duplicateNameSeparator",async e=>await _i({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>yg(e)),this.registerValidator("excludePaths",e=>yg(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=Iu(e);this.lastCustomTokenValidatorResult=n===null?"Invalid custom tokens code":void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[i,o]of Object.entries(n))e=Ae(e,new RegExp(`\\\${${i}(?<Suffix>[:}])`,"i"),`\${${o}$<Suffix>`),e=Ae(e,`substitutions.${i}`,`substitutions.${o}`);return e}};function wg(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}r(wg,"addDateTimeFormat");function U2(t){return t.replaceAll(/^/gm,"// ")}r(U2,"commentOut");function yg(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!Sf(n))return`Invalid regular expression ${e}`}}r(yg,"pathsValidator");var va=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ws(t,e){let n=Object.keys(t).find(i=>t[i]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}r(Ws,"getEnumKey");function zs(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}r(zs,"getEnumValue");var tr=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Hs(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains($.SettingComponentWrapper))return e;let n=Array.from(e.children),i=createDiv();ce(i,$.SettingComponentWrapper);for(let o of n)i.appendChild(o);return e.appendChild(i),i}r(Hs,"ensureWrapped");var kg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var tc=class{static{r(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Ag(t){return W2(t)?t:t instanceof kg.AbstractTextComponent?new tc(t):null}r(Ag,"getTextBasedComponentValue");function W2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}r(W2,"isTextBasedComponent");var Ge=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gs=class{static{r(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=Hs(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ce(this._validatorEl,$.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let i=this.el.querySelector("[tabindex]");i||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),i=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{i.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},On=class{static{r(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function vg(t){return z2(t)?t:t instanceof Ge.ColorComponent?new On(t.colorPickerEl):t instanceof Ge.DropdownComponent?new On(t.selectEl):t instanceof Ge.ProgressBarComponent?new Gs(t.progressBar):t instanceof Ge.SearchComponent?new On(t.inputEl):t instanceof Ge.SliderComponent?new On(t.sliderEl):t instanceof Ge.TextAreaComponent?new On(t.inputEl):t instanceof Ge.TextComponent?new On(t.inputEl):t instanceof Ge.ToggleComponent?new Gs(t.toggleEl):null}r(vg,"getValidatorComponent");function z2(t){return!!t.validatorEl}r(z2,"isValidatorComponent");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var nc="PluginSettingsTab",qs=class extends tr.PluginSettingTab{static{r(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,ce(this.containerEl,$.PluginSettingsTab),this.saveSettingsDebounced=(0,tr.debounce)(Qe(()=>this.plugin.settingsManager.saveToFile(nc)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new rs,this.asyncEvents=new $t}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,i){let a={...{componentToPluginSettingsValueConverter:r(I=>I,"componentToPluginSettingsValueConverter"),onChanged:Ot,pluginSettingsToComponentValueConverter:r(I=>I,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...i},l=vg(e)?.validatorEl,c=Ag(e),f=this.pluginSettings[n],p=this.plugin.settingsManager.defaultSettings[n];c?.setPlaceholderValue(a.pluginSettingsToComponentValueConverter(p));let h,g=null,w=null;if(l){let I=Hs(l);g=I.createDiv(),ce(g,$.Tooltip,$.TooltipValidator),w=g.createSpan();let _=g.createDiv();ce(_,$.TooltipArrow),g.hide(),I.appendChild(g)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(I,_)=>{n===I&&(h=_,F())}));let y=!1;c&&a.shouldShowPlaceholderForDefaultValues&&yt(f,p)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(f));let E=!1,F=(0,tr.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async I=>{if(E){E=!1;return}y=!1;let _=this.pluginSettings[n],U,z=!0;if(c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty)U=p;else{let S=a.componentToPluginSettingsValueConverter(I);fp(S)?(h=S.validationMessage,z=!1):U=S}z&&(h=await this.plugin.settingsManager.setProperty(n,U),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&yt(U,p)&&(y=!0)),F(),U!==void 0&&await a.onChanged(U,_),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{F()}),l?.addEventListener("blur",()=>{F()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{F()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",F(),e;function C(){y&&!l?.isActiveElement()&&(y=!1,c?.isEmpty()||(E=!0,c?.empty())),l&&(h===""&&(l.setCustomValidity(""),l.checkValidity(),h=l.validationMessage),l.setCustomValidity(h),a.shouldShowValidationMessage?(w&&(w.textContent=h),g?.toggle(!!h)):h&&(0,tr.setTooltip)(l,h))}r(C,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),we(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(nc)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Bt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,i){return this.asyncEvents.on(e,n,i)}async onSaveSettings(e,n,i){if(i===nc){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,i]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,i)}};var Ig=require("obsidian");var Eg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var js=class extends Eg.ValueComponent{static{r(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ce(e,$.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Wr=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ks=class extends Wr.ValueComponent{static{r(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),ce(e,$.CodeHighlighterComponent);let n=e.createDiv();ce(n,$.SettingComponentWrapper),this.textAreaComponent=new Wr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",Qe(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let i=2;this.tabSize=i}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let i of[this.preEl,this.codeEl]){for(let o of Array.from(i.classList))o.startsWith(n)&&i.classList.remove(o);i.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,we(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),we(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),i=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,a=n.slice(0,i),l=n.slice(o),c=" ".repeat(this.tabSize),f=a;e.shiftKey?a.endsWith(c)&&(f=a.slice(0,-this.tabSize)):f=a+c;let p=`${f}${l}`;this.setValue(p),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Wr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass($.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":sp(n)}),this.handleScroll()})}};var rc=De(rn(),1);var Xs=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Me=class extends Xs.ValueComponent{static{r(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,i){super(),this.textComponent=new Xs.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,ce(e,i)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ut=class extends Me{static{r(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cg="YYYY-MM-DD",Zs=class extends ut{static{r(this,"DateComponent")}constructor(e){super(e,"date",$.DateComponent)}valueFromString(e){return(0,rc.default)(e,Cg).toDate()}valueToString(e){return(0,rc.default)(e).format(Cg)}};var ic=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xg="YYYY-MM-DDTHH:mm",Js=class extends ut{static{r(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",$.DateTimeComponent)}valueFromString(e){return(0,ic.default)(e,xg).toDate()}valueToString(e){return(0,ic.default)(e).format(xg)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qs=class extends Me{static{r(this,"EmailComponent")}constructor(e){super(e,"email",$.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ea=class extends Me{static{r(this,"FileComponent")}constructor(e){super(e,"file",$.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var oc=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Tg="YYYY-MM",ta=class extends ut{static{r(this,"MonthComponent")}constructor(e){super(e,"month",$.MonthComponent)}valueFromString(e){let n=(0,oc.default)(e,Tg);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,oc.default)().year(e.year).month(e.month-1).format(Tg)}};var na=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zr=class extends na.ValueComponent{static{r(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new na.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,ce(e,$.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ra=class extends Me{static{r(this,"MultipleEmailComponent")}constructor(e){super(e,"email",$.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ia=class extends Me{static{r(this,"MultipleFileComponent")}constructor(e){super(e,"file",$.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var sa=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oa=class extends sa.ValueComponent{static{r(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new sa.TextAreaComponent(e),ce(e,$.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var aa=class extends ut{static{r(this,"NumberComponent")}constructor(e){super(e,"number",$.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var la=class extends Me{static{r(this,"PasswordComponent")}constructor(e){super(e,"password",$.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ua=class extends Me{static{r(this,"TelephoneComponent")}constructor(e){super(e,"tel",$.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var fa=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ca=class extends ut{static{r(this,"TimeComponent")}constructor(e){super(e,"time",$.TimeComponent)}valueFromString(e){return(0,fa.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,fa.utc)(e.asMilliseconds()).format(n)}};var Sg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var da=class extends Sg.ValueComponent{static{r(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ce(e,$.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var pa=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ha=class extends pa.ValueComponent{static{r(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new pa.DropdownComponent(e),ce(e,$.TypedDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.dropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Fg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ma=class extends Fg.ValueComponent{static{r(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new zr(e),ce(e,$.TypedMultipleDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.multipleDropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(i=>this.values.indexOf(i)).filter(i=>i!==-1);return this.multipleDropdownComponent.setValue(n.map(i=>String(i))),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ga=class extends Me{static{r(this,"UrlComponent")}constructor(e){super(e,"url",$.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var sc=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pg="YYYY-[W]WW",wa=class extends ut{static{r(this,"WeekComponent")}constructor(e){super(e,"week",$.WeekComponent)}valueFromString(e){let n=(0,sc.default)(e,Pg);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,sc.default)().year(e.year).isoWeek(e.weekNumber).format(Pg)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var me=class extends Ig.Setting{static{r(this,"SettingEx")}addCheckbox(e){return this.addComponent(js,e)}addCodeHighlighter(e){return this.addComponent(Ks,e)}addComponent(e,n){let i=new e(this.controlEl);return this.components.push(i),n(i),this}addDate(e){return this.addComponent(Zs,e)}addDateTime(e){return this.addComponent(Js,e)}addEmail(e){return this.addComponent(Qs,e)}addFile(e){return this.addComponent(ea,e)}addMonth(e){return this.addComponent(ta,e)}addMultipleDropdown(e){return this.addComponent(zr,e)}addMultipleEmail(e){return this.addComponent(ra,e)}addMultipleFile(e){return this.addComponent(ia,e)}addMultipleText(e){return this.addComponent(oa,e)}addNumber(e){return this.addComponent(aa,e)}addPassword(e){return this.addComponent(la,e)}addTelephone(e){return this.addComponent(ua,e)}addTime(e){return this.addComponent(ca,e)}addTriStateCheckbox(e){return this.addComponent(da,e)}addTypedDropdown(e){return this.addComponent(ha,e)}addTypedMultipleDropdown(e){return this.addComponent(ma,e)}addUrl(e){return this.addComponent(ga,e)}addWeek(e){return this.addComponent(wa,e)}};var ba=require("obsidian");var Hr="custom-attachment-location-tokenized-string",ya=class extends ba.Component{static{r(this,"PrismComponent")}onload(){super.onload(),we(this.initPrism.bind(this))}async initPrism(){let e=await(0,ba.loadPrism)();e.languages[Hr]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\${/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}/}},pattern:/\${.+?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Hr]})}};var ka="\u2423",Aa=class extends qs{static{r(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(o){return(0,va.normalizePath)(o.trimEnd())},pluginSettingsToComponentValueConverter(o){return o.trimEnd()}};new me(this.containerEl).setName("Location for new attachments").setDesc(createFragment(o=>{o.appendText("Start with "),ee(o,"."),o.appendText(" to use relative path."),o.createEl("br"),o.appendText("See available "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),o.createEl("br"),o.appendText("Dot-folders like "),ee(o,".attachments"),o.appendText(" are not recommended, because Obsidian doesn't track them. You might need to use "),o.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),o.appendText(" Plugin to manage them.")})).addCodeHighlighter(o=>{o.setLanguage(Hr),o.inputEl.addClass("tokenized-string-setting-control"),this.bind(o,"attachmentFolderPath",e)}),new me(this.containerEl).setName("Generated attachment file name").setDesc(createFragment(o=>{o.appendText("See available "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"})})).addCodeHighlighter(o=>{o.setLanguage(Hr),o.inputEl.addClass("tokenized-string-setting-control"),this.bind(o,"generatedAttachmentFileName",e)}),new me(this.containerEl).setName("Markdown URL format").setDesc(createFragment(o=>{o.appendText("Format for the URL that will be inserted into Markdown."),o.createEl("br"),o.appendText("See available "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),o.createEl("br"),o.appendText("Leave blank to use the default format.")})).addCodeHighlighter(o=>{o.setLanguage(Hr),o.inputEl.addClass("tokenized-string-setting-control"),this.bind(o,"markdownUrlFormat",e)}),new me(this.containerEl).setName("Attachment rename mode").setDesc(createFragment(o=>{o.appendText("When attaching files:"),o.createEl("br"),ee(o,"None"),o.appendText(" - their names are preserved."),o.createEl("br"),ee(o,"Only pasted images"),o.appendText(" - only pasted images are renamed."),o.createEl("br"),ee(o,"All"),o.appendText(" - all files are renamed.")})).addDropdown(o=>{o.addOptions($r),this.bind(o,"attachmentRenameMode",{componentToPluginSettingsValueConverter:r(a=>zs($r,a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>Ws($r,a),"pluginSettingsToComponentValueConverter")})}),new me(this.containerEl).setName("Should rename attachment folders").setDesc("Whether to rename attachment folders when a note is renamed or moved.").addToggle(o=>{this.bind(o,"shouldRenameAttachmentFolder")}),new me(this.containerEl).setName("Should rename attachment files").setDesc("Whether to rename attachment files when a note is renamed or moved.").addToggle(o=>{this.bind(o,"shouldRenameAttachmentFiles")}),new me(this.containerEl).setName("Special characters").setDesc(createFragment(o=>{o.appendText("Special characters in attachment folder and file name to be replaced or removed."),o.createEl("br"),o.appendText("Leave blank to preserve special characters.")})).addText(o=>{this.bind(o,"specialCharacters",{componentToPluginSettingsValueConverter:r(a=>a.replaceAll(ka,""),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>a.replaceAll(" ",ka),"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!1}),o.inputEl.addEventListener("input",()=>{o.inputEl.value=ac(o.inputEl.value)})}),new me(this.containerEl).setName("Special characters replacement").setDesc(createFragment(o=>{o.appendText("Replacement string for special characters in attachment folder and file name."),o.createEl("br"),o.appendText("Leave blank to remove special characters.")})).addText(o=>{this.bind(o,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new me(this.containerEl).setName("Should convert pasted images to JPEG").setDesc("Paste images from clipboard converting them to JPEG.").addToggle(o=>{this.bind(o,"shouldConvertPastedImagesToJpeg")}),new me(this.containerEl).setName("JPEG Quality").setDesc("The smaller the quality, the greater the compression ratio.").addDropdown(o=>{o.addOptions(H2()),this.bind(o,"jpegQuality",{componentToPluginSettingsValueConverter:r(a=>Number(a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>a.toString(),"pluginSettingsToComponentValueConverter")})}),new me(this.containerEl).setName("Should rename collected attachments").setDesc(createFragment(o=>{o.appendText("If enabled, attachments processed via "),ee(o,"Collect attachments"),o.appendText(" commands will be renamed according to the "),ee(o,"Pasted File Name"),o.appendText(" setting.")})).addToggle(o=>{this.bind(o,"shouldRenameCollectedAttachments")}),new me(this.containerEl).setName("Collect attachment used by multiple notes mode").setDesc(createFragment(o=>{o.appendText("When the collected attachment is used by multiple notes:"),o.createEl("br"),ee(o,"Skip"),o.appendText(" - skip the attachment and proceed to the next one."),o.createEl("br"),ee(o,"Move"),o.appendText(" - move the attachment to the new location."),o.createEl("br"),ee(o,"Copy"),o.appendText(" - copy the attachment to the new location."),o.createEl("br"),ee(o,"Cancel"),o.appendText(" - cancel the attachment collecting."),o.createEl("br"),ee(o,"Prompt"),o.appendText(" - prompt the user to select the action.")})).addDropdown(o=>{o.addOptions({Skip:"Skip",Move:"Move",Copy:"Copy",Cancel:"Cancel",Prompt:"Prompt"}),this.bind(o,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:r(a=>zs(Jn,a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>Ws(Jn,a),"pluginSettingsToComponentValueConverter")})}),new me(this.containerEl).setName("Duplicate name separator").setDesc(createFragment(o=>{o.appendText("When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name."),o.createEl("br"),o.appendText("E.g., when you are dragging file "),ee(o,"existingFile.pdf"),o.appendText(", it will be renamed to "),ee(o,"existingFile 1.pdf"),o.appendText(", "),ee(o,"existingFile 2.pdf"),o.appendText(", etc, getting the first name available.")})).addText(o=>{this.bind(o,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:r(a=>a.replaceAll(ka," "),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:ac}),o.inputEl.addEventListener("input",()=>{o.inputEl.value=ac(o.inputEl.value)})}),new me(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(o=>{o.appendText("When the attachment folder becomes empty:"),o.createEl("br"),ee(o,"Keep"),o.appendText(" - will keep the empty attachment folder."),o.createEl("br"),ee(o,"Delete"),o.appendText(" - will delete the empty attachment folder."),o.createEl("br"),ee(o,"Delete with empty parents"),o.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(o=>{o.addOptions({[at.Keep]:"Keep",[at.Delete]:"Delete",[at.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(o,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:r(a=>zs(at,a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>Ws(at,a),"pluginSettingsToComponentValueConverter")})}),new me(this.containerEl).setName("Should delete orphan attachments").setDesc("If enabled, when the note is deleted, its orphan attachments are deleted as well.").addToggle(o=>{this.bind(o,"shouldDeleteOrphanAttachments")}),new me(this.containerEl).setName("Include paths").setDesc(createFragment(o=>{o.appendText("Include notes from the following paths."),o.createEl("br"),o.appendText("Insert each path on a new line."),o.createEl("br"),o.appendText("You can use path string or "),ee(o,"/regular expression/."),o.createEl("br"),o.appendText("If the setting is empty, all notes are included.")})).addMultipleText(o=>{this.bind(o,"includePaths")}),new me(this.containerEl).setName("Exclude paths").setDesc(createFragment(o=>{o.appendText("Exclude notes from the following paths."),o.createEl("br"),o.appendText("Insert each path on a new line."),o.createEl("br"),o.appendText("You can use path string or "),ee(o,"/regular expression/."),o.createEl("br"),o.appendText("If the setting is empty, no notes are excluded.")})).addMultipleText(o=>{this.bind(o,"excludePaths")}),new me(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(o=>{o.appendText("Exclude attachments from the following paths when "),ee(o,"Collect attachments"),o.appendText(" command is executed."),o.createEl("br"),o.appendText("Insert each path on a new line."),o.createEl("br"),o.appendText("You can use path string or "),ee(o,"/regular expression/."),o.createEl("br"),o.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(o=>{this.bind(o,"excludePathsFromAttachmentCollecting")});let i=(0,va.debounce)(o=>{we(async()=>{ze.registerCustomTokens(o),await this.revalidate()})},2e3);new me(this.containerEl).setName("Custom tokens").setDesc(createFragment(o=>{o.appendText("Custom tokens to be used in the attachment folder path and pasted file name."),o.createEl("br"),o.appendText("See "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),o.appendText(" for more information."),o.createEl("br"),o.appendText("\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk.")})).addCodeHighlighter(o=>{o.setLanguage("javascript"),o.inputEl.addClass("custom-tokens-setting-control"),this.bind(o,"customTokensStr",{onChanged:r(a=>{i(a)},"onChanged")}),o.setPlaceholder(ys)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new me(this.containerEl).addButton(o=>{o.setButtonText("Reset to sample custom tokens"),o.setWarning(),o.onClick(Qe(async()=>{this.plugin.settings.customTokensStr!==ys&&(this.plugin.settings.customTokensStr!==""&&!await ds({app:this.plugin.app,message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"})||(await this.plugin.settingsManager.editAndSave(a=>{a.customTokensStr=ys}),this.display()))}))}),new me(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(o=>{o.appendText("Treat files with these extensions as attachments."),o.createEl("br"),o.appendText("By default, "),ee(o,".md"),o.appendText(", "),ee(o,".canvas"),o.appendText(" and "),ee(o,".base"),o.appendText(" linked files are not treated as attachments and are not moved with the note."),o.createEl("br"),o.appendText("You can add custom extensions, e.g. "),ee(o,".foo.md"),o.appendText(", "),ee(o,".bar.canvas"),o.appendText(", "),ee(o,".baz.base"),o.appendText(", to override this behavior.")})).addMultipleText(o=>{this.bind(o,"treatAsAttachmentExtensions")}),new me(this.containerEl).setName("Timeout in seconds").setDesc(createFragment(o=>{o.appendText("The timeout in seconds for all operations."),o.createEl("br"),o.appendText("If "),ee(o,"0"),o.appendText(" is set, the operations execution timeout is disabled.")})).addNumber(o=>{o.setMin(0),this.bind(o,"timeoutInSeconds")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function H2(){let e={};for(let n=1;n<=10;n++){let i=(n/10).toFixed(1);e[i]=i}return e}r(H2,"generateJpegQualityOptions");function ac(t){return t.replaceAll(" ",ka)}r(ac,"showWhitespaceCharacter");var G2=/Pasted image (?<Timestamp>\d{14})/,q2="YYYYMMDDHHmmss",j2=10,lc="__IMPORT_FILES__",Ca=class extends ss{static{r(this,"Plugin")}arrayBufferFileStatMap=new WeakMap;currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;isMarkdownViewPatched=!1;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new Us(this)}createSettingsTab(){return new Aa(this)}async onLayoutReady(){await super.onLayoutReady(),ze.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),zt(this,this.app.vault,{getAvailablePath:r(()=>this.getAvailablePath.bind(this),"getAvailablePath"),getAvailablePathForAttachments:r(e=>{let n=this;return Object.assign(i,{extended:this.getAvailablePathForAttachments.bind(this)});function i(o,a,l){return e.call(n.app.vault,o,a,l)}},"getAvailablePathForAttachments"),getConfig:r(e=>n=>this.getConfig(e,n),"getConfig")}),Ea.webUtils&&zt(this,Ea.webUtils,{getPathForFile:r(e=>n=>this.getPathForFile(n,e),"getPathForFile")}),zt(this,this.app.fileManager,{generateMarkdownLink:r(e=>(n,i,o,a)=>this.generateMarkdownLink(e,n,i,o,a),"generateMarkdownLink")}),zt(this,al(this.app.shareReceiver),{importFiles:r(e=>n=>this.importFiles(e,n),"importFiles")}),this.registerPopupDocumentDomEvent("change",this.handleInputFileChange.bind(this),{capture:!0}),await this.handleActiveLeafChange(this.app.workspace.getLeavesOfType(ui.Markdown)[0]??null),this.isMarkdownViewPatched||this.registerEvent(this.app.workspace.on("active-leaf-change",Qe(this.handleActiveLeafChange.bind(this))))}async onloadImpl(){await super.onloadImpl(),np(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:r(n=>Qn(this,n),"isNote"),isPathIgnored:r(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:r(e=>Cp(this,e),"checkCallback"),id:"collect-attachments-current-note",name:"Collect attachments in current note"}),this.addCommand({checkCallback:r(e=>Ep(this,e),"checkCallback"),id:"collect-attachments-current-folder",name:"Collect attachments in current folder"}),this.addCommand({callback:r(()=>{xp(this)},"callback"),id:"collect-attachments-entire-vault",name:"Collect attachments in entire vault"}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),zt(this,this.app,{saveAttachment:r(()=>(e,n,i)=>this.saveAttachment(e,n,i),"saveAttachment")}),this.addChild(new ya),this.registerEvent(this.app.workspace.on("file-open",Qe(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",Qe(this.handleRename.bind(this)))),this.registerEvent(this.app.workspace.on("receive-text-menu",this.handleReceiveTextMenu.bind(this))),this.registerEvent(this.app.workspace.on("receive-files-menu",this.handleReceiveFilesMenu.bind(this)))}async fileArrayBuffer(e,n){let i=await e.call(n);if(this.app.vault.adapter instanceof Rt.FileSystemAdapter){let o=Ea.webUtils.getPathForFile(n);if(await this.setFileStat(i,o))return i}return this.arrayBufferFileStatMap.set(i,{ctime:0,mtime:n.lastModified,size:n.size}),i}generateMarkdownLink(e,n,i,o,a){let l=e.call(this.app.fileManager,n,i,o,a);if(!this.settings.markdownUrlFormat)return l;let c=this.pathMarkdownUrlMap.get(n.path);return c?(ku(l)&&(l=yu({app:this.app,linkStyle:gu.Markdown,originalLink:l,sourcePathOrFile:i,targetPathOrFile:n})),bu(l)?l.replace(/\]\(<.+?>\)/,`](<${c}>)`):l.replace(/\]\(.+?\)/,`](${Ci(c)})`)):l}getAvailablePath(e,n){let i=0;for(;;){let o=Dt(i===0?e:`${e}${this.settings.duplicateNameSeparator}${String(i)}`,n);if(!Un(this.app,o,!0))return o;i++}}async getAvailablePathForAttachments(e){let{attachmentFileExtension:n,notePathOrFile:i,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:a}=e,{attachmentFileBaseName:l,attachmentFileContent:c,attachmentFileStat:f,shouldSkipGeneratedAttachmentFileName:p}=e;if(l===dn){c??=new ArrayBuffer(0);let w=Math.trunc(Date.now());f??={ctime:w,mtime:w,size:0}}let h=Pe(this.app,i);if(l.startsWith(lc)&&(l=wr(l,lc),p=!0),h&&this.settings.isPathIgnored(h.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(l,n,h);let g;if(!h||!Qn(this,h))g=await dl({app:this.app,attachmentFileBaseName:l,attachmentFileExtension:n,notePathOrFile:i,shouldSkipDuplicateCheck:o??!1,shouldSkipMissingAttachmentFolderCreation:a??!0});else{let w=Dt(l,n),y=await Oi(this,h.path,w,c,f),E;if(p)E=w;else{let F=await Br(this,new ze({app:this.app,attachmentFileContent:c,attachmentFileStat:f,noteFilePath:h.path,originalAttachmentFileName:w}));E=Dt(F,n)}let x=ve(y,E);if(o)g=x;else{let F=ye(x),C=Te(x,n?`.${n}`:"");g=this.app.vault.getAvailablePath(ve(F,C),n)}}if(!a){let w=kt(g);await this.app.vault.exists(w)||(await Ko(this.app,w),this.settings.emptyAttachmentFolderBehavior===at.Keep&&await this.app.vault.create(ve(w,".gitkeep"),""))}return g}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let i=e;return i.path?i.path:n(e)}async handleActiveLeafChange(e){if(this.isMarkdownViewPatched||!e||e.view.getViewType()!==ui.Markdown)return;await e.loadIfDeferred();let n=e.view,i=this;zt(this,al(n.editMode.clipboardManager),{insertFiles:r(o=>r(function(l){return i.insertFiles(o,this,l)},"insertFilesPatched"),"insertFiles")}),this.isMarkdownViewPatched=!0}handleFileMenu(e,n){n instanceof Rt.TFolder&&e.addItem(i=>{i.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>bs(this,n,this.abortSignal))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await Oi(this,e.path,dn))}handleInputFileChange(e){if(!(e.target instanceof HTMLInputElement)||e.target.type!=="file")return;let n=this;for(let i of e.target.files??[])zt(this,i,{arrayBuffer:r(o=>r(function(){return n.fileArrayBuffer(o,this)},"arrayBufferPatched"),"arrayBuffer")})}handleReceiveFilesMenu(e,n){this.handleReceiveMenuItemClick(e,i=>n.map(a=>this.app.fileManager.generateMarkdownLink(a,i.path)).join(`
`))}handleReceiveMenuItemClick(e,n){let i=this.app,o=e.items.find(l=>l instanceof Rt.MenuItem&&!!l.iconEl.querySelector(".lucide-file"));o&&(o.callback=a);function a(){let l=i.workspace.getActiveViewOfType(Rt.MarkdownView);if(!l?.file)return;let c=n(l.file);l.editor.replaceSelection(c)}r(a,"callback")}handleReceiveTextMenu(e,n){this.handleReceiveMenuItemClick(e,()=>n)}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let i of n){let o=window.Capacitor.convertFileSrc(i.uri),l=await(await fetch(o)).arrayBuffer(),c=new ze({app:this.app,attachmentFileContent:l,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:i.name}),f=await Br(this,c),p=Ue(i.name).slice(1);i.name=lc+Dt(f,p)}return e.call(this.app.shareReceiver,n)}async insertFiles(e,n,i){for(let o of i){let a=await o.data;await this.setFileStat(a,o.filepath)}return e.call(n,i)}async saveAttachment(e,n,i){let o=this.app.workspace.getActiveFile();if(!o||this.settings.isPathIgnored(o.path))return await this.saveAttachmentCore(e,n,i);let a=!1,l=G2.exec(e);if(l){let p=l.groups?.Timestamp;if(p){let h=(0,uc.default)(p,q2);h.isValid()&&(0,uc.default)().diff(h,"seconds")<j2&&(a=!0)}}a&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",i=await Tf(new Blob([i],{type:"image/png"}),this.settings.jpegQuality));let c=!1;switch(this.settings.attachmentRenameMode){case"All":c=!0;break;case"None":break;case"Only pasted images":c=a;break;default:throw new Error("Invalid attachment rename mode")}c&&(e=await Br(this,new ze({app:this.app,attachmentFileContent:i,attachmentFileStat:this.arrayBufferFileStatMap.get(i),noteFilePath:o.path,originalAttachmentFileName:Dt(e,n)})));let f=await this.saveAttachmentCore(e,n,i);if(this.settings.markdownUrlFormat){let p=await new ze({app:this.app,attachmentFileContent:i,attachmentFileStat:this.arrayBufferFileStatMap.get(i),generatedAttachmentFileName:f.name,generatedAttachmentFilePath:f.path,noteFilePath:o.path,originalAttachmentFileName:Dt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(f.path,p)}else this.pathMarkdownUrlMap.delete(f.path);return f}async saveAttachmentCore(e,n,i){let o=this.app.workspace.getActiveFile(),a=this.arrayBufferFileStatMap.get(i),l=await this.getAvailablePathForAttachments({attachmentFileBaseName:e,attachmentFileContent:i,attachmentFileExtension:n,attachmentFileStat:a,notePathOrFile:o,shouldSkipDuplicateCheck:!1,shouldSkipGeneratedAttachmentFileName:!0,shouldSkipMissingAttachmentFolderCreation:!1});return await this.app.vault.createBinary(l,i,Of({ctime:a?.ctime?Math.trunc(a.ctime):void 0,mtime:a?.mtime?Math.trunc(a.mtime):void 0}))}async setFileStat(e,n){if(!n)return!1;if(this.app.vault.adapter instanceof Rt.FileSystemAdapter){let i=await this.app.vault.adapter.fsPromises.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:i.ctimeMs,mtime:i.mtimeMs,size:i.size}),!0}if(this.app.vault.adapter instanceof Rt.CapacitorAdapter){let i=await this.app.vault.adapter.fs.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:i.ctime??0,mtime:i.mtime??0,size:e.byteLength}),!0}return!1}};var K2=Ca;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */